(()=>{var e,t={243:(e,t,l)=>{"use strict";const n=window.wp.blocks,a=window.wp.components,o=window.ReactJSXRuntime;function i(){return(0,o.jsxs)(a.SVG,{role:"img",viewBox:"0 0 80 80",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",children:[(0,o.jsx)("style",{children:"\n\t\t\t\t.am-lottieplayer-path {\n\t\t\t\t\tfill: url(#a)\n\t\t\t\t}\n\t\t\t\t.block-editor-block-toolbar .am-lottieplayer-path,\n\t\t\t\t.components-panel .am-lottieplayer-path {\n\t\t\t\t\tfill: var(--wp-admin-theme-color-darker-10)\n\t\t\t\t}"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("radialGradient",{cx:".2",cy:"1.07",id:"a",r:"1.2",children:[(0,o.jsx)("stop",{offset:"10%",children:(0,o.jsx)("animate",{attributeName:"stop-color",dur:"12s",repeatCount:"indefinite",values:"#24708f;#e18d4c;#1f374c;#85c6e0;#24708f;"})}),(0,o.jsx)("stop",{offset:"90%",children:(0,o.jsx)("animate",{attributeName:"stop-color",dur:"24s",repeatCount:"indefinite",values:"#85c6e0;#24708f;#e18d4c;#1f374c;#85c6e0;"})})]})}),(0,o.jsx)(a.Path,{className:"am-lottieplayer-path",d:"M60 0H20C9 0 0 9 0 20v39.5C0 71 9 80 20 80h39.5c11 0 20.5-9 20.5-20V20C80 9 71 0 60 0zm4.9 59.7h-7.4V37.1c0-3.2.3-8.2.3-8.2h-.1s-.9 4.7-1.7 7.5l-6.8 23.3h-4l-11-30.2c-.8-2.2-2-5.8-2-5.8h-.1s-1.1 3.4-1.9 5.8L18.7 59.7H15l15-39.4h4.2l11.4 30c.3-1.4 1.2-6.1 2.4-10.2l5.6-19.8H65v39.4z"})]})}const s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"gb/lottieplayer","title":"AM LottiePlayer","description":"Play Lottie animations on your WordPress website.","keywords":["animation","gif","motion","vector","SVG","Lottie","dotLottie"],"category":"media","supports":{"align":true,"ariaLabel":true,"anchor":true,"html":false,"shadow":true,"spacing":{"margin":true,"padding":true}},"textdomain":"am-lottieplayer","attributes":{"align":{"enum":["center","full","none","left","right","wide"],"default":"none"},"alt":{"type":"string","default":""},"autoplay":{"type":"boolean"},"background":{"type":"string","default":"transparent"},"controls":{"type":"boolean","default":true},"clickEvent":{"type":"boolean","default":false},"direction":{"type":"number","default":1},"height":{"type":"number","default":null},"hover":{"type":"boolean","default":false},"id":{"type":"string"},"intermission":{"type":"number"},"loop":{"type":"boolean"},"mode":{"enum":["bounce","normal"],"default":"normal"},"mouseout":{"type":"string","default":"stop"},"objectFit":{"type":"string","default":"contain"},"once":{"type":"boolean","default":false},"renderer":{"enum":["svg"],"default":"svg"},"simple":{"type":"boolean","default":true},"scrollEvent":{"type":"boolean","default":false},"scrollDelay":{"type":"number","default":null},"speed":{"type":"number","default":1},"src":{"type":"string","source":"attribute","selector":"dotlottie-player","attribute":"src","default":"","__experimentalRole":"content"},"subframe":{"type":"boolean","default":true},"width":{"type":"number","default":null}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),r=window.wp.blockEditor,c=window.wp.a11y,d=window.wp.data,u=window.wp.dom,p=window.wp.element,m=window.wp.i18n,h=window.wp.primitives,x=(0,o.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(h.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})});var g=l(500),b=l.n(g);function f(e){return(0,o.jsx)(a.Notice,{className:"am-lottieplayer-notice",status:"error",children:e})}const y=window.wp.blob,v=e=>/^(?:https?:\/\/)?(?:[a-z0-9-]+\.)+[a-z]{2,}(?:\/\S*)?$/i.test(e),j=e=>{const t=(0,u.__unstableStripHTML)(e);setTimeout((()=>{f(t)}),1e3)};function _({attributes:e,setAttributes:t}){const[l,n]=(0,p.useState)({externalURL:e.src||"",mediaId:Number(e.id)}),s=(0,p.useRef)(null),u=(0,d.useSelect)((e=>{try{const{getSettings:t}=e("core/block-editor");return t().mediaUpload}catch(e){console.error(e)}}),[]),h=["application/json","application/zip"],g=(e,l)=>{l(),(({alt:e,id:l,url:a})=>{a?(n((e=>({...e,mediaId:l}))),t({alt:e,id:l.toString(),src:a})):t({id:void 0,src:void 0})})(e),(0,c.speak)((0,m.__)("The media file has been replaced"))},f=e=>{"ArrowDown"===e.key&&(e.preventDefault(),(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLButtonElement)&&e.target.click())};return(0,p.useEffect)((()=>{v(l.externalURL)&&(l.externalURL.endsWith(".lottie")||l.externalURL.endsWith(".json"))&&t({src:l.externalURL})}),[l.externalURL,t]),(0,o.jsx)(a.Dropdown,{contentClassName:"block-editor-media-replace-flow__options",renderContent:({onClose:t})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.NavigableMenu,{className:"block-editor-media-replace-flow__media-upload-menu",children:(0,o.jsxs)(r.MediaUploadCheck,{children:[(0,o.jsx)(r.MediaUpload,{allowedTypes:h,multiple:!1,value:l.mediaId,render:({open:e})=>(0,o.jsx)(a.MenuItem,{icon:(0,o.jsx)(r.BlockIcon,{icon:i}),onClick:e,children:(0,m.__)("Open Media Library")}),onSelect:e=>{g(e,t)}}),(0,o.jsx)(a.FormFileUpload,{accept:".lottie,.json",render:({openFileDialog:e})=>(0,o.jsx)(a.MenuItem,{icon:x,onClick:()=>{e()},children:(0,m.__)("Upload")}),onChange:e=>{(({target:e},t)=>{try{if(!u)throw new Error("Media Upload function is not set");const{files:l}=e;u({allowedTypes:h,filesList:l,onError:j,onFileChange:([e])=>{g(e,t)}})}catch(e){console.error(e)}})(e,t)}})]})}),(0,o.jsxs)("form",{className:b()("block-editor-media-flow__url-input",{"has-siblings":Boolean(u)}),children:[(0,o.jsx)("span",{className:"block-editor-media-replace-flow__image-url-label",children:(0,m.__)("Current media URL:")}),(0,o.jsx)(r.__experimentalLinkControl,{settings:[],showSuggestions:!1,value:{url:e.src},onChange:e=>{n((t=>({...t,externalURL:e}))),s.current?.focus()}})]})]}),renderToggle:({isOpen:e,onToggle:t})=>(0,o.jsx)(a.ToolbarButton,{"aria-expanded":e,"aria-haspopup":"true",ref:s,onClick:t,onKeyDown:f,children:(0,m.__)("Replace")})})}function w({attributes:e,setAttributes:t}){return(0,o.jsx)(r.BlockControls,{children:(0,o.jsx)(_,{attributes:e,setAttributes:t})})}function C(){return(0,o.jsxs)("a",{rel:"noreferrer",target:"_blank",href:(0,m.__)("https://www.aarstein.media/en/am-lottieplayer/pro","am-lottieplayer"),style:{backgroundColor:"var(--wp-admin-theme-color)",borderRadius:"1.5em",color:"white",display:"inline-block",fontSize:".75rem",padding:".5em 1em",textDecoration:"none",textTransform:"none"},children:[(0,o.jsx)("strong",{children:"PRO"})," ",(0,m.__)("feature","am-lottieplayer")]})}function k(){return(0,o.jsxs)("a",{rel:"noreferrer",target:"_blank",href:(0,m.__)("https://www.aarstein.media/en/am-lottieplayer/pro","am-lottieplayer"),children:[(0,m.__)("Read about additional features in AM LottiePlayer PRO","am-lottieplayer"),(0,o.jsx)("sup",{style:{verticalAlign:"super"},children:(0,o.jsx)("span",{className:"dashicons dashicons-external",style:{fontSize:"1em"}})})]})}const S=({attributes:e,setAttributes:t})=>{const{alt:l}=e;return(0,o.jsxs)(r.InspectorAdvancedControls,{children:[(0,o.jsx)(a.SelectControl,{disabled:!0,help:(0,o.jsx)(k,{}),value:"svg",label:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"pro-feature",style:{marginRight:"1em"},children:(0,m.__)("Renderer")}),(0,o.jsx)(C,{})]}),options:[{label:"SVG",value:"svg"},{label:"Canvas",value:"canvas"}],onChange:()=>{console.warn("This feature is only available in the premium version")}}),(0,o.jsx)(a.TextareaControl,{label:(0,m.__)("Description","am-lottieplayer"),value:l,help:(0,m.__)("Describe the animation. This is helpful for screen readers and search engines.","am-lottieplayer"),onChange:e=>{t({alt:e})}})]})},A=e=>{(({ctrlKey:e,key:t,metaKey:l,shiftKey:n})=>Boolean(n||"End"===t||"Home"===t||"Backspace"===t||"Tab"===t||"Enter"===t||"Delete"===t||(e||l)&&("a"===t||"c"===t||"v"===t||"x"===t||"z"===t||"t"===t||"r"===t)))(e)||(({key:e})=>Number(e)>=0&&Number(e)<=9)(e)||e.preventDefault()};function L({disabled:e,id:t="",onChange:l,placeholder:n="",title:i,value:s=""}){return(0,o.jsx)(a.BaseControl,{className:"lottie-number-wrapper",help:i,id:t,children:(0,o.jsx)(a.TextControl,{disabled:e,placeholder:n,value:s,onKeyDown:A,onChange:e=>{l(e?Number(e):void 0)}})})}function N({disabled:e,id:t="",onChange:l,subTitle:n,title:i,value:s=!1}){return(0,o.jsxs)(a.BaseControl,{className:"lottie-switch-label",help:n,id:t,children:[(0,o.jsx)(a.BaseControl.VisualLabel,{children:i}),(0,o.jsx)(a.FormToggle,{disabled:e,checked:s,onChange:()=>l(!s)})]})}const R=(0,p.createContext)({animationContext:{animations:[],player:null},setAnimationContext:e=>e}),P=()=>(0,p.useContext)(R);function F({children:e}){const[t,l]=(0,p.useState)({animations:[],player:null});return(0,o.jsx)(R.Provider,{value:{animationContext:t,setAnimationContext:l},children:e})}const B="am-lottieplayer",T=(0,m.__)("This feature is only available in the premium version",B),E=({attributes:e,setAttributes:t})=>{const{autoplay:l,controls:n,direction:i,intermission:s,loop:r,segment:c,speed:d,subframe:u}=e,{animationContext:{animations:h=[],player:x}}=P(),[g,b]=(0,p.useState)({hasMultipleAnimations:!1,totalFrames:0});return(0,p.useEffect)((()=>{var e;x&&b({hasMultipleAnimations:h.length>1,totalFrames:Number(null!==(e=x.getLottie()?.totalFrames)&&void 0!==e?e:0)})}),[h.length,x]),(0,o.jsx)(a.Panel,{children:(0,o.jsxs)(a.PanelBody,{initialOpen:!0,className:"am-lottieplayer-settings",title:(0,m.__)("Animation Settings",B),children:[g.hasMultipleAnimations&&(0,o.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,o.jsx)("p",{children:(0,o.jsx)(C,{})}),(0,o.jsx)("p",{children:(0,m.__)("This file contains multiple animations. To control each of them individually you need to upgrade to AM LottiePlayer PRO.",B)})]}),(0,o.jsx)(N,{id:"am-lottieplayer-controls-settings",title:(0,m.__)("Show controls",B),value:Boolean(n),onChange:e=>{t({controls:e})}}),(0,o.jsx)(N,{id:"am-lottieplayer-autoplay-settings",title:(0,m.__)("Autoplay",B),value:Boolean(l),onChange:e=>{t({autoplay:e})}}),(0,o.jsx)(N,{id:"am-lottieplayer-loop-settings",title:(0,m.__)("Loop",B),value:Boolean(r),onChange:e=>{t({loop:e})}}),(0,o.jsx)(N,{disabled:!0,id:"am-lottieplayer-playmode-settings",value:!1,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"pro-feature",style:{marginRight:"1em"},children:(0,m.__)("Boomerang",B)}),(0,o.jsx)(C,{})]}),onChange:()=>{console.warn(T)}}),(0,o.jsx)(N,{id:"am-lottieplayer-reverse-settings",title:(0,m.__)("Reverse",B),value:-1===i,onChange:e=>{t({direction:e?-1:1})}}),(0,o.jsx)(N,{id:"am-lottieplayer-subframe-settings",title:(0,m.__)("Subframe",B),value:Boolean(u),subTitle:(0,m.__)("Makes the animation smoother, at the cost of RAM usage",B),onChange:e=>{t({subframe:e})}}),(0,o.jsx)(a.RangeControl,{label:(0,m.__)("Speed",B),max:5,min:.5,step:.5,value:d,onChange:e=>{t({speed:e})}}),(0,o.jsxs)(a.BaseControl.VisualLabel,{children:[(0,o.jsx)("p",{children:(0,o.jsx)(C,{})}),(0,o.jsx)("span",{className:"pro-feature",children:(0,m.__)("Play only part of the animation",B)})]}),(0,o.jsxs)(a.PanelRow,{className:"lottie-segment",children:[(0,o.jsx)(L,{disabled:!0,id:"am-lottieplayer-segment-in",placeholder:"1",title:(0,m.__)("First frame",B),value:c?.[0],onChange:()=>{console.warn(T)}}),(0,o.jsx)(L,{disabled:!0,id:"am-lottieplayer-segment-out",placeholder:(g.totalFrames+1).toString(),title:(0,m.__)("Last frame",B),value:c?.[1],onChange:()=>{console.warn(T)}})]}),Boolean(r)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.BaseControl.VisualLabel,{children:(0,m.__)("Intermission",B)}),(0,o.jsx)(a.PanelRow,{className:"lottie-intermission",children:(0,o.jsx)(L,{id:"am-lottieplayer-intermission",placeholder:"0",value:s,title:(0,m.__)("Pause between loops, in miliseconds. 1s = 1000",B),onChange:e=>{t({intermission:e})}})})]}),(0,o.jsx)(k,{})]})})},I=({attributes:e,setAttributes:t})=>{const{background:l}=e;return(0,o.jsx)(a.Panel,{children:(0,o.jsx)(a.PanelBody,{initialOpen:!0,className:"am-lottieplayer-settings",title:(0,m.__)("Background Color","am-lottieplayer"),children:(0,o.jsx)(a.ColorPicker,{color:l,onChange:e=>{t({background:e})}})})})};let M=function(e){return e.Center="center",e.Full="full",e.Left="left",e.None="none",e.Right="right",e.Wide="wide",e}({}),O=function(e){return e.Pause="pause",e.Reverse="reverse",e.Stop="stop",e.Void="void",e}({});const U="am-lottieplayer";function D({attributes:e,setAttributes:t}){const{align:l,fullscreen:n,height:i,objectFit:s="contain",width:r}=e,c=(0,p.useCallback)((e=>l===M.Full||l===M.Wide?"100%":e&&"0"!==e?e:void 0),[l]);return(0,o.jsx)(a.Panel,{children:(0,o.jsxs)(a.PanelBody,{initialOpen:!0,className:"am-lottieplayer-settings",title:(0,m.__)("Dimensions",U),children:[(!n||l!==M.Full)&&(0,o.jsxs)(a.PanelRow,{className:"lottie-dimensions",children:[(0,o.jsx)(L,{id:"am-lottieplayer-width-settings",title:(0,m.__)("Width",U),value:c(r),disabled:l===M.Full||l===M.Wide,placeholder:l===M.Full||l===M.Wide?"100%":"auto",onChange:e=>{t({width:null!=e?e:null})}}),(0,o.jsx)(L,{disabled:n,id:"am-lottieplayer-height-settings",placeholder:"auto",title:(0,m.__)("Height",U),value:i&&"0"!==i.toString()?i:void 0,onChange:e=>{t({height:e})}})]}),(l===M.Full||l===M.Wide)&&(0,o.jsx)(N,{id:"am-lottieplayer-fullscreen-settings",title:(0,m.__)("Fill screen",U),value:n,onChange:e=>{t({fullscreen:e})}}),(0,o.jsx)(a.SelectControl,{label:(0,m.__)("Object fit"),value:s,options:[{label:(0,m.__)("Contain",U),value:"contain"},{label:(0,m.__)("Cover",U),value:"cover"},{label:(0,m.__)("Fill",U),value:"fill"},{label:(0,m.__)("None",U),value:"none"}],onChange:e=>{t({objectFit:e})}})]})})}function V({disabled:e,help:t,id:l="",onChange:n,placeholder:i="",title:s,value:r=""}){return(0,o.jsxs)(a.BaseControl,{className:"lottie-number-wrapper",help:t,id:l,children:[(0,o.jsx)(a.BaseControl.VisualLabel,{children:s}),(0,o.jsx)(a.TextControl,{placeholder:i,value:null!=r?r:"",disabled:e,onChange:e=>{n(e)}})]})}const W="am-lottieplayer",H=({attributes:e,setAttributes:t})=>{const{clickEvent:l,hover:n,mouseout:i,once:s,scrollDelay:r,scrollEvent:c,selector:d}=e;return(0,o.jsx)(a.Panel,{children:(0,o.jsxs)(a.PanelBody,{initialOpen:!0,className:"am-lottieplayer-settings",title:(0,m.__)("Interactions",W),children:[(0,o.jsx)(N,{disabled:!0,id:"am-lottieplayer-animateOnScroll-settings",value:!1,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"pro-feature",style:{marginRight:"1em"},children:(0,m.__)("Animate on scroll",W)}),(0,o.jsx)(C,{})]}),onChange:()=>{console.warn("This feature is only available in the premium version")}}),(0,o.jsx)(N,{id:"am-lottieplayer-click-settings",title:(0,m.__)("Play on click",W),value:l,onChange:e=>{t({clickEvent:e})}}),(0,o.jsx)(N,{id:"am-lottieplayer-hover-settings",title:(0,m.__)("Play on mouseover",W),value:n,onChange:e=>{t({hover:e})}}),n&&(0,o.jsx)(a.SelectControl,{label:(0,m.__)("On mouseout",W),value:i,options:[{label:(0,m.__)("No event",W),value:O.Void},{label:(0,m.__)("Stop",W),value:O.Stop},{label:(0,m.__)("Pause",W),value:O.Pause},{label:(0,m.__)("Reverse",W),value:O.Reverse}],onChange:e=>{t({mouseout:e})}}),(n||l)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V,{disabled:!0,id:"am-lottieplayer-settings",placeholder:"#",value:d?.id,help:(0,m.__)("Anchor tag (id) for an element you want to trigger the animation, either by hover or click.",W),title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"pro-feature",style:{marginRight:"1em"},children:(0,m.__)("Trigger element",W)}),(0,o.jsx)(C,{})]}),onChange:e=>{t({selector:{...d,id:e}})}}),(0,o.jsx)(N,{disabled:!0,id:"am-lottieplayer-selector-settings",value:d?.exclude,title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"pro-feature",style:{display:"block",marginBottom:"1em"},children:(0,m.__)("Apply interaction only to trigger element",W)}),(0,o.jsx)(C,{})]}),onChange:e=>{t({selector:{...d,exclude:e}})}})]}),(0,o.jsx)(N,{id:"am-lottieplayer-scroll-settings",value:c,title:(0,m.__)("Play on scroll, when visible in viewport",W),onChange:e=>{t({scrollEvent:e})}}),c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N,{id:"am-lottieplayer-once-settings",title:(0,m.__)("Play only once",W),value:s,onChange:e=>{t({once:e})}}),(0,o.jsx)(a.RangeControl,{max:50,min:0,step:1,value:null!=r?r:1,label:(0,m.__)("Delay, in 10th of a second",W),onChange:e=>{t({scrollDelay:e})}})]}),(0,o.jsx)(k,{})]})})};function z({attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i}){const s=(0,p.useId)(),{setAnimationContext:c}=P();return(0,p.useEffect)((()=>{c((t=>{var l;return t.animations?.length>0?t:{...t,animations:[{autoplay:e.autoplay,direction:e.direction,id:null!==(l=e.id)&&void 0!==l?l:s,loop:e.loop,mode:e.mode,speed:e.speed}]}}))}),[e.autoplay,e.direction,e.id,e.loop,e.mode,e.speed,s,c]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.InspectorControls,{children:[(0,o.jsx)(E,{attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i}),(0,o.jsx)(H,{attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i}),(0,o.jsx)(S,{attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i})]}),(0,o.jsxs)(r.InspectorControls,{group:"styles",children:[(0,o.jsx)(D,{attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i}),(0,o.jsx)(I,{attributes:e,className:t,clientId:l,context:n,isSelected:a,setAttributes:i})]})]})}const G=e=>{if(e&&"number"==typeof e)return`${e}px`};function K({attributes:e,clientId:t}){var l;const{animationContext:{player:n},setAnimationContext:a}=P(),{getBlockIndex:i}=(0,d.useSelect)((e=>e("core/block-editor")),[]),s=i(t),r=(0,p.useRef)(!0),c=(0,p.useRef)(null),u=(0,p.useCallback)((()=>{n&&n.reload()}),[n]);return(0,p.useEffect)((()=>{c.current&&a((e=>({...e,player:c.current})))}),[a]),(0,p.useEffect)((()=>{n?.addEventListener("ready",(()=>{a((e=>{var t;return{...e,animations:null!==(t=n.getManifest()?.animations)&&void 0!==t?t:[]}}))}))}),[n,a]),(0,p.useEffect)((()=>{r.current,r.current=!1}),[s,e.intermission,e.src,e.objectFit,u]),(0,o.jsx)("dotlottie-player",{simple:!0,autoplay:e.autoplay?"":null,class:"lottie-element",controls:e.controls?"":null,description:e.alt,direction:e.direction,id:e.id,intermission:e.intermission,loop:e.loop?"":null,mode:e.mode,objectfit:e.objectFit,ref:c,speed:e.speed,src:null!==(l=e.src)&&void 0!==l?l:"",subframe:e.subframe?"":null,style:{backgroundColor:e.background,height:G(e.height),margin:"0 auto",width:(m=e.width,e.align===M.Wide||e.align===M.Full?"100%":G(m))}});var m}const $="am-lottieplayer",J=e=>{f(e)};function X({attributes:e,setAttributes:t}){const[l,n]=(0,p.useState)({externalURL:e.src||"",hasDropped:!1});return(0,p.useEffect)((()=>{v(l.externalURL)&&(l.externalURL.endsWith(".lottie")||l.externalURL.endsWith(".json"))&&t({src:l.externalURL})}),[l.externalURL,t]),(0,o.jsx)(r.MediaUploadCheck,{children:(0,o.jsx)(r.MediaPlaceholder,{accept:".lottie, .json",allowedTypes:["application/json","application/zip"],icon:(0,o.jsx)(r.BlockIcon,{icon:i}),labels:{instructions:l.hasDropped?(0,m.__)("Dropped!",$):(0,m.__)("Add Lottie animations from your Media Library to your WordPress post.",$),title:(0,m.__)("AM Lottie Animation",$)},onError:J,onSelect:e=>{try{if(!e.url)return void t({id:void 0,src:void 0});t({alt:e.alt,id:e.id.toString(),src:e.url})}catch(e){console.error(e),f((0,m.__)("Failed to upload Lottie"))}},onHTMLDrop:()=>{n((e=>({...e,hasDropped:!0})))},children:(0,o.jsx)(r.URLInput,{value:l.externalURL,onChange:e=>{n((t=>({...t,externalURL:e})))}})})})}function q({attributes:e,clientId:t,setAttributes:l}){const[n,a]=(0,p.useState)({isPlaceholder:!0});return(0,p.useEffect)((()=>{a((t=>({...t,isPlaceholder:!e.src||""===e.src})))}),[e.src]),(0,o.jsx)(o.Fragment,{children:n.isPlaceholder?(0,o.jsx)(X,{attributes:e,setAttributes:l}):(0,o.jsx)(K,{attributes:e,clientId:t})})}(0,n.registerBlockType)(s,{edit:function({attributes:e,className:t,clientId:l,context:n,isSelected:i,setAttributes:s}){const c=(d=e.id,u=e.src||void 0,!d&&(0,y.isBlobURL)(u));var d,u;return(0,o.jsxs)(F,{children:[(0,o.jsx)(z,{attributes:e,className:t,clientId:l,context:n,isSelected:i,setAttributes:s}),c&&(0,o.jsx)(a.Spinner,{}),(0,o.jsxs)("div",{...(0,r.useBlockProps)(),children:[(0,o.jsx)(q,{attributes:e,className:t,clientId:l,context:n,isSelected:i,setAttributes:s}),(0,o.jsx)(w,{attributes:e,setAttributes:s})]})]})},icon:i,save:function({attributes:e}){var t;const l=r.useBlockProps.save({className:`align${null!==(t=e.align)&&void 0!==t?t:"none"}`});return(0,o.jsx)("figure",{id:e.id,...l,style:{...l.style,backgroundColor:e.background,height:e.height&&0!==e.height?e.height:"auto",width:e.width&&0!==e.width?e.width:"auto"},children:(0,o.jsx)("dotlottie-player",{controls:e.controls?"":null,"data-click":e.clickEvent,"data-delay":e.scrollDelay,"data-direction":e.direction,"data-mouseout":e.mouseout,"data-mouseover":e.hover,"data-once":e.once,"data-scroll":e.scrollEvent,description:e.alt,direction:e.direction,intermission:e.intermission,loop:e.loop?"":null,mode:e.mode,objectfit:e.objectFit,simple:e.simple,speed:e.speed,src:e.src||"",subframe:e.subframe?"":null,autoplay:e.autoplay&&!e.scrollEvent?"":null,class:"lottie-element"+(e.selector?.id?" has-selector":"")})})}})},500:(e,t)=>{var l;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=i(e,o(l)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)n.call(e,l)&&e[l]&&(t=i(t,l));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(l=function(){return a}.apply(t,[]))||(e.exports=l)}()}},l={};function n(e){var a=l[e];if(void 0!==a)return a.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,l,a,o)=>{if(!l){var i=1/0;for(d=0;d<e.length;d++){for(var[l,a,o]=e[d],s=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](l[r])))?l.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={588:0,348:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var a,o,[i,s,r]=l,c=0;if(i.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(r)var d=r(n)}for(t&&t(l);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},l=globalThis.webpackChunkam_lottieplayer=globalThis.webpackChunkam_lottieplayer||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=n.O(void 0,[348],(()=>n(243)));a=n.O(a)})();