!function(){"use strict";var e,t={3:function(){var e=window.wp.blocks,t=window.wp.i18n;function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},n.apply(this,arguments)}var l=window.wp.element,o=window.wp.components,r=window.wp.blockEditor,a=function(){let{attributes:e={},setAttributes:n=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{direction:a,interactivityType:i,mode:c,renderer:s,speed:u}=e;return(0,l.createElement)(r.InspectorAdvancedControls,{key:"inspector"},(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Renderer"),value:s,onChange:e=>n({renderer:e}),options:[{value:"svg",label:(0,t.__)("SVG")},{value:"canvas",label:(0,t.__)("Canvas")}]}),(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Play animation on"),value:i,onChange:e=>{n({interactivityType:e,autoplay:"none"===e})},options:[{value:"none",label:(0,t.__)("Page Load")},{value:"hold",label:(0,t.__)("Hover")},{value:"click",label:(0,t.__)("Click")},{value:"scroll",label:(0,t.__)("Scroll")}]}),(0,l.createElement)(o.RangeControl,{label:(0,t.__)("Speed"),min:.5,max:5,step:.5,value:u,onChange:e=>n({speed:e})}),(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Play mode"),value:c,name:"mode",onChange:e=>n({mode:e}),options:[{value:"normal",label:"Normal"},{value:"bounce",label:"Bounce"}]}),(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Direction"),value:a,onChange:e=>n({direction:e}),options:[{value:"1",label:(0,t.__)("Forward")},{value:"-1",label:(0,t.__)("Backward")}]}))};const i=e=>{switch(e){case"contain":default:return"xMidYMid meet";case"cover":return"xMidYMid slice";case"fill":return"none";case"none":return"xMinYMin slice"}},c=e=>{let{ctrlKey:t,key:n,metaKey:l,shiftKey:o}=e;return o||"End"===n||"Home"===n||"Backspace"===n||"Tab"===n||"Enter"===n||"Delete"===n||(t||l)&&("a"===n||"c"===n||"v"===n||"x"===n||"z"===n||"t"===n||"r"===n)},s=e=>{let{key:t}=e;return t>=0&&t<=9},u=function(){let{onChange:e=(()=>{}),subTitle:t="",title:n="",value:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.createElement)(o.BaseControl,{help:t,className:"lottie-switch-label"},(0,l.createElement)(o.BaseControl.VisualLabel,null,n),(0,l.createElement)(o.FormToggle,{checked:r,onChange:()=>e(!r)}))},p=function(){let{onChange:e=(()=>{}),title:t="",value:n=null,disabled:r=!1,placeholder:a=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e=>{c(e)||!s(e)&&e.preventDefault()};return(0,l.createElement)(o.BaseControl,{help:t,className:"lottie-number-wrapper"},(0,l.createElement)(o.TextControl,{value:n,onChange:t=>e(Number(t)),onKeyDown:i,disabled:r,placeholder:a}))};var d=function(){let{attributes:e={},setAttributes:n=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{align:r,controls:a,height:i,loop:c,objectFit:s,width:d}=e,m=(0,l.useCallback)((e=>"full"===r||"wide"===r?"100%":e&&"0"!==e?e:null),[r]);return(0,l.createElement)(o.Panel,null,(0,l.createElement)(o.PanelBody,{title:(0,t.__)("Animation Settings"),initialOpen:!0},(0,l.createElement)(u,{title:(0,t.__)("Loop"),subTitle:(0,t.__)("Repeat animation"),value:c,onChange:e=>{n({loop:e})}}),(0,l.createElement)(u,{title:(0,t.__)("Controls"),subTitle:(0,t.__)("Display animation controls"),value:a,onChange:e=>{n({controls:e})}}),(0,l.createElement)(o.PanelRow,{className:"lottie-dimensions"},(0,l.createElement)(p,{title:(0,t.__)("Width"),value:m(d),onChange:e=>{n({width:null!=e?e:null})},disabled:"full"===r||"wide"===r,placeholder:"full"===r||"wide"===r?"100%":"auto"}),(0,l.createElement)(p,{title:(0,t.__)("Height"),value:i&&"0"!==i?i:null,onChange:e=>{n({height:null!=e?e:null})},placeholder:"auto"})),(0,l.createElement)(o.SelectControl,{label:(0,t.__)("Object fit"),value:s,onChange:e=>{n({objectFit:e})},options:[{value:"contain",label:(0,t.__)("Contain")},{value:"cover",label:(0,t.__)("Cover")},{value:"fill",label:(0,t.__)("Fill")},{value:"none",label:(0,t.__)("None")}]})))},m=function(){let{attributes:e={},setAttributes:n=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{background:r}=e;return(0,l.createElement)(o.Panel,null,(0,l.createElement)(o.PanelBody,{title:(0,t.__)("Background Color"),initialOpen:!1},(0,l.createElement)(o.ColorPicker,{color:r,onChange:e=>{n({background:e})},enableAlpha:!0})))};function b(){let{attributes:e={},setAttributes:t=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.createElement)(r.InspectorControls,null,(0,l.createElement)(d,{attributes:e,setAttributes:t}),(0,l.createElement)(m,{attributes:e,setAttributes:t}),(0,l.createElement)(a,{attributes:e,setAttributes:t}))}function g(){return(0,l.createElement)("svg",{className:"custom-icon custom-icon-lottie",role:"img",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 80 80"},(0,l.createElement)("path",{d:"M59.8 0H20.2C9.1 0 0 9.1 0 20.2v39.5C0 70.9 9.1 80 20.2 80h39.5C70.9 80 80 70.9 80 59.8V20.2C80 9.1 70.9 0 59.8 0z",fill:"#00ddb3"}),(0,l.createElement)("path",{d:"M60.8 17.9c-13.8 0-18.9 9.8-23 17.7l-2.7 5c-4.3 8.4-7.6 13.5-16 13.5-2.2 0-4 1.7-4 3.9s1.7 4 3.9 4h.1c13.8 0 18.9-9.8 23-17.7l2.7-5c4.3-8.4 7.6-13.5 16-13.5 2.2 0 4-1.7 4-3.9s-1.7-4-3.9-4h-.1z",fill:"#fff"}))}function h(){let{gallery:e=!1,onSelect:t=(()=>{}),render:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=["application/json","application/zip","text/plain"];return(0,l.createElement)(r.MediaUploadCheck,null,(0,l.createElement)(r.MediaUpload,{gallery:e,onSelect:e=>{let{mime:n,url:l}=e;l&&o.includes(n)&&t(l)},allowedTypes:o,render:n}))}function v(){let{attributes:e={},setAttributes:t=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{src:n}=e;return(0,l.createElement)(l.Fragment,null,""!==n&&n?(0,l.createElement)(f,{attributes:e}):(0,l.createElement)(_,{setAttributes:t}))}const _=e=>{let{setAttributes:n=(()=>{})}=e;return(0,l.createElement)("div",{className:"components-placeholder"},(0,l.createElement)("div",{className:"components-placeholder__label"},(0,l.createElement)(g,null)," ",(0,t.__)("Lottie Animation")),(0,l.createElement)("div",{className:"components-placeholder__instructions"},(0,t.__)("Upload Lottie animations to WordPress and add them in Gutenberg.")),(0,l.createElement)("div",{className:"components-placeholder__fieldset"},(0,l.createElement)("form",null,(0,l.createElement)(h,{onSelect:e=>n({src:e}),render:e=>{let{open:n}=e;return(0,l.createElement)(o.Button,{variant:"primary",onClick:n},(0,t.__)("Media Library"))}}))))},f=function(){let{attributes:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{align:t,alt:n,autoplay:o,background:r,controls:a,direction:c,height:s,loop:u,mode:p,objectFit:d,renderer:m,speed:b,src:g,width:h}=e,v=(0,l.useRef)(null),_=(0,l.useRef)(!0),f=(0,l.useCallback)((()=>{v.current.reload(),setTimeout((()=>{var e,t;const n=null==v||null===(e=v.current)||void 0===e||null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector("canvas");"svg"===m&&n&&n.remove()}),100)}),[m]),y=(0,l.useCallback)((e=>"wide"===t||"full"===t?"100%":e&&"number"==typeof e?`${e}px`:null),[t]);return(0,l.useEffect)((()=>{_.current||f(),_.current=!1}),[d,f,m,b]),(0,l.useEffect)((()=>{v.current&&u&&o&&"playing"!==v.current.currentState&&v.current.play()}),[o,u]),(0,l.createElement)("dotlottie-player",{class:"lottie-element",autoplay:o?"":null,controls:a?"":null,description:n,direction:c,loop:u?"":null,mode:p,preserveAspectRatio:i(d),ref:v,renderer:m,speed:b,src:g,style:{width:y(h),height:s&&"number"==typeof s?`${s}px`:null,backgroundColor:r}})};var y=JSON.parse('{"u2":"gb/lottiecover"}');(0,e.registerBlockType)(y.u2,{icon:g,keywords:[(0,t.__)("animation"),(0,t.__)("gif"),(0,t.__)("motion"),(0,t.__)("vector"),(0,t.__)("cover"),(0,t.__)("background")],attributes:{align:{type:"string",default:"none"},alt:{type:"string",default:(0,t.__)("Lottie animation")},autoplay:{type:"boolean",default:!0},controls:{type:"boolean",default:!1},contentPosition:{type:"string"},direction:{type:"number",default:1},focalPoint:{type:"object"},height:{type:"number",default:null},heightUnit:{type:"string",default:"px"},id:{type:"string",default:null},loop:{type:"boolean",default:!0},mode:{type:"string",default:"normal"},objectFit:{type:"string",default:"cover"},overlayColor:{type:"string"},renderer:{type:"string",default:"svg"},speed:{type:"number",default:1},src:{type:"string"},width:{type:"number",default:null}},usesContext:["postId","postType"],supports:{anchor:!0,align:!0,html:!1,spacing:{padding:!0,margin:["top","bottom"],__experimentalDefaultControls:{padding:!0}},color:{text:!1,background:!1},typography:{fontSize:!0,lineHeight:!0,__experimentalFontFamily:!0,__experimentalFontWeight:!0,__experimentalFontStyle:!0,__experimentalTextTransform:!0,__experimentalTextDecoration:!0,__experimentalLetterSpacing:!0,__experimentalDefaultControls:{fontSize:!0}}},edit:function(){let{attributes:e={},setAttributes:a=(()=>{}),toggleSelection:i=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{background:c,height:s,src:u}=e,p=e=>{console.log(e)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(b,{attributes:e,setAttributes:a}),(0,l.createElement)("div",n({},(0,r.useBlockProps)(),{style:{minHeight:s}}),(0,l.createElement)(o.ResizableBox,{enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},minHeight:10,onResizeStop:(e,t,n,l)=>{a({height:parseInt(s+l.height,10)}),i(!0)},onResizeStart:()=>{i(!1)}}),(0,l.createElement)("span",{"aria-hidden":"true",className:"background",style:{backgroundColor:c},hidden:""===u||!u}),(0,l.createElement)(v,{attributes:e,setAttributes:a}),""!==u&&u?(0,l.createElement)(l.Fragment,null,(0,l.createElement)(o.DropZone,{onFilesDrop:p,onHTMLDrop:p,onDrop:p}),(0,l.createElement)(o.DropZone,{onFilesDrop:p,onHTMLDrop:p,onDrop:p,className:"wp-block-gb-lottiecover__inner-container"},(0,l.createElement)(r.RichText,{tagName:"p",placeholder:(0,t.__)("Write title")}))):""))},save:function(e){let{attributes:t}=e;const{align:o,alt:a,autoplay:c,background:s,controls:u,direction:p,height:d,id:m,loop:b,mode:g,objectFit:h,src:v,width:_}=t;return(0,l.createElement)("figure",n({id:m},r.useBlockProps.save({className:`align${o}`}),{style:{backgroundColor:s,height:d&&"0"!==d?d:"auto",width:_&&"0"!==_?_:"auto"}}),(0,l.createElement)("dotlottie-player",{autoplay:c,controls:u,description:a,direction:p,loop:b,mode:g,preserveAspectRatio:i(h),src:v}))}})}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,n,o,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={841:0,560:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],i=n[1],c=n[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(o in i)l.o(i,o)&&(l.m[o]=i[o]);if(c)var u=c(l)}for(t&&t(n);s<a.length;s++)r=a[s],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(u)},n=self.webpackChunklottieplayer=self.webpackChunklottieplayer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[560],(function(){return l(3)}));o=l.O(o)}();