!function(t){"use strict";let e,s,i,r=()=>"",a=()=>!("undefined"!=typeof window&&window.document),n=(s=0,()=>(s++,`${r()}__lottie_element_${s}`));var o,h,l,m,p,d,c,u,f,g,y,b,v,_,w=((o={}).Complete="complete",o.Destroyed="destroyed",o.Error="error",o.Frame="frame",o.Freeze="freeze",o.Load="load",o.Loop="loop",o.Next="next",o.Pause="pause",o.Play="play",o.Previous="previous",o.Ready="ready",o.Rendered="rendered",o.Stop="stop",o),S=((h={}).Contain="xMidYMid meet",h.Cover="xMidYMid slice",h.Initial="none",h.None="xMinYMin slice",h),k=((l={}).Canvas="canvas",l.HTML="html",l.SVG="svg",l);class E{constructor(t,e,s,i){this.type=t,this.currentTime=e,this.totalTime=s,this.direction=i<0?-1:1}}class x{constructor(t,e){this.type=t,this.direction=e<0?-1:1}}class A{constructor(t,e,s,i){this.type=t,this.direction=s,this.currentTime=e,this.totalTime=i}}class M{constructor(t,e,s,i){this.type=t,this.currentLoop=s,this.totalLoops=e,this.direction=i<0?-1:1}}class P{constructor(t,e,s){this.type=t,this.firstFrame=e,this.totalFrames=s}}class C{constructor(t,e){this.type=t,this.target=e}}class T{constructor(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}}class D{constructor(t,e){this.type="configError",this.nativeError=t}}class I{addEventListener(t,e){return this._cbs[t]=this._cbs[t]??[],this._cbs[t].push(e),()=>{this.removeEventListener(t,e)}}removeEventListener(t,e){if(!e){this._cbs[t]=null;return}if(this._cbs[t]){let s=0,i=this._cbs[t].length;for(;s<i;)this._cbs[t][s]===e&&(this._cbs[t].splice(s,1),s--,i--),s++;0===this._cbs[t].length&&(this._cbs[t]=null)}}triggerEvent(t,e){if(!this._cbs[t])return;let{length:s}=this._cbs[t];for(let i=0;i<s;i++)this._cbs[t][i](e)}constructor(){this._cbs={}}}var F=((m={}).Float32="float32",m.Int16="int16",m.Int32="int32",m.Uint8="uint8",m.Uint8c="uint8c",m),N=((p={}).MouseModifier="ms",p.OffsetPathModifier="op",p.PuckerAndBloatModifier="pb",p.RepeaterModifier="rp",p.RoundCornersModifier="rd",p.TrimModifier="tm",p.ZigZagModifier="zz",p),L=((d={}).Canvas="canvas",d.HTML="html",d.SVG="svg",d),$=((c={}).Ellipse="el",c.Fill="fl",c.GradientFill="gf",c.GradientStroke="gs",c.Group="gr",c.Merge="mm",c.NoStyle="no",c.OffsetPath="op",c.Path="sh",c.PolygonStar="sr",c.PuckerBloat="pb",c.Rectangle="rc",c.Repeater="rp",c.RoundedCorners="rd",c.Stroke="st",c.Transform="tr",c.Trim="tm",c.Twist="tw",c.Unknown="ms",c.ZigZag="zz",c),V=((u={}).TransformEffect="transformEffect",u),z=((f={}).MultiDimensional="multidimensiional",f.Shape="shape",f.TextSelector="textSelector",f.Transform="transform",f.UniDimensional="unidimensional",f);let R={1:"butt",2:"round",3:"square"},O={1:"miter",2:"round",3:"bevel"},B={},q=t=>{if(!B[t])throw Error("Could not get renderer");return B[t]},j=()=>{if(B.canvas)return L.Canvas;let t=Object.keys(B),{length:e}=t;for(let s=0;s<e;s++)if(B[t[s]])return t[s];return L.SVG},G={default:150},H=()=>G.default,W=!1,U=()=>W,Y={current:!0},X=()=>Y.current,J="",Z=()=>J,K="",Q=()=>K;class tt{constructor(t,e,s,i,r){let a=e,n=s;r&&th(t,a)&&(a=tz(t,i,1/3)),r&&th(n,i)&&(n=tz(t,i,2/3));let o=tB(t[0],a[0],n[0],i[0]),h=tB(t[1],a[1],n[1],i[1]);this.a=[o[0],h[0]],this.b=[o[1],h[1]],this.c=[o[2],h[2]],this.d=[o[3],h[3]],this.points=[t,a,n,i]}boundingBox(){let t=this.bounds();return{bottom:t.y.max,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2,height:t.y.max-t.y.min,left:t.x.min,right:t.x.max,top:t.y.min,width:t.x.max-t.x.min}}bounds(){return{x:this._extrema(this,0),y:this._extrema(this,1)}}derivative(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]}inflectionPoints(){let t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(ta(t))return[];let e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,s=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(s<0)return[];let i=Math.sqrt(s);return ta(i)?i>0&&i<1?[e]:[]:[e-i,e+i].filter(t=>t>0&&t<1)}intersections(t,e,s){let i=e,r=s;i=i??2,r=r??7;let a=[];return tN(ti(this,0,1),ti(t,0,1),0,i,a,r),a}normalAngle(t){let e=this.derivative(t);return Math.atan2(e[0],e[1])}point(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]}split(t){if(t<=0)return[tW(this.points[0]),this];if(t>=1)return[this,tW(this.points[this.points.length-1])];let e=tz(this.points[0],this.points[1],t),s=tz(this.points[1],this.points[2],t),i=tz(this.points[2],this.points[3],t),r=tz(e,s,t),a=tz(s,i,t),n=tz(r,a,t);return[new tt(this.points[0],e,r,n,!0),new tt(n,a,i,this.points[3],!0)]}tangentAngle(t){let e=this.derivative(t);return Math.atan2(e[1],e[0])}_extrema(t,e){let s=t.points[0][e],i=t.points[t.points.length-1][e];if(s>i){let t=i;i=s,s=t}let r=tj(3*t.a[e],2*t.b[e],t.c[e]),{length:a}=r;for(let n=0;n<a;n++){if(r[n]<=0||r[n]>=1)continue;let a=t.point(r[n])[e];if(a<s){s=a;continue}a>i&&(i=a)}return{max:i,min:s}}}function te(t,e){let s=(e+1)%t.length();return new tt(t.v[e],t.o[e],t.i[s],t.v[s],!0)}let ts=Math.PI/180,ti=(t,e,s)=>{let i=t.boundingBox();return{bez:t,cx:i.cx,cy:i.cy,height:i.height,t:(e+s)/2,t1:e,t2:s,width:i.width}},tr=(t,e)=>1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e)),ta=t=>1e-5>=Math.abs(t),tn=()=>!("undefined"!=typeof window&&window.document),to=t=>{let e=t.split("\r\n"),s={},{length:i}=e,r=0;for(let t=0;t<i;t++){let i=e[t].split(":");2===i.length&&(s[i[0]]=i[1].trim(),r++)}if(0===r)throw Error("Could not parse markers");return s},th=(t,e)=>tr(t[0],e[0])&&tr(t[1],e[1]),tl=(t,e,s)=>[t[0]+Math.cos(e)*s,t[1]-Math.sin(e)*s],tm=(t,e)=>2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height,tp=(t,e)=>[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]],td=(t,e)=>{let s=t.intersections(e);return(s.length>0&&tr(s[0][0],1)&&s.shift(),s.length>0)?s[0]:null},tc=(t,e)=>{let s=[e[0]-t[0],e[1]-t[1]],i=-(.5*Math.PI);return[Math.cos(i)*s[0]-Math.sin(i)*s[1],Math.sin(i)*s[0]+Math.cos(i)*s[1]]},tu=(t,e,s)=>{let i=0,r=0,a=0,n=Math.floor(6*t),o=6*t-n,h=s*(1-e),l=s*(1-o*e),m=s*(1-(1-o)*e);switch(n%6){case 0:i=s,r=m,a=h;break;case 1:i=l,r=s,a=h;break;case 2:i=h,r=s,a=m;break;case 3:i=h,r=l,a=s;break;case 4:i=m,r=h,a=s;break;case 5:i=s,r=h,a=l}return[i,r,a]},tf=(t,e,s)=>t*(1-s)+e*s,tg=(t,e,s)=>{let i=Math.atan2(e[0]-t[0],e[1]-t[1]);return[tl(t,i,s),tl(e,i,s)]},ty=(t,e,s,i)=>{let r=[t[0],t[1],1],a=[e[0],e[1],1],n=[s[0],s[1],1],o=[i[0],i[1],1],h=tp(tp(r,a),tp(n,o));return ta(h[2])?null:[h[0]/h[2],h[1]/h[2]]},tb=(t,e)=>{let s,i=(s=tg(t.points[0],t.points[1],e))[0],r=s[1],a=(s=tg(t.points[1],t.points[2],e))[0],n=s[1],o=(s=tg(t.points[2],t.points[3],e))[0],h=s[1],l=ty(i,r,a,n);l=l??r;let m=ty(o,h,a,n);return new tt(i,l,m=m??o,h)},tv=(t,e)=>Math.hypot(t[0]-e[0],t[1]-e[1]),t_=(t,e)=>{let s=[...t],i=[...e],r=td(t[t.length-1],e[0]);return(r&&(s[t.length-1]=t[t.length-1].split(r[0])[0],i[0]=e[0].split(r[1])[1]),t.length>1&&e.length>1&&(r=td(t[0],e[e.length-1])))?[[t[0].split(r[0])[0]],[e[e.length-1].split(r[1])[1]]]:[s,i]},tw=(t,e,s)=>{let i=Math.max(t,e,s),r=Math.min(t,e,s),a=i-r,n=0;switch(i){case r:n=0;break;case t:n=(e-s+6*(e<s)*a)/(6*a);break;case e:n=(s-t+2*a)/(6*a);break;case s:n=(t-e+4*a)/(6*a)}return[n,0===i?0:a/i,i/255]},tS=t=>{let e=t.bez.split(.5);return[ti(e[0],t.t1,t.t),ti(e[1],t.t,t.t2)]},tk=(t,e)=>{let s=tw(255*t[0],255*t[1],255*t[2]);return s[2]+=e,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),tu(s[0],s[1],s[2])},tE=(t,e)=>{let s=tw(255*t[0],255*t[1],255*t[2]);return s[0]+=e/360,s[0]>1?s[0]-=1:s[0]<0&&s[0]++,tu(s[0],s[1],s[2])},tx=(t,e)=>{let s=tw(255*t[0],255*t[1],255*t[2]);return s[1]+=e,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),tu(s[0],s[1],s[2])},tA=(t,e,s,i)=>{if(0===e)return"";let r=t.o,a=t.i,n=t.v,o,h=` M${i.applyToPointStringified(n[0][0],n[0][1])}`;for(o=1;o<e;o++)h+=` C${i.applyToPointStringified(r[o-1][0],r[o-1][1])} ${i.applyToPointStringified(a[o][0],a[o][1])} ${i.applyToPointStringified(n[o][0],n[o][1])}`;return s&&e&&(h+=` C${i.applyToPointStringified(r[o-1][0],r[o-1][1])} ${i.applyToPointStringified(a[0][0],a[0][1])} ${i.applyToPointStringified(n[0][0],n[0][1])}z`),h},tM=(i=0,()=>(i++,`${Q()}__lottie_element_${i}`)),tP=t=>tn()?null:document.createElementNS("http://www.w3.org/2000/svg",t),tC=t=>tn()?null:document.createElement(t),tT=t=>{let e=t[0]*ts,s=t[1]*ts,i=t[2]*ts,r=Math.cos(e/2),a=Math.cos(s/2),n=Math.cos(i/2),o=Math.sin(e/2),h=Math.sin(s/2),l=Math.sin(i/2);return[o*h*n+r*a*l,o*a*n+r*h*l,r*h*n-o*a*l,r*a*n-o*h*l]},tD=(t=16)=>({0:"source-over",1:"multiply",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light"})[t]||"",tI=(t,e)=>{let s=0===e?t.length()-1:e-1,i=(e+1)%t.length(),r=tc(t.v[s],t.v[i]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])},tF=()=>"undefined"!=typeof navigator,tN=(t,e,s,i,r,a)=>{if(!tm(t,e))return;if(s>=a||t.width<=i&&t.height<=i&&e.width<=i&&e.height<=i)return void r.push([t.t,e.t]);let n=tS(t),o=tS(e);tN(n[0],o[0],s+1,i,r,a),tN(n[0],o[1],s+1,i,r,a),tN(n[1],o[0],s+1,i,r,a),tN(n[1],o[1],s+1,i,r,a)},tL=t=>!(!(Symbol.iterator in Object(t))||t.length>0&&"number"!=typeof t[0]),t$=()=>!!tF()&&/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent),tV=(t,e,s,i,r)=>{let a=e.points[3],n=s.points[0];if(3===i||th(a,n))return a;if(2===i){let i=-e.tangentAngle(1),r=-s.tangentAngle(0)+Math.PI,o=ty(a,tl(a,i+Math.PI/2,100),n,tl(n,i+Math.PI/2,100)),h=o?tv(o,a):tv(a,n)/2,l=tl(a,i,2*h*.5519);return t.setXYAt(l[0],l[1],"o",t.length()-1),l=tl(n,r,2*h*.5519),t.setTripleAt(n[0],n[1],n[0],n[1],l[0],l[1],t.length()),n}let o=th(a,e.points[2])?e.points[0]:e.points[2],h=th(n,s.points[1])?s.points[3]:s.points[1],l=ty(o,a,n,h);return l&&tv(l,a)<r?(t.setTripleAt(l[0],l[1],l[0],l[1],l[0],l[1],t.length()),l):a},tz=(t,e,s)=>[tf(t[0],e[0],s),tf(t[1],e[1],s)],tR=t=>{let e=[],{length:s}=t;for(let i=0;i<s;i++){if("duration"in t[i]){e.push(t[i]);continue}let s={duration:t[i].dr,time:t[i].tm};try{s.payload=JSON.parse(t[i].cm)}catch(e){try{s.payload=to(t[i].cm)}catch(e){s.payload={name:t[i].cm}}}e.push(s)}return e},tO=(t,e)=>{let s,i,r,a=t.inflectionPoints();if(0===a.length)return[tb(t,e)];if(1===a.length||tr(a[1],1))return s=(r=t.split(a[0]))[0],i=r[1],[tb(s,e),tb(i,e)];s=(r=t.split(a[0]))[0];let n=(a[1]-a[0])/(1-a[0]),o=(r=r[1].split(n))[0];return i=r[1],[tb(s,e),tb(o,e),tb(i,e)]},tB=(t,e,s,i)=>[-t+3*e-3*s+i,3*t-6*e+3*s,-3*t+3*e,t],tq=t=>{let e;for(let s=1;s<t.length;s++)e=t_(t[s-1],t[s]),t[s-1]=e[0],t[s]=e[1];return t.length>1&&(e=t_(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t},tj=(t,e,s)=>{if(0===t)return[];let i=e*e-4*t*s;if(i<0)return[];let r=-e/(2*t);if(0===i)return[r];let a=Math.sqrt(i)/(2*t);return[r-a,r+a]},tG=(t,e)=>{let s=e[0],i=e[1],r=e[2],a=e[3],n=Math.atan2(2*i*a-2*s*r,1-2*i*i-2*r*r),o=Math.asin(2*s*i+2*r*a),h=Math.atan2(2*s*a-2*i*r,1-2*s*s-2*r*r);t[0]=n/ts,t[1]=o/ts,t[2]=h/ts},tH=(t,e,s,i,r,a,n)=>{let o=s-Math.PI/2,h=s+Math.PI/2,l=e[0]+Math.cos(s)*i*r,m=e[1]-Math.sin(s)*i*r;t.setTripleAt(l,m,l+Math.cos(o)*a,m-Math.sin(o)*a,l+Math.cos(h)*n,m-Math.sin(h)*n,t.length())},tW=t=>new tt(t,t,t,t,!1),tU=(t,e,s)=>{let i=[0,0,0,0],r=t[0],a=t[1],n=t[2],o=t[3],h=e[0],l=e[1],m=e[2],p=e[3],d,c,u,f,g;return(c=r*h+a*l+n*m+o*p)<0&&(c=-c,h=-h,l=-l,m=-m,p=-p),1-c>1e-6?(u=Math.sin(d=Math.acos(c)),f=Math.sin((1-s)*d)/u,g=Math.sin(s*d)/u):(f=1-s,g=s),i[0]=f*r+g*h,i[1]=f*a+g*l,i[2]=f*n+g*m,i[3]=f*o+g*p,i};class tY{constructor(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}addAudio(t){this.audios.push(t)}createAudio(t){return this.audioFactory?this.audioFactory(t):!tn()&&"Howl"in window?new window.Howl({src:[t]}):{isPlaying:!1,play:()=>{this.isPlaying=!0},playing:()=>{throw Error(`${this.constructor.name}: Method playing is not implemented`)},rate:()=>{throw Error(`${this.constructor.name}: Method rate is not implemented`)},seek:()=>{this.isPlaying=!1},setVolume:()=>{throw Error(`${this.constructor.name}: Method setVolume is not implemented`)}}}getVolume(){return this._volume}mute(){this._isMuted=!0,this._updateVolume()}pause(){for(let t of this.audios)t.pause()}resume(){for(let t of this.audios)t.resume()}setAudioFactory(t){this.audioFactory=t}setRate(t){for(let e of this.audios)e.setRate(t)}setVolume(t){this._volume=t,this._updateVolume()}unmute(){this._isMuted=!1,this._updateVolume()}_updateVolume(){let{length:t}=this.audios;for(let e=0;e<t;e++)this.audios[e].volume(!this._isMuted*this._volume)}}function tX(t,e,s,i){let r,a=new XMLHttpRequest;try{a.responseType="json"}catch(t){}a.onreadystatechange=()=>{if(4===a.readyState){if(200===a.status)return void s(r=tJ(a));try{r=tJ(a),s(r)}catch(t){i?.(t)}}};try{a.open("GET",t,!0)}catch(s){a.open("GET",`${e}/${t}`,!0)}a.send()}function tJ(t){let e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&e.includes("json")||t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}function tZ(t){t.__complete||(new t8(t),new t5(t),new t4(t),new t6(t),new t9(t),tK(t.layers,t.assets),function(t,e){if(!t)return;let{length:s}=t;for(let i=0;i<s;i++){if(1!==t[i].t)continue;let{data:s}=t[i];s&&(s.layers=t1(s.refId,e)),tK(t[i].data?.layers??[],e)}}(t.chars??[],t.assets),t.__complete=!0)}function tK(t,e){let{length:s}=t;for(let i=0;i<s;i++)if("ks"in t[i]&&!t[i].completed){if(t[i].completed=!0,t[i].hasMask){if(!t[i].masksProperties)continue;let{length:e}=t[i].masksProperties??[];for(let s=0;s<e;s++){if(t[i].masksProperties?.[s].pt?.k?.i){t0(t[i].masksProperties?.[s].pt?.k);continue}if(!t[i].masksProperties?.[s])continue;let{length:e}=t[i].masksProperties?.[s].pt?.k??[];for(let r=0;r<e;r++)t0(t[i].masksProperties?.[s].pt?.k[r].s?.[0]),t0(t[i].masksProperties?.[s].pt?.k[r].e?.[0])}}switch(t[i].ty){case 0:t[i].layers=t1(t[i].refId,e),tK(t[i].layers,e);break;case 4:tQ(t[i].shapes)}}}function tQ(t=[]){let{length:e}=t;for(let s=e-1;s>=0;s--){if(t[s].ty===$.Group){tQ(t[s].it);continue}if(t[s].ty===$.Path){if(t[s].ks?.k?.i){t0(t[s].ks?.k);continue}let{length:e}=t[s].ks?.k??[];for(let i=0;i<e;i++)t0(t[s].ks?.k[i]?.s?.[0]),t0(t[s].ks?.k[i]?.e?.[0])}}}function t0(t){if(!t)return;let{length:e}=t.i;for(let s=0;s<e;s++)t.i[s][0]+=t.v[s][0],t.i[s][1]+=t.v[s][1],t.o[s][0]+=t.v[s][0],t.o[s][1]+=t.v[s][1]}function t1(t,e){if(!t||!e)return;let s=function(t,e){let s=0,i=e.length;for(;s<i;){if(e[s].id===t)return e[s];s++}return null}(t,e);return s?.layers?s.layers.__used?JSON.parse(JSON.stringify(s.layers)):(s.layers.__used=!0,s.layers):null}function t2(t,e){let s=e?e.split(".").map(Number):[100,100,100];return t[0]>s[0]||!(s[0]>t[0])&&(t[1]>s[1]||!(s[1]>t[1])&&(t[2]>s[2]||!(s[2]>t[2])&&null))}class t3{constructor(t){if(this.minimumVersion=[0,0,0],!t2(this.minimumVersion,t.v))return;this.iterateLayers(t.layers);let{length:e}=t.assets;for(let s=0;s<e;s++){let{layers:e}=t.assets[s];e&&this.iterateLayers(e)}}iterateLayers(t){let{length:e}=t;for(let s=0;s<e;s++)5===t[s].ty&&this.updateTextLayer(t[s])}updateTextLayer(t){throw Error(`${this.constructor.name}: Method updateTextLayer is not implemented`)}}class t5 extends t3{updateTextLayer(t){let e=t.t?.d;t.t?.d&&e&&(t.t.d={k:[{s:e,t:0}]})}constructor(...t){super(...t),this.minimumVersion=[4,4,14]}}class t4{constructor(t){if(this.minimumVersion=[4,7,99],!t.chars||t2(this.minimumVersion,t.v))return;let{length:e}=t.chars;for(let s=0;s<e;s++){let{data:e,t:i}=t.chars[s];e?.shapes&&(tQ(e.shapes),e.ip=0,e.op=99999,e.st=0,e.sr=1,e.ks={a:{a:0,k:[0,0]},o:{a:0,k:100},p:{a:0,k:[0,0]},r:{a:0,k:0},s:{a:0,k:[100,100]}},i||(e.shapes.push({ty:$.NoStyle}),e.shapes[0].it?.push({a:{a:0,k:[0,0]},o:{a:0,k:100},p:{a:0,k:[0,0]},r:{a:0,k:0},s:{a:0,k:[100,100]},sa:{a:0,k:0},sk:{a:0,k:0},ty:$.Transform})))}}}class t6 extends t3{updateTextLayer(t){let e=t.t?.p;e&&("number"==typeof e.a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r}))}constructor(...t){super(...t),this.minimumVersion=[5,7,15]}}class t8 extends t3{iterateLayers(t){let e=t.length;for(let s=0;s<e;s++)4===t[s].ty&&this.iterateShapes(t[s].shapes)}iterateShapes(t){if(!t)return;let{length:e}=t;for(let s=0;s<e;s++){if(t[s].ty===$.Group){this.iterateShapes(t[s].it);continue}if(t[s].ty===$.Fill||t[s].ty===$.Stroke){if(t[s].c?.k&&t[s].c?.k?.[0].i){let{length:e}=t[s].c?.k??[];for(let i=0;i<e;i++)t[s].c?.k?.[i].s&&((t[s].c?.k)[i].s[0]/=255,(t[s].c?.k)[i].s[1]/=255,(t[s].c?.k)[i].s[2]/=255,(t[s].c?.k)[i].s[3]/=255),t[s].c?.k?.[i].e&&((t[s].c?.k)[i].e[0]/=255,(t[s].c?.k)[i].e[1]/=255,(t[s].c?.k)[i].e[2]/=255,(t[s].c?.k)[i].e[3]/=255);continue}(t[s].c?.k)[0]/=255,(t[s].c?.k)[1]/=255,(t[s].c?.k)[2]/=255,(t[s].c?.k)[3]/=255}}}constructor(...t){super(...t),this.minimumVersion=[4,1,9]}}class t9 extends t3{iterateLayers(t){let{length:e}=t;for(let s=0;s<e;s++){if(t[s].hasMask){let e=t[s].masksProperties,{length:i}=e??[];for(let t=0;t<i;t++){if(!e)continue;if(e[t].pt?.k&&!Array.isArray(e[t].pt?.k)){let s=e[t].pt?.k;if(!s||Array.isArray(s))continue;s.c=!!e[t].cl;continue}let{length:s}=e[t].pt?.k??[];for(let i=0;i<s;i++){let s=(e[t].pt?.k)[i].s;s&&(s[0].c=!!e[t].cl);let r=(e[t].pt?.k)[i].e;r&&(r[0].c=!!e[t].cl)}}}4===t[s].ty&&this.completeClosingShapes(t[s].shapes)}}completeClosingShapes(t){let{length:e}=t;for(let s=e-1;s>=0;s--){if(t[s].ty===$.Group){this.completeClosingShapes(t[s].it);continue}if(t[s].ty!==$.Path)continue;if(t[s].ks?.k?.i){(t[s].ks?.k).c=!!t[s].closed;continue}let{length:e}=t[s].ks?.k??[];for(let i=0;i<e;i++)t[s].ks?.k[i]?.s&&((t[s].ks?.k)[i].s[0].c=!!t[s].closed),t[s].ks?.k[i]?.e&&((t[s].ks?.k)[i].e[0].c=!!t[s].closed)}}constructor(...t){super(...t),this.minimumVersion=[4,4,18]}}let t7=1,et,ee="Function not implemented.",es={addEventListener:(t,e,s)=>{throw Error(ee)},dispatchEvent:t=>{throw Error(ee)},onerror:null,onmessage:t=>{throw Error("workerProxy: Method onmessage not implemented")},onmessageerror:null,postMessage:t=>{et({data:t})},removeEventListener:(t,e,s)=>{throw Error(ee)},terminate:()=>{throw Error(ee)}},ei={postMessage:t=>{es.onmessage&&es.onmessage({AT_TARGET:2,bubbles:!1,BUBBLING_PHASE:3,cancelable:!1,cancelBubble:!1,CAPTURING_PHASE:1,composed:!1,composedPath:()=>{throw Error(ee)},currentTarget:null,data:t,defaultPrevented:!1,eventPhase:0,initEvent:(t,e,s)=>{throw Error(ee)},initMessageEvent:(t,e,s,i,r,a,n,o)=>{throw Error(ee)},isTrusted:!1,lastEventId:"",NONE:0,origin:"",ports:[],preventDefault:()=>{throw Error(ee)},returnValue:!1,source:null,srcElement:null,stopImmediatePropagation:()=>{throw Error(ee)},stopPropagation:()=>{throw Error(ee)},target:null,timeStamp:0,type:""})}},er={};function ea(t,s,i){eh();let r=eo(s,i);e?.postMessage({animation:t,id:r,type:"complete"})}function en(t,s,i){eh();let r=eo(s,i);e?.postMessage({fullPath:tn()?t:window.location.origin+window.location.pathname,id:r,path:t,type:"loadData"})}function eo(t,e){t7++;let s=`processId_${t7}`;try{return er[s]={onComplete:t,onError:e},s}catch(t){throw console.error("DataManager}:\n",t),Error("Could not create animation proccess")}}function eh(){e||((e=function(t){if(!tn()&&U()){let e=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"});return new Worker(URL.createObjectURL(e))}return et=t,es}(t=>{if("loadAnimation"===t.data.type)return void tX(t.data.path,t.data.fullPath,e=>{e&&tZ(e),ei.postMessage({id:t.data.id,payload:e,status:"success"})},()=>{ei.postMessage({id:t.data.id,status:"error"})});if("complete"===t.data.type){let{animation:e,id:s}=t.data;tZ(e),ei.postMessage({id:s,payload:e,status:"success"});return}"loadData"===t.data.type&&tX(t.data.path,t.data.fullPath,e=>{ei.postMessage({id:t.data.id,payload:e,status:"success"})},()=>{ei.postMessage({id:t.data.id,status:"error"})})})).onmessage=({data:t})=>{let{id:e,payload:s,status:i}=t,r=er[e];if(er[e]=null,"success"===i)return void r.onComplete(s);r.onError&&r.onError()})}let el=()=>null,em=()=>null;class ep{getComposition(t){let e=0,{length:s}=this.compositions;for(;e<s;){if(this.compositions[e].data&&this.compositions[e].data?.nm===t)return this.compositions[e].data?.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e++}return null}registerComposition(t){this.compositions.push(t)}constructor(){this.compositions=[],this.currentFrame=0}}class ed{constructor(){this._imageLoaded=this.imageLoaded.bind(this),this._footageLoaded=this.footageLoaded.bind(this),this.testImageLoaded=this.testImageLoaded.bind(this),this.createFootageData=this.createFootageData.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[],this.proxyImage=this._createProxyImage()}createFootageData(t){let e={assetData:t,img:null};return en(this.getAssetsPath(t,this.assetsPath,this.path),t=>{t&&(e.img=t),this._footageLoaded()},()=>{this._footageLoaded()}),e}createImageData(t){let e=this.getAssetsPath(t,this.assetsPath,this.path),s=tP("image"),i={assetData:t,img:s};return t$()?this.testImageLoaded(s):s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",()=>{this.proxyImage&&(i.img=this.proxyImage),this._imageLoaded()},!1),s.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this._elementHelper?.append?this._elementHelper.append(s):this._elementHelper?.appendChild(s),i}destroy(){this.imagesLoadedCb=null,this.images.length=0}footageLoaded(){this.loadedFootagesCount++,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}getAsset(t){let e=0,{length:s}=this.images;for(;e<s;){if(this.images[e].assetData===t)return this.images[e].img;e++}return null}imageLoaded(){this.loadedAssets++,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}loadAssets(t,e){this.imagesLoadedCb=e;let{length:s}=t;for(let e=0;e<s;e++)if(!t[e].layers){if((!t[e].t||"seq"===t[e].t)&&this._createImageData){this.totalImages++;let s=this._createImageData(t[e]);s&&this.images.push(s);continue}3===Number(t[e].t)&&(this.totalFootages++,this.images.push(this.createFootageData(t[e])))}}loadedFootages(){return this.totalFootages===this.loadedFootagesCount}loadedImages(){return this.totalImages===this.loadedAssets}setAssetsPath(t){this.assetsPath=t||""}setCacheType(t,e){t===L.SVG?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}setPath(t){this.path=t||""}_createProxyImage(){if(tn())return null;let t=tC(L.Canvas);t.width=1,t.height=1;let e=t.getContext("2d");return e&&(e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1)),t}createImgData(t){let e=this.getAssetsPath(t,this.assetsPath,this.path),s=tC("img"),i={assetData:t,img:s};return s.crossOrigin="anonymous",s.addEventListener("load",this._imageLoaded,!1),s.addEventListener("error",()=>{this.proxyImage&&(i.img=this.proxyImage),this._imageLoaded()},!1),s.src=e,i}getAssetsPath(t,e,s){if(t.e)return t.p||"";if(e){let s=t.p;return s?.indexOf("images/")!==-1&&(s=s?.split("/")[1]),`${e}${s||""}`}let i=s;return i+=t.u??"",i+=t.p??""}testImageLoaded(t){if(tn())return;let e=0,s=setInterval(()=>{(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(s)),e++},50)}}class ec extends I{constructor(){super(),this.wrapper=null,this.autoloadSegments=!1,this.onComplete=null,this.onDestroy=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onSegmentStart=null,this._cbs={},this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=60,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.frameModifier=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=tM(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=X(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=new ep,this.imagePreloader=new ed,this.audioController=new tY,this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new E("drawnFrame",0,0,0),this.expressionsPlugin=el()}adjustSegment(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")}advanceTime(t){if(this.isPaused||!this.isLoaded)return;let e=this.currentRawFrame+t*this.frameModifier,s=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount++,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(s=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&!0!==this.loop)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(s=!0,e=0)):this.setCurrentRawFrameValue(e),s&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}checkLoaded(){!this.isLoaded&&this.renderer.globalData?.fontManager?.isLoaded&&(this.imagePreloader?.loadedImages()||this.renderer.rendererType!==L.Canvas)&&this.imagePreloader?.loadedFootages()&&(this.isLoaded=!0,this.renderer.initItems(),setTimeout(()=>{this.trigger("DOMLoaded")},0),this.gotoFrame(),this.autoplay&&this.play())}checkSegments(t){return this.segments.length>0&&(this.adjustSegment(this.segments.shift()??[0,0],t),!0)}configAnimation(t){try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor((this.animationData.op||1)-(this.animationData.ip||0)),this.firstFrame=Math.round(this.animationData.ip||0)),this.renderer.configAnimation(t),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,void 0!==this.animationData.fr&&(this.frameMult=this.animationData.fr/1e3),this.renderer.searchExtraCompositions(t.assets),this.markers=tR(t.markers??[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}}destroy(t){t&&this.name!==t||(this.renderer.destroy(),this.imagePreloader?.destroy(),this.trigger("destroy"),this._cbs={},this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)}getAssetData(t){let e=0,s=this.assets.length;for(;e<s;){if(t===this.assets[e].id)return this.assets[e];e++}return null}getAssetsPath(t){let e;if(!t)return"";if(t.e)e=t.p||"";else if(this.assetsPath){let s=t.p;s?.indexOf("images/")!==-1&&(s=s?.split("/")[1]),e=this.assetsPath+(s||"")}else e=this.path+(t.u??"")+(t.p??"");return e}getDuration(t){return t?this.totalFrames:this.totalFrames/this.frameRate}getMarkerData(t){for(let e=0;e<this.markers.length;e++)if(this.markers[e].payload?.name===t)return this.markers[e];return null}getPath(){return this.path}getVolume(){return this.audioController.getVolume()}goToAndPlay(t,e,s){if(s&&this.name!==s)return;let i=Number(t);if(isNaN(i)){let e=this.getMarkerData(t);e&&(e.duration?this.playSegments([e.time,e.time+e.duration],!0):this.goToAndStop(e.time,!0))}else this.goToAndStop(i,e,s);this.play()}goToAndStop(t,e,s){if(!s||this.name===s){if(isNaN(Number(t))){let e=this.getMarkerData(t);e&&this.goToAndStop(e.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}}gotoFrame(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")}hide(){this.renderer.hide()}imagesLoaded(){this.trigger("loaded_images"),this.checkLoaded()}includeLayers(t){this.animationData.op&&t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-(this.animationData.ip||0)));let{assets:e,layers:s}=this.animationData,i,r=s.length,a=t.layers,{length:n}=a;for(let t=0;t<n;t++)for(i=0;i<r;){if(s[i].id===a[t].id){s[i]=a[t];break}i++}for((t.chars||t.fonts)&&(this.renderer.globalData?.fontManager?.addChars(t.chars),this.renderer.globalData?.fontManager?.addFonts(t.fonts,this.renderer.globalData.defs)),r=t.assets.length,i=0;i<r;i++)e.push(t.assets[i]);this.animationData.__complete=!1,ea(this.animationData,this.onSegmentComplete)}loadNextSegment(){let{segments:t}=this.animationData;if(!t||0===t.length||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}let e=t.shift();this.timeCompleted=Number(e?.time)*this.frameRate;let s=`${this.path+(this.fileName||"")}_${this.segmentPos}.json`;this.segmentPos++,en(s,this.includeLayers.bind(this),()=>{this.trigger("data_failed")})}loadSegments(){let{segments:t}=this.animationData;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()}mute(t){t&&this.name!==t||this.audioController.mute()}onSegmentComplete(t){this.animationData=t,this.loadNextSegment()}onSetupError(){this.trigger("data_failed")}pause(t){(!t||this.name===t)&&(this.isPaused||(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause()))}play(t){(!t||this.name===t)&&this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))}playSegments(t,e){if(e&&(this.segments.length=0),Array.isArray(t[0])){let{length:e}=t;for(let s=0;s<e;s++)this.segments.push(t[s])}else this.segments.push(t);this.segments.length>0&&e&&this.adjustSegment(this.segments.shift()??[0,0],0),this.isPaused&&this.play()}preloadImages(){this.imagePreloader&&(this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this)))}renderFrame(t){if(this.isLoaded)try{this.expressionsPlugin?.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}}resetSegments(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)}resize(t,e){this.renderer.updateContainerSize("number"==typeof t?t:void 0,"number"==typeof e?e:void 0)}setCurrentRawFrameValue(t){this.currentRawFrame=t,this.gotoFrame()}setData(t,e){try{let s=e;s&&"object"!=typeof s&&(s=JSON.parse(s));let i={animationData:s,wrapper:t},r=t.attributes;i.path=r.getNamedItem("data-animation-path")?.value??r.getNamedItem("data-bm-path")?.value??r.getNamedItem("bm-path")?.value??"";let a=r.getNamedItem("data-anim-type")?.value??r.getNamedItem("data-bm-type")?.value??r.getNamedItem("bm-type")?.value??r.getNamedItem("data-bm-renderer")?.value??r.getNamedItem("bm-renderer")?.value??j();Object.values(L).includes(a)?i.animType=a:i.animType=L.Canvas;let n=r.getNamedItem("data-anim-loop")?.value??r.getNamedItem("data-bm-loop")?.value??r.getNamedItem("bm-loop")?.value??"";"false"===n?i.loop=!1:"true"===n?i.loop=!0:""!==n&&(i.loop=parseInt(n,10));let o=r.getNamedItem("data-anim-autoplay")?.value??r.getNamedItem("data-bm-autoplay")?.value??r.getNamedItem("bm-autoplay")?.value??!0;i.autoplay="false"!==o,i.name=r.getNamedItem("data-name")?.value??r.getNamedItem("data-bm-name")?.value??r.getNamedItem("bm-name")?.value??"";let h=r.getNamedItem("data-anim-prerender")?.value??r.getNamedItem("data-bm-prerender")?.value??r.getNamedItem("bm-prerender")?.value??"";"false"===h&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")}catch(t){throw console.error(`${this.constructor.name}:
`,t),Error(`${this.constructor.name}: Could not set data`)}}setDirection(t,e){e&&this.name!==e||(this.playDirection=t<0?-1:1,this.updaFrameModifier())}setLoop(t){this.loop=t}setParams(t){try{(t.wrapper||t.container)&&(this.wrapper=t.wrapper??t.container??null);let s=L.SVG;t.animType?s=t.animType:t.renderer&&(s=t.renderer);let i=q(s);this.renderer=new i(this,t.rendererSettings),this.imagePreloader?.setCacheType(s,this.renderer.globalData?.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=s,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(`${t.loop}`,10),this.autoplay=!!(!("autoplay"in t)||t.autoplay),this.name=t.name??"",this.autoloadSegments=!!(!Object.hasOwn(t,"autoloadSegments")||t.autoloadSegments),this.assetsPath=t.assetsPath??this.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.includes("\\")?this.path=t.path.slice(0,Math.max(0,t.path.lastIndexOf("\\")+1)):this.path=t.path.slice(0,Math.max(0,t.path.lastIndexOf("/")+1)),this.fileName=t.path.slice(Math.max(0,t.path.lastIndexOf("/")+1)),this.fileName=this.fileName.slice(0,Math.max(0,this.fileName.lastIndexOf(".json"))),function(t,s,i){if(tn())return;eh();let r=eo(s,i);e?.postMessage({fullPath:tn()?t:window.location.origin+window.location.pathname,id:r,path:t,type:"loadAnimation"})}(t.path,this.configAnimation,this.onSetupError))}catch(t){throw console.error(`${this.constructor.name}:
`,t),Error(`${this.constructor.name}: Could not set params`)}}setSegment(t,e){let s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?s=t:this.currentRawFrame+this.firstFrame>e&&(s=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==s&&this.goToAndStop(s,!0)}setSpeed(t,e){e&&this.name!==e||(this.playSpeed=t,this.updaFrameModifier())}setSubframe(t){this.isSubframeEnabled=!!t}setupAnimation(t){ea(t,this.configAnimation)}setVolume(t,e){e&&this.name!==e||this.audioController.setVolume(t)}show(){this.renderer.show()}stop(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))}togglePause(t){t&&this.name!==t||(this.isPaused?this.play():this.pause())}trigger(t){try{if(!this._cbs[t])return;switch(t){case"enterFrame":this.triggerEvent(t,new E(t,this.currentFrame,this.totalFrames,this.frameModifier)),this.onEnterFrame?.(new E(t,this.currentFrame,this.totalFrames,this.frameMult));break;case"drawnFrame":this.triggerEvent(t,new A(t,this.currentFrame,this.frameModifier,this.totalFrames));break;case"loopComplete":this.triggerEvent(t,new M(t,Number(this.loop),this.playCount,this.frameMult)),this.onLoopComplete?.(new M(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new x(t,this.frameMult)),this.onComplete?.(new x(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new P(t,this.firstFrame,this.totalFrames)),this.onSegmentStart?.(new P(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new C(t,this)),this.onDestroy?.(new C(t,this));break;default:this.triggerEvent(t)}}catch(t){console.error(`${this.constructor.name}:
`,t)}}triggerConfigError(t){let e=new D(t,this.currentFrame);this.triggerEvent("error",e),this.onError?.(e)}triggerRenderFrameError(t){let e=new T(t,this.currentFrame);this.triggerEvent("error",e),this.onError?.(e)}unmute(t){t&&this.name!==t||this.audioController.unmute()}updaFrameModifier(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)}updateDocumentData(t,e,s){try{let i=this.renderer.getElementByPath(t);i?.updateDocumentData([],e,s)}catch(t){console.error(this.constructor.name,t)}}waitForFontsLoaded(){if(this.renderer.globalData?.fontManager?.isLoaded)return void this.checkLoaded();setTimeout(this.waitForFontsLoaded.bind(this),20)}}let eu=!0,ef=0,eg=0,ey=0,eb=[];function ev(){ey++,!ey||!eu||tn()||(window.requestAnimationFrame(e_),eu=!1)}function e_(t){ef=t,tn()||window.requestAnimationFrame(eS)}function ew({target:t}){let e=0;if(!t)throw Error("No animation to remove");for(;e<eg;)eb[e].animation===t&&(eb.splice(e,1),e--,eg-=1,t.isPaused||eE()),e++}function eS(t){let e=t-ef;for(let t=0;t<eg;t++)eb[t].animation.advanceTime(e);ef=t,ey&&1?tn()||window.requestAnimationFrame(eS):eu=!0}function ek(t,e){t.addEventListener("destroy",ew),t.addEventListener("_active",ev),t.addEventListener("_idle",eE),eb.push({animation:t,elem:e}),eg++}function eE(){ey--}let ex=(()=>{function t(t,e){let s,i=[];switch(t){case F.Int16:case F.Uint8c:s=1;break;case F.Float32:case F.Int32:case F.Uint8:default:s=1.1}for(let t=0;t<e;t++)i.push(s);return i}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,s){return e===F.Float32?new Float32Array(s):e===F.Int16?new Int16Array(s):e===F.Uint8c?new Uint8ClampedArray(s):t(e,s)}:t})();function eA(t){return Array.from({length:t})}class eM{constructor(t,e,s){this._length=0,this._maxLength=t,this._create=e,this._release=s,this.pool=eA(this._maxLength),this.newElement=this.newElement.bind(this),this.release=this.release.bind(this)}newElement(){let t;return this._length?(this._length-=1,t=this.pool[this._length]):t=this._create(),t}release(t){if(this._length===this._maxLength){var e;this.pool=[...e=this.pool,...eA(e.length)],this._maxLength*=2}this._release&&this._release(t),this.pool[this._length]=t,this._length++}}let eP=new eM(8,()=>({addedLength:0,lengths:ex(F.Float32,H()),percents:ex(F.Float32,H())})),eC=new eM(8,()=>({lengths:[],totalLength:0}),t=>{let{length:e}=t.lengths;for(let s=0;s<e;s++)eP.release(t.lengths[s]);t.lengths.length=0}),eT=ex(F.Float32,8);function eD(t,e,s,i){let r={},a=`${t[0]}_${t[1]}_${e[0]}_${e[1]}_${s[0]}_${s[1]}_${i[0]}_${i[1]}`.replaceAll(".","p");if(!r[a]){let n=H(),o,h,l=0,m,p,d=null;2===t.length&&(t[0]!==e[0]||t[1]!==e[1])&&eF(t[0],t[1],e[0],e[1],t[0]+s[0],t[1]+s[1])&&eF(t[0],t[1],e[0],e[1],e[0]+i[0],e[1]+i[1])&&(n=2);let c=new eV(n),{length:u}=s;for(let r=0;r<n;r++){p=eA(u),h=r/(n-1),m=0;for(let r=0;r<u;r++)o=Math.pow(1-h,3)*t[r]+3*Math.pow(1-h,2)*h*(t[r]+s[r])+3*(1-h)*Math.pow(h,2)*(e[r]+i[r])+Math.pow(h,3)*e[r],p[r]=o,null!==d&&(m+=Math.pow(Number(p[r])-Number(d[r]),2));l+=m=Math.sqrt(m),c.points[r]=new ez(m,p),d=p}c.segmentLength=l,r[a]=c}return r[a]}function eI(t,e,s,i,r,a,n){let o=r,h=a;o<0?o=0:o>1&&(o=1);let l=e$(o,n),m=e$(h=h>1?1:h,n),p=1-l,d=1-m,c=p*p*p,u=l*p*p*3,f=l*l*p*3,g=l*l*l,y=p*p*d,b=l*p*d+p*l*d+p*p*m,v=l*l*d+p*l*m+l*p*m,_=l*l*m,w=p*d*d,S=l*d*d+p*m*d+p*d*m,k=l*m*d+p*m*m+l*d*m,E=l*m*m,x=d*d*d,A=m*d*d+d*m*d+d*d*m,M=m*m*d+d*m*m+m*d*m,P=m*m*m,{length:C}=t;for(let r=0;r<C;r++)eT[4*r]=Math.round((c*t[r]+u*s[r]+f*i[r]+g*e[r])*1e3)/1e3,eT[4*r+1]=Math.round((y*t[r]+b*s[r]+v*i[r]+_*e[r])*1e3)/1e3,eT[4*r+2]=Math.round((w*t[r]+S*s[r]+k*i[r]+E*e[r])*1e3)/1e3,eT[4*r+3]=Math.round((x*t[r]+A*s[r]+M*i[r]+P*e[r])*1e3)/1e3;return eT}function eF(t,e,s,i,r,a){let n=t*i+e*r+s*a-r*i-a*t-s*e;return n>-.001&&n<.001}function eN(t,e,s,i,r,a,n,o,h){let l;if(0===s&&0===a&&0===h)return eF(t,e,i,r,n,o);let m=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)+Math.pow(a-s,2)),p=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)+Math.pow(h-s,2)),d=Math.sqrt(Math.pow(n-i,2)+Math.pow(o-r,2)+Math.pow(h-a,2));return(l=m>p?m>d?m-p-d:d-p-m:d>p?d-p-m:p-m-d)>-1e-4&&l<1e-4}function eL(t,e,s,i){let r=H(),a,n,o=0,h,l=[],m=[],p=eP.newElement(),d=s.length;for(let c=0;c<r;c++){n=c/(r-1),h=0;for(let r=0;r<d;r++)a=Math.pow(1-n,3)*t[r]+3*Math.pow(1-n,2)*n*s[r]+3*(1-n)*Math.pow(n,2)*i[r]+Math.pow(n,3)*e[r],l[r]=a,"number"==typeof m[r]&&(h+=Math.pow(l[r]-m[r],2)),m[r]=l[r];h&&(o+=h=Math.sqrt(h)),p.percents[c]=n,p.lengths[c]=o}return p.addedLength=o,p}function e$(t,{addedLength:e,lengths:s,percents:i}){let{length:r}=i,a=Math.floor((r-1)*t),n=t*e,o=0;if(a===r-1||0===a||n===s[a])return i[a];let h=s[a]>n?-1:1,l=!0;for(;l;)if(s[a]<=n&&s[a+1]>n?(o=(n-s[a])/(s[a+1]-s[a]),l=!1):a+=h,a<0||a>=r-1){if(a===r-1)return i[a];l=!1}return i[a]+(i[a+1]-i[a])*o}class eV{constructor(t){this.segmentLength=0,this.points=Array.from({length:t})}}class ez{constructor(t,e){this.partialLength=t,this.point=e}}let eR={};function eO(t,e,s,i,r){let a=r||`bez_${t}_${e}_${s}_${i}`.replaceAll(".","p");if(eR[a])return eR[a];let n=new eB([t,e,s,i]);return eR[a]=n,n}class eB{constructor(t){this.float32ArraySupported="function"==typeof Float32Array,this.kSplineTableSize=11,this.kSampleStepSize=1/(this.kSplineTableSize-1),this.NEWTON_ITERATIONS=4,this.NEWTON_MIN_SLOPE=.001,this.SUBDIVISION_MAX_ITERATIONS=10,this.SUBDIVISION_PRECISION=1e-7,this._p=t,this._mSampleValues=this.float32ArraySupported?new Float32Array(this.kSplineTableSize):Array.from({length:this.kSplineTableSize}),this._precomputed=!1,this.get=this.get.bind(this)}_calcSampleValues(){let t=this._p[0],e=this._p[2];for(let s=0;s<this.kSplineTableSize;++s)this._mSampleValues[s]=this.calcBezier(s*this.kSampleStepSize,t,e)}_getTForX(t){let e=this._p[0],s=this._p[2],i=this._mSampleValues,r=0,a=1,n=this.kSplineTableSize-1;for(;a!==n&&Number(i[a])<=t;++a)r+=this.kSampleStepSize;let o=r+(t-Number(i[--a]))/(Number(i[a+1])-Number(i[a]))*this.kSampleStepSize,h=this.getSlope(o,e,s);return h>=this.NEWTON_MIN_SLOPE?this.newtonRaphsonIterate(t,o,e,s):0===h?o:this.binarySubdivide(t,r,r+this.kSampleStepSize,e,s)}_precompute(){let t=this._p[0],e=this._p[1],s=this._p[2],i=this._p[3];this._precomputed=!0,(t!==e||s!==i)&&this._calcSampleValues()}get(t){let e=this._p[0],s=this._p[1],i=this._p[2],r=this._p[3];return(this._precomputed||this._precompute(),e===s&&i===r)?t:0===t?0:1===t?1:this.calcBezier(this._getTForX(t),s,r)}A(t,e){return 1-3*e+3*t}B(t,e){return 3*e-6*t}binarySubdivide(t,e,s,i,r){let a=e,n=s,o,h,l=0;do h=a+(n-a)/2,(o=this.calcBezier(h,i,r)-t)>0?n=h:a=h;while(Math.abs(o)>this.SUBDIVISION_PRECISION&&++l<this.SUBDIVISION_MAX_ITERATIONS);return h}C(t){return 3*t}calcBezier(t,e,s){return((this.A(e,s)*t+this.B(e,s))*t+this.C(e))*t}getSlope(t,e,s){return 3*this.A(e,s)*t*t+2*this.B(e,s)*t+this.C(e)}newtonRaphsonIterate(t,e,s,i){let r=e;for(let e=0;e<this.NEWTON_ITERATIONS;++e){let e=this.getSlope(r,s,i);if(0===e)break;let a=this.calcBezier(r,s,i)-t;r-=a/e}return r}}class eq{addDynamicProperty(t){this.dynamicProperties.includes(t)||(this.dynamicProperties.push(t),this.container?.addDynamicProperty(this),this._isAnimated=!0)}getValue(t){throw Error(`${this.constructor.name}: Method getValue is not implemented`)}initDynamicPropertyContainer(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}iterateDynamicProperties(){this._mdf=!1;let{length:t}=this.dynamicProperties;for(let e=0;e<t;e++)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0);return 0}setGroupProperty(t){}constructor(){this.dynamicProperties=[]}}class ej extends eq{addEffect(t){this.effectsSequence.push(t),this.container?.addDynamicProperty(this)}getSpeedAtTime(t){throw Error(`${this.constructor.name}: Method getSpeedAtTime is not implemented`)}getValueAtCurrentTime(){this._caching=this._caching??{};let t=Number(this.offsetTime),e=Number(this.comp?.renderedFrame)-t,s=this.keyframes[0].t-t,i=this.keyframes.length-1,r=this.keyframes[i].t-t,a=Number(this._caching.lastFrame);if(!(e===a||-999999!==a&&(a>=r&&e>=r||a<s&&e<s))){a>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);let t=this.interpolateValue(e,this._caching);this.pv=t}return this._caching.lastFrame=e,this.pv}getValueAtTime(t,e){throw Error(`${this.constructor.name}: Method getValueAtTime is not implemented`)}getVelocityAtTime(t){throw Error(`${this.constructor.name}: Method getVelocityAtTime is not implemented`)}initiateExpression(t,e,s){throw Error("Method not implemented")}interpolateValue(t,e={}){let s,i=Number(this.offsetTime),r=[0,0,0];this.propType===z.MultiDimensional&&this.pv&&(r=ex(F.Float32,this.pv.length));let a=e.lastIndex||0,n=a,o=this.keyframes.length-1,h=!0,l=this.keyframes[0],m=this.keyframes[1];for(;h;){if(l=this.keyframes[n],m=this.keyframes[n+1],n===o-1&&t>=m.t-i){l.h&&(l=m),a=0;break}if(m.t-i>t){a=n;break}n<o-1?n++:(a=0,h=!1)}let p=this.keyframesMetadata[n]||{},d,c,u,f,g=null,y=m.t-i,b=l.t-i;if(l.to&&l.s){p.bezierData=p.bezierData??eD(l.s,m.s??l.e,l.to,l.ti);let{__fnct:s,bezierData:i}=p;if(t>=y||t<b){let e=t>=y?i.points.length-1:0;d=i.points[e].point.length;for(let t=0;t<d;t++)r[t]=i.points[e].point[t]}else{s?g=s:p.__fnct=g=eO(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,c=g((t-b)/(y-b));let a=i.segmentLength*c,o,m=Number(e.lastFrame)<t&&e._lastKeyframeIndex===n?e._lastAddedLength:0;for(f=Number(e.lastFrame)<t&&e._lastKeyframeIndex===n?e._lastPoint:0,h=!0,u=i.points.length;h;){if(m+=i.points[f].partialLength,0===a||0===c||f===i.points.length-1){d=i.points[f].point.length;for(let t=0;t<d;t++)r[t]=i.points[f].point[t];break}if(a>=m&&a<m+i.points[f+1].partialLength){o=(a-m)/i.points[f+1].partialLength,d=i.points[f].point.length;for(let t=0;t<d;t++)r[t]=i.points[f].point[t]+(i.points[f+1].point[t]-i.points[f].point[t])*o;break}f<u-1?f++:h=!1}e._lastPoint=f,e._lastAddedLength=m-i.points[f].partialLength,e._lastKeyframeIndex=n}}else{let e,i,a,h,d;if(o=l.s?.length||0,s=m.s??l.e,this.sh&&1!==l.h)t>=y?(r[0]=s[0],r[1]=s[1],r[2]=s[2]):t<=b&&l.s?(r[0]=l.s[0],r[1]=l.s[1],r[2]=l.s[2]):tG(r,tU(tT(l.s),tT(s),(t-b)/(y-b)));else for(n=0;n<o;n++)1!==l.h&&(t>=y?c=1:t<b?c=0:(l.o.x.constructor===Array?(p.__fnct=p.__fnct??[],p.__fnct[n]?g=p.__fnct[n]:Array.isArray(l.o.y)&&Array.isArray(l.i.y)&&Array.isArray(l.i.x)&&(e=l.o.x[n]??l.o.x[0],i=l.o.y[n]??l.o.y[0],g=eO(e,i,a=l.i.x[n]??l.i.x[0],l.i.y[n]??l.i.y[0]).get,p.__fnct[n]=g)):p.__fnct?g=p.__fnct:(e=l.o.x,i=l.o.y,g=eO(e,i,a=l.i.x,l.i.y).get,l.keyframeMetadata=g),c=g?.((t-b)/(y-b)))),s=m.s??l.e,void 0!==(d=1===l.h?l.s?.[n]:Number(l.s?.[n])+(s[n]-Number(l.s?.[n]))*Number(c))&&(this.propType===z.MultiDimensional?r[n]=d:r=d)}return e.lastIndex=a,r}processEffectsSequence(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.elem)throw Error(`${this.constructor.name}: elem (ElementInterface) is not implemented`);if(this.elem.globalData?.frameId===this.frameId||0===this.effectsSequence.length)return 0;if(this.lock)return this.setVValue(this.pv),0;this.lock=!0,this._mdf=!!this._isFirstFrame;let t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k;for(let s=0;s<t;s++)e=this.effectsSequence[s](e);return this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData?.frameId,0}setVValue(t){let e;if("number"==typeof t&&this.propType===z.UniDimensional){e=t*Number(this.mult),Math.abs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);return}let s=0,{length:i}=this.v;for(;s<i;)e=t[s]*Number(this.mult),Math.abs(this.v[s]-e)>1e-5&&(this.v[s]=e,this._mdf=!0),s++}valueAtTime(t,e){throw Error(`${this.constructor.name}: Method valueAtTime is not implemented`)}constructor(...t){super(...t),this.effectsSequence=[],this.initFrame=-999999,this.keyframes=[],this.keyframesMetadata=[],this.offsetTime=0}}class eG extends ej{constructor(t,e,s=null,i=null){super(),this.propType=z.UniDimensional,this.mult=s||1,this.data=e,this.v=e.k*(s||1),this.pv=e.k,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=this.processEffectsSequence}}class eH extends ej{constructor(t,e,s=null,i=null){super(),this.propType=z.MultiDimensional,this.mult=s||1,this.data=e,this._mdf=!1,this.elem=t,this.container=i,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;let{length:r}=e.k;this.v=ex(F.Float32,r),this.pv=ex(F.Float32,r),this.vel=ex(F.Float32,r);for(let t=0;t<r;t++)this.v[t]=e.k[t]*this.mult,this.pv[t]=e.k[t];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=this.processEffectsSequence}}class eW extends ej{constructor(t,e,s=null,i=null){super(),this.propType=z.UniDimensional,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={_lastKeyframeIndex:-1,lastFrame:this.initFrame,lastIndex:0,value:0},this.k=!0,this.kf=!0,this.data=e,this.mult=s||1,this.elem=t,this.container=i,this.comp=t.comp,this.v=this.initFrame,this.pv=this.initFrame,this._isFirstFrame=!0,this.getValue=this.processEffectsSequence,this.effectsSequence=[this.getValueAtCurrentTime.bind(this)]}}class eU extends ej{constructor(t,e,s=null,i=null){let r,a,n,o;super(),this.propType=z.MultiDimensional;let{length:h}=e.k;for(let t=0;t<h-1;t++)e.k[t].to&&e.k[t].s&&e.k[t+1]?.s&&(r=e.k[t].s,a=e.k[t+1].s,n=e.k[t].to,o=e.k[t].ti,(2===r.length&&(r[0]!==a[0]||r[1]!==a[1])&&eF(r[0],r[1],a[0],a[1],r[0]+n[0],r[1]+n[1])&&eF(r[0],r[1],a[0],a[1],a[0]+o[0],a[1]+o[1])||3===r.length&&(r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2])&&eN(r[0],r[1],r[2],a[0],a[1],a[2],r[0]+n[0],r[1]+n[1],r[2]+n[2])&&eN(r[0],r[1],r[2],a[0],a[1],a[2],a[0]+o[0],a[1]+o[1],a[2]+o[2]))&&(e.k[t].to=null,e.k[t].ti=null),(r[0]===a[0]&&r[1]===a[1]&&0===n[0]&&0===n[1]&&0===o[0]&&0===o[1]&&2===r.length||r[2]===a[2]&&0===n[2]&&0===o[2])&&(e.k[t].to=null,e.k[t].ti=null));this.effectsSequence=[this.getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=s||1,this.elem=t,this.container=i,this.comp=t.comp,this.getValue=this.processEffectsSequence,this.frameId=-1;let l=e.k[0].s.length||0;this.v=ex(F.Float32,l),this.pv=ex(F.Float32,l);for(let t=0;t<l;t++)this.v[t]=this.initFrame,this.pv[t]=this.initFrame;this._caching={lastFrame:this.initFrame,lastIndex:0,value:ex(F.Float32,l)}}}class eY extends ej{constructor(){super(),this.propType=!1}}let eX={getProp:function(t,e,s,i,r){let a,n=e;if(n&&"sid"in n&&n.sid&&(n=t.globalData?.slotManager?.getProp(n)),n?.k?.length)if("number"==typeof(n?.k)[0])a=new eH(t,n,i,r);else switch(s){case 0:a=new eW(t,n,i,r);break;case 1:a=new eU(t,n,i,r)}else a=new eG(t,n,i,r);return(a=a??new eY).effectsSequence.length>0&&r?.addDynamicProperty(a),a}};class eJ{constructor(t,e,s){this.p=eX.getProp(e,t.v,0,0,s)}}class eZ{constructor(t,e,s){this.p=eX.getProp(e,t.v,1,0,s)}}class eK extends eJ{}class eQ extends eJ{}class e0 extends eZ{}class e1 extends eZ{}class e2 extends eJ{}class e3 extends eJ{}class e5 extends eJ{}class e4{constructor(){this.p={}}}class e6{constructor(t,e,s){let i=t.ef??[];this.effectElements=[];let{length:r}=i;for(let s=0;s<r;s++){let r=new e8(i[s],e,t);this.effectElements.push(r)}}}class e8 extends eq{constructor(t,e,s){super(),this.effectElements=[],this.getValue=this.iterateDynamicProperties,this.init(t,e,s)}init(t,e,s){let i;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);let r=this.data.ef,{length:a}=r;for(let t=0;t<a;t++){switch(r[t].ty){case 0:i=new eK(r[t],e,this);break;case 1:i=new eQ(r[t],e,this);break;case 2:i=new e0(r[t],e,this);break;case 3:i=new e1(r[t],e,this);break;case 4:case 7:i=new e5(r[t],e,this);break;case 10:i=new e2(r[t],e,this);break;case 11:i=new e3(r[t],e,this);break;case 5:i=new e6(s,e);break;default:i=new e4}this.effectElements.push(i)}}renderFrame(t){throw Error(`${this.constructor.name}: Method renderFrame is not implemented yet`)}}class e9{buildAllItems(){throw Error(`${this.constructor.name}: Method buildAllItems is not implemented`)}checkLayers(t){throw Error(`${this.constructor.name}: Method checkLayers is not implemented`)}checkMasks(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not initialized`);if(!this.data.hasMask)return!1;let t=0,{length:e}=this.data.masksProperties??[];for(;t<e;){if(this.data.masksProperties?.[t].mode!=="n"&&this.data.masksProperties?.[t].cl!==!1)return!0;t++}return!1}destroy(){}destroyBaseElement(){throw Error(`${this.constructor.name}: Method destroyBaseElement is not implemented`)}getBaseElement(){throw Error(`${this.constructor.name}: Method getBaseElement is not implemented`)}getType(){return this.type}initBaseData(t,e,s){this.globalData=e,this.comp=s,this.data=t,this.layerId=tM(),this.data.sr||(this.data.sr=1),this.effectsManager=new e6(this.data,this,this.dynamicProperties)}initExpressions(){try{if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=em();if(!t)return;let e=t("layer"),s=t("effects"),i=t("shape"),r=t("text"),a=t("comp");this.layerInterface=new e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);let n=new s().createEffectsInterface(this,this.layerInterface);if(this.layerInterface.registerEffectsInterface(n),0===this.data.ty||this.data.xt){this.compInterface=new a(this);return}if(4===this.data.ty){this.layerInterface.shapeInterface=new i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface;return}5===this.data.ty&&(this.layerInterface.textInterface=new r(this),this.layerInterface.text=this.layerInterface.textInterface)}catch(t){console.error(this.constructor.name,t)}}setBlendMode(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=tD(this.data.bm),e=this.baseElement??this.layerElement;if(!e)throw Error(`${this.constructor.name}: Both baseElement and layerElement are not implemented`);e.style.mixBlendMode=t}sourceRectAtTime(){throw Error(`${this.constructor.name}: Method sourceRectAtTime is not implemented`)}constructor(){this.dynamicProperties=[],this.frameDuration=1,this.itemsData=[],this.layerInterface=null,this.shapesData=[]}}class e7{constructor(){this.props=ex(F.Float32,16),this._identity=!0,this._identityCalculated=!1,this.reset()}applyToPoint(t,e,s){return{x:t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}}applyToPointArray(t,e,s){return this.isIdentity()?[t,e,s]:[t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]]}applyToPointStringified(t,e){if(this.isIdentity())return`${t},${e}`;let s=this.props;return`${Math.round((t*s[0]+e*s[4]+s[12])*100)/100},${Math.round((t*s[1]+e*s[5]+s[13])*100)/100}`}applyToTriplePoints(t,e,s){let i=ex(F.Float32,6);if(this.isIdentity())i.set([t[0],t[1],e[0],e[1],s[0],s[1]]);else{let r=this.props[0],a=this.props[1],n=this.props[4],o=this.props[5],h=this.props[12],l=this.props[13];i.set([t[0]*r+t[1]*n+h,t[0]*a+t[1]*o+l,e[0]*r+e[1]*n+h,e[0]*a+e[1]*o+l,s[0]*r+s[1]*n+h,s[0]*a+s[1]*o+l])}return i}applyToX(t,e,s){return t*this.props[0]+e*this.props[4]+s*this.props[8]+this.props[12]}applyToY(t,e,s){return t*this.props[1]+e*this.props[5]+s*this.props[9]+this.props[13]}applyToZ(t,e,s){return t*this.props[2]+e*this.props[6]+s*this.props[10]+this.props[14]}clone(t){return t.props.set(this.props),t}cloneFromProps(t){return this.props.set(t),this}equals(t){return this.props.every((e,s)=>e===t?.props[s])}getInverseMatrix(){let t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,s=-this.props[1]/t,i=-this.props[4]/t,r=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,n=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,o=new e7;return o.setTransform(e,s,0,0,i,r,0,0,0,0,1,0,a,n,0,1),o}inversePoint(t){return this.getInverseMatrix().applyToPoint(t[0],t[1],t[2]||0)}inversePoints(t){return t.map(t=>this.inversePoint(t))}isIdentity(){return this._identityCalculated||(this._identity=1===this.props[0]&&0===this.props[1]&&0===this.props[2]&&0===this.props[3]&&0===this.props[4]&&1===this.props[5]&&0===this.props[6]&&0===this.props[7]&&0===this.props[8]&&0===this.props[9]&&1===this.props[10]&&0===this.props[11]&&0===this.props[12]&&0===this.props[13]&&0===this.props[14]&&1===this.props[15],this._identityCalculated=!0),this._identity}multiply(t){return this.transform(...t.props)}reset(){return this.props.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}rotate(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1)}rotateX(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1)}rotateY(t){if(!t)return this;let e=Math.cos(t),s=Math.sin(t);return this._t(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1)}rotateZ(t){return this.rotate(t)}scale(t,e,s=1){return 1===t&&1===e&&1===s?this:this._t(t,0,0,0,0,e,0,0,0,0,s,0,0,0,0,1)}setTransform(t,e,s,i,r,a,n,o,h,l,m,p,d,c,u,f){return this.props.set([t,e,s,i,r,a,n,o,h,l,m,p,d,c,u,f]),this}shear(t,e){return this._t(1,e,t,1,0,0)}skew(t,e){return this.shear(Math.tan(t),Math.tan(e))}skewFromAxis(t,e){let s=Math.cos(e),i=Math.sin(e);return this._t(s,i,0,0,-i,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1)._t(s,-i,0,0,i,s,0,0,0,0,1,0,0,0,0,1)}to2dCSS(){let t=this.roundMatrixProperty(this.props[0]),e=this.roundMatrixProperty(this.props[1]),s=this.roundMatrixProperty(this.props[4]),i=this.roundMatrixProperty(this.props[5]),r=this.roundMatrixProperty(this.props[12]),a=this.roundMatrixProperty(this.props[13]);return`matrix(${t},${e},${s},${i},${r},${a})`}toCSS(){let t="matrix3d(";for(let e=0;e<16;e++)t+=`${Math.round(1e4*this.props[e])/1e4}`+(15===e?")":",");return t}transform(t,e,s,i,r,a,n,o,h,l,m,p,d,c,u,f){let g=this.props;if(1===t&&0===e&&0===s&&0===i&&0===r&&1===a&&0===n&&0===o&&0===h&&0===l&&1===m&&0===p)return g[12]=g[12]*t+g[15]*d,g[13]=g[13]*a+g[15]*c,g[14]=g[14]*m+g[15]*u,g[15]*=f,this._identityCalculated=!1,this;let y=g[0],b=g[1],v=g[2],_=g[3],w=g[4],S=g[5],k=g[6],E=g[7],x=g[8],A=g[9],M=g[10],P=g[11],C=g[12],T=g[13],D=g[14],I=g[15];return g[0]=y*t+b*r+v*h+_*d,g[1]=y*e+b*a+v*l+_*c,g[2]=y*s+b*n+v*m+_*u,g[3]=y*i+b*o+v*p+_*f,g[4]=w*t+S*r+k*h+E*d,g[5]=w*e+S*a+k*l+E*c,g[6]=w*s+S*n+k*m+E*u,g[7]=w*i+S*o+k*p+E*f,g[8]=x*t+A*r+M*h+P*d,g[9]=x*e+A*a+M*l+P*c,g[10]=x*s+A*n+M*m+P*u,g[11]=x*i+A*o+M*p+P*f,g[12]=C*t+T*r+D*h+I*d,g[13]=C*e+T*a+D*l+I*c,g[14]=C*s+T*n+D*m+I*u,g[15]=C*i+T*o+D*p+I*f,this._identityCalculated=!1,this}translate(t,e,s){let i=s||0;return 0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}_t(...t){return this.transform(...t)}roundMatrixProperty(t){return t<1e-6&&t>0||t>-1e-6&&t<0?Math.round(1e4*t)/1e4:t}}class st extends ej{constructor(t,e,s){if(super(),this.defaultVector=[0,0],this.elem=t,this.frameId=-1,this.propType=z.Transform,this.data=e,this.v=new e7,this.pre=new e7,this.appliedTransformations=0,this.initDynamicPropertyContainer(s??t),e.p&&"s"in e.p?(this.px=eX.getProp(t,e.p.x,0,0,this),this.py=eX.getProp(t,e.p.y,0,0,this),"z"in e.p&&(this.pz=eX.getProp(t,e.p.z,0,0,this))):this.p=eX.getProp(t,e.p??{k:[0,0,0]},1,0,this),"rx"in e){if(this.rx=eX.getProp(t,e.rx,0,ts,this),this.ry=eX.getProp(t,e.ry,0,ts,this),this.rz=eX.getProp(t,e.rz,0,ts,this),e.or?.k[0].ti){let{length:t}=e.or.k;for(let s=0;s<t;s++)e.or.k[s].to=null,e.or.k[s].ti=null}this.or=eX.getProp(t,e.or,1,ts,this),this.or.sh=!0}else this.r=eX.getProp(t,e.r??{k:0},0,ts,this);e.sk&&(this.sk=eX.getProp(t,e.sk,0,ts,this),this.sa=eX.getProp(t,e.sa,0,ts,this)),this.a=eX.getProp(t,e.a??{k:[0,0,0]},1,0,this),this.s=eX.getProp(t,e.s??{k:[100,100,100]},1,.01,this),e.o?this.o=eX.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,0===this.dynamicProperties.length&&this.getValue(!0)}addDynamicProperty(t){super.addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}applyToMatrix(t){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);this.iterateDynamicProperties(),this._mdf=!!this._mdf,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.r?t.rotate(-Number(this.r.v)):t.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(Number(this.or?.v[1])).rotateX(Number(this.or?.v[0])),this.data.p&&"s"in this.data.p?"z"in this.data.p?t.translate(Number(this.px?.v),Number(this.py?.v),-Number(this.pz?.v)):t.translate(Number(this.px?.v),Number(this.py?.v),0):t.translate(Number(this.p?.v[0]),Number(this.p?.v[1]),-Number(this.p?.v[2]))}autoOrient(){throw Error(`${this.constructor.name}: Method autoOrient not implemented`)}getValue(t){if(this.elem.globalData?.frameId===this.frameId)return 0;if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.a&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.s&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.r&&this.appliedTransformations<4?this.v.rotate(-Number(this.r.v)):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(Number(this.or?.v[1])).rotateX(Number(this.or?.v[0])),this.autoOriented){let t,e,{frameRate:s}=this.elem.globalData??{frameRate:60};if(this.p?.keyframes)Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/s,0),e=this.p.getValueAtTime(Number(this.p.keyframes[0].t)/s,0)):Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/s,0),e=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/s,0)):(t=this.p.pv,e=this.p.getValueAtTime((Number(this.p._caching?.lastFrame)+Number(this.p.offsetTime)-.01)/s,Number(this.p.offsetTime)));else if(this.px?.keyframes&&this.py?.keyframes){t=[0,0],e=[0,0];let{px:i}=this,{py:r}=this;Number(i._caching?.lastFrame)+Number(i.offsetTime)<=i.keyframes[0].t?(t[0]=i.getValueAtTime((i.keyframes[0].t+.01)/s,0),t[1]=r.getValueAtTime((r.keyframes[0].t+.01)/s,0),e[0]=i.getValueAtTime(i.keyframes[0].t/s,0),e[1]=r.getValueAtTime(Number(r.keyframes[0]?.t)/s,0)):Number(i._caching?.lastFrame)+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(t[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/s,0),t[1]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/s,0),e[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/s,0),e[1]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/s,0)):(t=[i.pv,r.pv],e[0]=i.getValueAtTime((Number(i._caching?.lastFrame)+i.offsetTime-.01)/s,i.offsetTime),e[1]=r.getValueAtTime((Number(r._caching?.lastFrame)+r.offsetTime-.01)/s,r.offsetTime))}else t=e=this.defaultVector;this.v.rotate(-Math.atan2(t[1]-e[1],t[0]-e[0]))}this.data.p&&"s"in this.data.p?"z"in this.data.p?this.v.translate(Number(this.px?.v),Number(this.py?.v),-Number(this.pz?.v)):this.v.translate(Number(this.px?.v),Number(this.py?.v),0):this.p&&this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}return this.frameId=this.elem.globalData?.frameId,0}precalculateMatrix(){if(this.appliedTransformations=0,this.pre.reset(),!this.a?.effectsSequence.length){if(!this.a)throw Error(`${this.constructor.name}: Cannot read 'a' value`);if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s?.effectsSequence.length){if(!this.s)throw Error(`${this.constructor.name}: Cannot read 's' value`);if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length>0||this.sa?.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,Number(this.sa?.v)),this.appliedTransformations=3}if(this.r){0===this.r.effectsSequence.length&&(this.pre.rotate(-Number(this.r.v)),this.appliedTransformations=4);return}this.rz?.effectsSequence.length||this.ry?.effectsSequence.length||this.rx?.effectsSequence.length||this.or?.effectsSequence.length||(this.pre.rotateZ(-Number(this.rz?.v)).rotateY(Number(this.ry?.v)).rotateX(Number(this.rx?.v)).rotateZ(-Number(this.or?.v[2])).rotateY(this.or?.v[1]).rotateX(this.or?.v[0]),this.appliedTransformations=4)}}}}let se={getTransformProperty:(t,e,s)=>new st(t,e,s)};class ss extends e9{globalToLocal(t){let e,s=t,i=[];i.push(this.finalTransform);let r=!0,{comp:a}=this;for(;r;)a?.finalTransform?(a.data?.hasMask&&i.splice(0,0,a.finalTransform),a=a.comp):r=!1;let{length:n}=i;for(let t=0;t<n;t++)e=i[t]?.mat.applyToPointArray(0,0,0),s=[s[0]-Number(e?.[0]),s[1]-Number(e?.[1]),0];return s}initTransform(){if(!this.data)throw Error(`${this.constructor.name}: LottiePlayer is not initialized`);let t=new e7;this.finalTransform={_localMatMdf:!1,_matMdf:!1,_opMdf:!1,localMat:t,localOpacity:1,mat:t,mProp:this.data.ks?se.getTransformProperty(this,this.data.ks,this):{o:0}},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)}renderLocalTransform(){if(!this.localTransforms)return;if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not initialized`);let t=0,{length:e}=this.localTransforms;if(this.finalTransform._localMatMdf=!!this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=Number(this.finalTransform.mProp.o?.v),this.finalTransform._opMdf=!0),t++;if(this.finalTransform._localMatMdf){let{localMat:s,mat:i}=this.finalTransform;for(this.localTransforms[0].matrix?.clone(s),t=1;t<e;t++){let e=this.localTransforms[t].matrix;e&&s.multiply(e)}s.multiply(i)}if(this.finalTransform._opMdf){let s=this.finalTransform.localOpacity;for(t=0;t<e;t++)s*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=s}}renderTransform(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not initialized`);if(this.finalTransform._opMdf=!!(this.finalTransform.mProp.o?._mdf||this._isFirstFrame),this.finalTransform._matMdf=!!(this.finalTransform.mProp._mdf||this._isFirstFrame),this.hierarchy){let t=this.finalTransform.mat,e=0,{length:s}=this.hierarchy;if(!this.finalTransform._matMdf)for(;e<s;){if(this.hierarchy[e].finalTransform?.mProp._mdf){this.finalTransform._matMdf=!0;break}e++}if(this.finalTransform._matMdf){let i=this.finalTransform.mProp.v.props;for(t.cloneFromProps(i),e=0;e<s;e++)if(this.hierarchy[e].finalTransform?.mProp.v){let{v:s}=this.hierarchy[e].finalTransform?.mProp??{v:null};s&&t.multiply(s)}}}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=Number(this.finalTransform.mProp.o?.v))}searchEffectTransforms(){if(!this.renderableEffectsManager)return;let t=this.renderableEffectsManager.getEffects(V.TransformEffect);if(0===t.length)return;this.localTransforms=[],this.finalTransform&&(this.finalTransform.localMat=new e7);let{length:e}=t;for(let s=0;s<e;s++)this.localTransforms.push(t[s])}constructor(...t){super(...t),this.mHelper=new e7}}class si extends ss{checkParenting(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.comp)throw Error(`${this.constructor.name}: comp (ElementInterface) is not implemented`);void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}initHierarchy(){this.hierarchy=[],this._isParent=!1,this.checkParenting()}setAsParent(){this._isParent=!0}setHierarchy(t){this.hierarchy=t}}class sr extends si{addDynamicProperty(t){this.dynamicProperties.includes(t)||this.dynamicProperties.push(t)}initFrame(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1}prepareProperties(t,e){let{length:s}=this.dynamicProperties;for(let t=0;t<s;t++)(e||this._isParent&&this.dynamicProperties[t].propType===z.Transform)&&(this.dynamicProperties[t].getValue(),this.globalData&&this.dynamicProperties[t]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))}constructor(...t){super(...t),this.displayStartTime=0}}class sa extends sr{addRenderableComponent(t){this.renderableComponents.includes(t)||this.renderableComponents.push(t)}checkLayerLimits(t){this.data&&this.globalData&&(this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide()))}checkTransparency(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not implemented`);if(0>=Number(this.finalTransform.mProp.o?.v)){!this.isTransparent&&(this.globalData?.renderConfig).hideOnTransparent&&(this.isTransparent=!0,this.hide());return}this.isTransparent&&(this.isTransparent=!1,this.show())}getLayerSize(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);return 5===this.data.ty?{h:Number(this.data.textData?.height),w:Number(this.data.textData?.width)}:{h:Number(this.data.height),w:Number(this.data.width)}}hide(){}initRenderable(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]}prepareRenderableFrame(t,e){this.checkLayerLimits(t)}removeRenderableComponent(t){this.renderableComponents.includes(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)}renderRenderable(){let{length:t}=this.renderableComponents;for(let e=0;e<t;e++)this.renderableComponents[e].renderFrame(Number(this._isFirstFrame))}show(){throw Error(`${this.constructor.name}: Method show is not implemented`)}sourceRectAtTime(){return{height:100,left:0,top:0,width:100}}constructor(...t){super(...t),this.renderableComponents=[]}}class sn extends sa{createContainerElements(){throw Error(`${this.constructor.name}: Method createContainerElements is not implemented`)}createContent(){throw Error(`${this.constructor.name}: Method createContent is not implemented`)}createRenderableComponents(){throw Error(`${this.constructor.name}: Method createRenderableComponents is not implemented`)}destroy(){this.innerElem=null,this.destroyBaseElement()}hide(){if(this.hidden||this.isInRange&&!this.isTransparent)return;let t=this.baseElement??this.layerElement;t&&(t.style.display="none"),this.hidden=!0}initElement(t,e,s){this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()}initRendererElement(){throw Error(`${this.constructor.name}: Method initRendererElement is not implemented`)}prepareFrame(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()}renderElement(){throw Error(`${this.constructor.name}: Method renderElement is not implemented`)}renderFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))}renderInnerContent(){throw Error(`${this.constructor.name}: Method renderInnerContent is not implemented`)}show(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this.isInRange||!this.isTransparent){if(!this.data.hd){let t=this.baseElement??this.layerElement;if(!t)throw Error(`${this.constructor.name}: Neither baseElement or layerElement is implemented`);t.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}}}class so extends sn{destroy(){this.destroyElements(),this.destroyBaseElement()}destroyElements(){let{length:t}=this.layers;for(let e=0;e<t;e++)this.elements[e]?.destroy()}getElements(){return this.elements}initElement(t,e,s){if(this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()}prepareFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!this.isInRange&&!this.data.xt)return;if(this.tm?._placeholder)this.renderedFrame=t/Number(this.data.sr);else{let t=this.tm?.v||0;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}let{length:e}=this.elements;this.completeLayers||this.checkLayers(this.renderedFrame);for(let t=e-1;t>=0;t--)(this.completeLayers||this.elements[t])&&(this.elements[t].prepareFrame(this.renderedFrame-this.layers[t].st),this.elements[t]?._mdf&&(this._mdf=!0))}renderInnerContent(){let{length:t}=this.layers;for(let e=0;e<t;e++)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}setElements(t){this.elements=t}constructor(...t){super(...t),this.currentFrame=0,this.elements=[],this.layers=[]}}let sh=new eM(8,()=>ex(F.Float32,2));class sl{constructor(){this.lengths=[],this.c=!1,this._length=0,this._maxLength=8,this.v=eA(this._maxLength),this.o=eA(this._maxLength),this.i=eA(this._maxLength)}doubleArrayLength(){this.v=[...this.v,...eA(this._maxLength)],this.i=[...this.i,...eA(this._maxLength)],this.o=[...this.o,...eA(this._maxLength)],this._maxLength*=2}length(){return this._length}reverse(){let t=new sl;t.setPathData(this.c,this._length);let e=this.v,s=this.o,i=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],i[0][0],i[0][1],s[0][0],s[0][1],0,!1),r=1);let{_length:a}=this,n=a-1;for(let o=r;o<a;o++)t.setTripleAt(e[n][0],e[n][1],i[n][0],i[n][1],s[n][0],s[n][1],o,!1),n-=1;return t}setLength(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t}setPathData(t,e){this.c=t,this.setLength(e);let s=0;for(;s<e;)this.v[s]=sh.newElement(),this.o[s]=sh.newElement(),this.i[s]=sh.newElement(),s++}setTripleAt(t,e,s,i,r,a,n,o){this.setXYAt(t,e,"v",n,o),this.setXYAt(s,i,"o",n,o),this.setXYAt(r,a,"i",n,o)}setXYAt(t,e,s,i,r){let a;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[]}a[i]&&(!a[i]||r)||(a[i]=sh.newElement()),a[i][0]=t,a[i][1]=e}}let sm=new eM(4,function(){return new sl},function(t){let e=t._length;for(let s=0;s<e;s++)sh.release(t.v[s]),sh.release(t.i[s]),sh.release(t.o[s]),t.v[s]=null,t.i[s]=null,t.o[s]=null;t._length=0,t.c=!1}),{newElement:sp}=sm,{release:sd}=sm;function sc(t){let e=sp(),s=t._length??t.v.length;e.setLength(s),e.c=t.c;for(let i=0;i<s;i++)e.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],i);return e}class su{constructor(){this._length=0,this._maxLength=4,this.shapes=eA(this._maxLength)}addShape(t){this._length===this._maxLength&&(this.shapes=[...this.shapes,...eA(this._maxLength)],this._maxLength*=2),this.shapes[this._length]=t,this._length++}releaseShapes(){for(let t=0;t<this._length;t++)sd(this.shapes[t]);this._length=0}}function sf(){return new su}eA(4);class sg extends eq{getValueAtTime(t,e){throw Error(`${this.constructor.name}: Method getShapeValueAtTime is not implemented`)}initiateExpression(t,e,s){throw Error(`${this.constructor.name}: Method initiateExpression is not implemented`)}interpolateShape(t,e,s={}){let i=s.lastIndex||0,r,a,n,o=0,h,l=this.keyframes;if(t<l[0].t-this.offsetTime)r=l[0].s?.[0],n=!0,i=0;else if(t>=l[l.length-1].t-this.offsetTime)r=l[l.length-1].s?l[l.length-1].s?.[0]:l[l.length-2].e[0],n=!0;else{let e,s,h=i,m=l.length-1,p=!0;for(;p&&(e=l[h],!((s=l[h+1]).t-this.offsetTime>t));)h<m-1?h++:p=!1;if(!e||!s)throw Error(`${this.constructor.name}: Could not set keyframe data`);let d=this.keyframesMetadata[h]||{};if(n=1===e.h,i=h,!n){if(t>=s.t-this.offsetTime)o=1;else if(t<e.t-this.offsetTime)o=0;else{let i;d.__fnct?i=d.__fnct:"number"==typeof e.o.x&&"number"==typeof e.o.y&&"number"==typeof e.i.x&&"number"==typeof e.i.y&&(d.__fnct=i=eO(e.o.x,e.o.y,e.i.x,e.i.y).get),o=i?.((t-(e.t-this.offsetTime))/(s.t-this.offsetTime-(e.t-this.offsetTime)))||0}a=s.s?s.s[0]:e.e[0]}r=e.s?.[0]}let m=e._length,p=r.i[0].length;s.lastIndex=i;for(let t=0;t<m;t++)for(let s=0;s<p;s++)h=n?r.i[t][s]:Number(r.i[t][s])+(a.i[t][s]-r.i[t][s])*o,e.i[t][s]=h,h=n?r.o[t][s]:Number(r.o[t][s])+(a.o[t][s]-r.o[t][s])*o,e.o[t][s]=h,h=n?r.v[t][s]:Number(r.v[t][s])+(a.v[t][s]-r.v[t][s])*o,e.v[t][s]=h}interpolateShapeCurrentTime(){if(!this.pv)throw Error(`${this.constructor.name}: Cannot parse ShapePath v value`);this._caching=this._caching??{};let t=Number(this.comp?.renderedFrame)-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,i=Number(this._caching.lastFrame);return -999999!==i&&(i<e&&t<e||i>s&&t>s)||(this._caching.lastIndex=i<t?Number(this._caching.lastIndex):0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}processEffectsSequence(t){let e,s;if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(this.elem?.globalData?.frameId===this.frameId)return 0;if(0===this.effectsSequence.length)return this._mdf=!1,0;if(this.lock&&this.pv)return this.setVValue(this.pv),0;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt?.k;let i=this.effectsSequence.length;for(s=0;s<i;s++)e=this.effectsSequence[s](e);return this.setVValue(e),this.lock=!1,this.frameId=this.elem?.globalData?.frameId||0,0}reset(){this.paths=this.localShapeCollection}setVValue(t){if(!this.v||!t)throw Error(`${this.constructor.name}: ShapePath is not set`);if(!this.localShapeCollection)throw Error(`${this.constructor.name}: localShapeCollection is not set`);this.shapesEqual(this.v,t)||(this.v=sc(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}shapesEqual(t,e){if(t._length!==e._length||t.c!==e.c)return!1;let s=t._length||0;for(let i=0;i<s;i++)if(t.v[i]?.[0]!==e.v[i]?.[0]||t.v[i]?.[1]!==e.v[i]?.[1]||t.o[i]?.[0]!==e.o[i]?.[0]||t.o[i]?.[1]!==e.o[i]?.[1]||t.i[i]?.[0]!==e.i[i]?.[0]||t.i[i]?.[1]!==e.i[i]?.[1])return!1;return!0}constructor(...t){super(...t),this.effectsSequence=[],this.keyframes=[],this.keyframesMetadata=[],this.offsetTime=0}}class sy extends sg{constructor(t,e){super(),this.v=sp(),this.v.c=!0,this.localShapeCollection=sf(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=eX.getProp(t,e.p,1,0,this),this.s=eX.getProp(t,e.s,1,0,this),this.r=eX.getProp(t,e.r,0,0,this),this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertRectToPath())}convertRectToPath(){if(!this.p)throw Error(`${this.constructor.name}: p value is not implemented`);let t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2,r=Math.min(s,i,this.r.v),a=.44810000000000005*r;this.v&&(this.v._length=0),2===this.d||1===this.d?(this.v?.setTripleAt(t+s,e-i+r,t+s,e-i+r,t+s,e-i+a,0,!0),this.v?.setTripleAt(t+s,e+i-r,t+s,e+i-a,t+s,e+i-r,1,!0),0===r?(this.v?.setTripleAt(t-s,e+i,t-s+a,e+i,t-s,e+i,2),this.v?.setTripleAt(t-s,e-i,t-s,e-i+a,t-s,e-i,3)):(this.v?.setTripleAt(t+s-r,e+i,t+s-r,e+i,t+s-a,e+i,2,!0),this.v?.setTripleAt(t-s+r,e+i,t-s+a,e+i,t-s+r,e+i,3,!0),this.v?.setTripleAt(t-s,e+i-r,t-s,e+i-r,t-s,e+i-a,4,!0),this.v?.setTripleAt(t-s,e-i+r,t-s,e-i+a,t-s,e-i+r,5,!0),this.v?.setTripleAt(t-s+r,e-i,t-s+r,e-i,t-s+a,e-i,6,!0),this.v?.setTripleAt(t+s-r,e-i,t+s-a,e-i,t+s-r,e-i,7,!0))):(this.v?.setTripleAt(t+s,e-i+r,t+s,e-i+a,t+s,e-i+r,0,!0),0===r?(this.v?.setTripleAt(t-s,e-i,t-s+a,e-i,t-s,e-i,1,!0),this.v?.setTripleAt(t-s,e+i,t-s,e+i-a,t-s,e+i,2,!0),this.v?.setTripleAt(t+s,e+i,t+s-a,e+i,t+s,e+i,3,!0)):(this.v?.setTripleAt(t+s-r,e-i,t+s-r,e-i,t+s-a,e-i,1,!0),this.v?.setTripleAt(t-s+r,e-i,t-s+a,e-i,t-s+r,e-i,2,!0),this.v?.setTripleAt(t-s,e-i+r,t-s,e-i+r,t-s,e-i+a,3,!0),this.v?.setTripleAt(t-s,e+i-r,t-s,e+i-a,t-s,e+i-r,4,!0),this.v?.setTripleAt(t-s+r,e+i,t-s+r,e+i,t-s+a,e+i,5,!0),this.v?.setTripleAt(t+s-r,e+i,t+s-a,e+i,t+s-r,e+i,6,!0),this.v?.setTripleAt(t+s,e+i-r,t+s,e+i-r,t+s,e+i-a,7,!0)))}getValue(){return this.elem?.globalData?.frameId===this.frameId||(this.elem?.globalData?.frameId&&(this.frameId=this.elem.globalData.frameId),this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath()),0}}class sb extends sg{constructor(t,e){super(),this.v=sp(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=eX.getProp(t,e.ir,0,0,this),this.is=eX.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=eX.getProp(t,e.pt,0,0,this),this.p=eX.getProp(t,e.p,1,0,this),this.r=eX.getProp(t,e.r,0,ts,this),this.or=eX.getProp(t,e.or,0,0,this),this.os=eX.getProp(t,e.os,0,.01,this),this.localShapeCollection=sf(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertToPath())}convertPolygonToPath(){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(!this.p)throw Error(`${this.constructor.name}: p value is not implemented`);let t=Math.floor(this.pt.v),e=2*Math.PI/t,s=this.or.v,i=this.os.v,r=2*Math.PI*s/(4*t),a=-(.5*Math.PI),n=3===this.data.d?-1:1;a+=this.r.v,this.v&&(this.v._length=0);for(let o=0;o<t;o++){let t=s*Math.cos(a),h=s*Math.sin(a),l=0===t&&0===h?0:h/Math.sqrt(t*t+h*h),m=0===t&&0===h?0:-t/Math.sqrt(t*t+h*h);t+=Number(this.p.v[0]),h+=Number(this.p.v[1]),this.v?.setTripleAt(t,h,t-l*r*i*n,h-m*r*i*n,t+l*r*i*n,h+m*r*i*n,o,!0),a+=e*n}this.paths.length=0,this.paths[0]=this.v}convertStarToPath(){if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);if(!this.v)throw Error(`${this.constructor.name}: v (ShapePath) is not implemented`);let t=2*Math.floor(this.pt.v),e=2*Math.PI/t,s=!0,i=this.or.v,r=Number(this.ir?.v),a=this.os.v,n=Number(this.is?.v),o=2*Math.PI*i/(2*t),h=2*Math.PI*r/(2*t),l,m,p,d=-Math.PI/2;d+=this.r.v;let c=3===this.data.d?-1:1;this.v._length=0;for(let u=0;u<t;u++){l=s?i:r,m=s?a:n,p=s?o:h;let t=l*Math.cos(d),f=l*Math.sin(d),g=0===t&&0===f?0:f/Math.sqrt(t*t+f*f),y=0===t&&0===f?0:-t/Math.sqrt(t*t+f*f);t+=Number(this.p?.v[0]),f+=Number(this.p?.v[1]),this.v.setTripleAt(t,f,t-g*p*m*c,f-y*p*m*c,t+g*p*m*c,f+y*p*m*c,u,!0),s=!s,d+=e*c}}convertToPath(){throw Error(`${this.constructor.name}: Method convertToPath is not implemented`)}getValue(t){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId||0,this.iterateDynamicProperties(),this._mdf&&this.convertToPath()),0}}class sv extends sg{constructor(t,e){super(),this._cPoint=.5519,this.v=sp(),this.v.setPathData(!0,4),this.localShapeCollection=sf(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=eX.getProp(t,e.p,1,0,this),this.s=eX.getProp(t,e.s,1,0,this),this.dynamicProperties.length>0?this.k=!0:(this.k=!1,this.convertEllToPath())}convertEllToPath(){if(!this.p)return;let t=this.p.v[0],e=this.p.v[1],s=this.s.v[0]/2,i=this.s.v[1]/2,r=3!==this.d,a=this.v;if(!a)throw Error(`${this.constructor.name}: Could not get value of ellipse`);a.v[0][0]=t,a.v[0][1]=e-i,a.v[1][0]=r?t+s:t-s,a.v[1][1]=e,a.v[2][0]=t,a.v[2][1]=e+i,a.v[3][0]=r?t-s:t+s,a.v[3][1]=e,a.i[0][0]=r?t-s*this._cPoint:t+s*this._cPoint,a.i[0][1]=e-i,a.i[1][0]=r?t+s:t-s,a.i[1][1]=e-i*this._cPoint,a.i[2][0]=r?t+s*this._cPoint:t-s*this._cPoint,a.i[2][1]=e+i,a.i[3][0]=r?t-s:t+s,a.i[3][1]=e+i*this._cPoint,a.o[0][0]=r?t+s*this._cPoint:t-s*this._cPoint,a.o[0][1]=e-i,a.o[1][0]=r?t+s:t-s,a.o[1][1]=e+i*this._cPoint,a.o[2][0]=r?t-s*this._cPoint:t+s*this._cPoint,a.o[2][1]=e+i,a.o[3][0]=r?t-s:t+s,a.o[3][1]=e-i*this._cPoint}getValue(t){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId||0,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath()),0}}class s_ extends sg{constructor(t,e,s){super(),this.propType=z.Shape,this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;let i=3===s?e.pt?.k:e.ks?.k;if(!i)throw Error(`${this.constructor.name}: Could now get Path Data`);this.v=sc(i),this.pv=sc(this.v),this.localShapeCollection=sf(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.effectsSequence=[],this.getValue=this.processEffectsSequence}}class sw extends sg{constructor(t,e,s){super(),this.data=e,this.propType=z.Shape,this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data?.st||0,this.keyframes=3===s?e.pt?.k:e.ks?.k??[],this.keyframesMetadata=[],this.k=!0,this.kf=!0;let{length:i}=this.keyframes[0].s?.[0].i??[];this.v=sp(),this.v.setPathData(!!this.keyframes[0].s?.[0].c,i),this.pv=sc(this.v),this.localShapeCollection=sf(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[this.interpolateShapeCurrentTime.bind(this)],this.getValue=this.processEffectsSequence}}let sS={getShapeProp:function(t,e,s,i,r){let a=null;switch(s){case 3:case 4:{let i=3===s?e.pt:e.ks,r=i?.k;if(r?.length){a=new sw(t,e,s);break}a=new s_(t,e,s);break}case 5:a=new sy(t,e);break;case 6:a=new sv(t,e);break;case 7:a=new sb(t,e)}return a?.k&&t.addDynamicProperty(a),a}};class sk{constructor(t,e,s){this.masksProperties=[],this.data=t,this.element=e,this.globalData=s,this.storedData=[],this.masksProperties=this.data.masksProperties??[],this.maskElement=null;let{defs:i}=this.globalData,{length:r}=this.masksProperties;this.viewData=eA(r),this.solidPath="";let a=this.masksProperties,n=0,o=[],h=tM(),l,m,p,d="clipPath",c="clip-path";for(let t=0;t<r;t++){let e;("a"!==a[t].mode&&"n"!==a[t].mode||a[t].inv||a[t].o?.k!==100||a[t].o?.x)&&(d="mask",c="mask"),("s"===a[t].mode||"i"===a[t].mode)&&0===n?((l=tP("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",`${Number(this.element.comp?.data?.w)}`),l.setAttribute("height",`${Number(this.element.comp?.data?.h)}`),o.push(l)):l=null;let s=tP("path");if("n"===a[t].mode){this.viewData[t]={elem:s,lastPath:"",op:eX.getProp(this.element,a[t].o,0,.01,this.element),prop:sS.getShapeProp(this.element,a[t],3)},i.appendChild(s);continue}if(n++,s.setAttribute("fill","s"===a[t].mode?"#000000":"#ffffff"),s.setAttribute("clip-rule","nonzero"),a[t].x?.k===0)m=null,p=null;else{d="mask",c="mask",p=eX.getProp(this.element,a[t].x,0,null,this.element),e=tM();let r=tP("filter");r.setAttribute("id",e),(m=tP("feMorphology")).setAttribute("operator","erode"),m.setAttribute("in","SourceGraphic"),m.setAttribute("radius","0"),r.appendChild(m),i.appendChild(r),s.setAttribute("stroke","s"===a[t].mode?"#000000":"#ffffff")}if(this.storedData[t]={elem:s,expan:m,filterId:e,lastOperator:"",lastPath:"",lastRadius:0,x:p},"i"===a[t].mode){let{length:t}=o,e=tP("g");for(let s=0;s<t;s++)e.appendChild(o[s]);let r=tP("mask");r.setAttribute("mask-type","alpha"),r.id=`${h}_${n}`,r.appendChild(s),i.appendChild(r),e.setAttribute("mask",`url(${Z()}#${h}_${n})`),o.length=0,o.push(e)}else o.push(s);a[t].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[t]={elem:s,invRect:l,lastPath:"",op:eX.getProp(this.element,a[t].o,0,.01,this.element),prop:sS.getShapeProp(this.element,a[t],3)};let r=this.viewData[t].prop?.v;!this.viewData[t].prop?.k&&r&&this.drawPath(a[t],r,this.viewData[t])}this.maskElement=tP(d);let{length:u}=o;for(let t=0;t<u;t++)this.maskElement.appendChild(o[t]);n>0&&(this.maskElement.setAttribute("id",h),this.element.maskedElement?.setAttribute(c,`url(${Z()}#${h})`),i.appendChild(this.maskElement)),this.viewData.length>0&&this.element.addRenderableComponent(this)}createLayerSolidPath(){let t="M0,0 ";return t+` h${this.globalData.compSize?.w||0} v${this.globalData.compSize?.h||0} h-${this.globalData.compSize?.w||0} v-${this.globalData.compSize?.h||0} `}destroy(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null}drawPath(t,e,s){let i,r=` M${e.v[0]?.[0]},${e.v[0]?.[1]}`,a=e._length||0;for(i=1;i<a;i++)r+=` C${e.o[i-1]?.[0]},${e.o[i-1]?.[1]} ${e.i[i]?.[0]},${e.i[i]?.[1]} ${e.v[i]?.[0]},${e.v[i]?.[1]}`;if(e.c&&a>1&&(r+=` C${e.o[i-1]?.[0]},${e.o[i-1]?.[1]} ${e.i[0]?.[0]},${e.i[0]?.[1]} ${e.v[0]?.[0]},${e.v[0]?.[1]}`),s.lastPath!==r){let i="";s.elem&&(e.c&&(i=t?.inv?this.solidPath+r:r),s.elem.setAttribute("d",i)),s.lastPath=r}}getMaskelement(){return this.maskElement}getMaskProperty(t){return this.viewData[t].prop}renderFrame(t){let e=this.element.finalTransform?.mat,{length:s}=this.masksProperties;for(let i=0;i<s;i++){let s=this.viewData[i].prop?.v;if(s&&(this.viewData[i].prop?._mdf||t)&&this.drawPath(this.masksProperties[i]||null,s,this.viewData[i]),(this.viewData[i].op._mdf||t)&&this.viewData[i].elem.setAttribute("fill-opacity",`${this.viewData[i].op.v}`),"n"===this.masksProperties[i].mode||(this.viewData[i].invRect&&(this.element.finalTransform?.mProp._mdf||t)&&this.viewData[i].invRect?.setAttribute("transform",`${e?.getInverseMatrix().to2dCSS()}`),!this.storedData[i]?.x||!(this.storedData[i].x?._mdf||t)))continue;let r=this.storedData[i].expan;if(0>Number(this.storedData[i].x?.v)){"erode"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter",`url(${Z()}#${this.storedData[i].filterId})`)),r?.setAttribute("radius",`${-Number(this.storedData[i].x?.v)}`);continue}"dilate"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.removeAttribute("filter")),this.storedData[i].elem.setAttribute("stroke-width",`${2*Number(this.storedData[i].x?.v)}`)}}}function sE(){let t=tP("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}function sx(t,e){let s=tP("filter");return s.id=t,e||(s.setAttribute("filterUnits","objectBoundingBox"),s.setAttribute("x","0%"),s.setAttribute("y","0%"),s.setAttribute("width","100%"),s.setAttribute("height","100%")),s}class sA{constructor(){if(this.maskType=!0,this.offscreenCanvas="undefined"!=typeof OffscreenCanvas,this.svgLumaHidden=!0,!tF())return;this.maskType=!/MSIE 10/i.test(navigator.userAgent)&&!/MSIE 9/i.test(navigator.userAgent)&&!/rv:11.0/i.test(navigator.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent),this.svgLumaHidden=!/firefox/i.test(navigator.userAgent)}}let sM="filter_result_",sP={};class sC{constructor(t){let e,s="SourceGraphic",i=tM(),r=sx(i,!0),a=0;this.filters=[];let{length:n}=t.data.ef??[];for(let i=0;i<n;i++){e=null;let{ty:n}=t.data.ef?.[i]??{ty:null},o=null!==n&&sP[n]?sP[n].effect:null;o&&n&&t.effectsManager&&(e=new o(r,t.effectsManager.effectElements[i],t,`${sM}${a}`,s),s=`${sM}${a}`,sP[n]?.countsAsEffect&&a++),e&&this.filters.push(e)}a&&(t.globalData.defs.appendChild(r),t.layerElement?.setAttribute("filter",`url(${Z()}#${i})`)),this.filters.length>0&&t.addRenderableComponent(this)}getEffects(t){let{length:e}=this.filters,s=[];for(let i=0;i<e;i++)this.filters[i].type===t&&s.push(this.filters[i]);return s}renderFrame(t){let{length:e}=this.filters;for(let s=0;s<e;s++)this.filters[s].renderFrame(t)}}class sT extends sn{createContainerElements(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.matteElement=tP("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;let t=null;if(this.data.td){this.matteMasks={};let e=tP("g");this.layerId&&e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){let e=tP("clipPath"),s=tP("path");s.setAttribute("d",`M0,0 L${this.data.w},0 L${this.data.w},${this.data.h} L0,${this.data.h}z`);let i=tM();if(e.setAttribute("id",i),e.appendChild(s),this.globalData.defs.appendChild(e),this.checkMasks()){let e=tP("g");e.setAttribute("clip-path",`url(${Z()}#${i})`),e.appendChild(this.layerElement),this.transformedElement=e,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path",`url(${Z()}#${i})`)}0!==this.data.bm&&this.setBlendMode()}createRenderableComponents(){if(!this.data)throw Error(`${this.constructor.name}: layerData is not initialized`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not initialized`);this.maskManager=new sk(this.data,this,this.globalData),this.renderableEffectsManager=new sC(this),this.searchEffectTransforms()}destroyBaseElement(){this.layerElement=null,this.matteElement=null,this.maskManager?.destroy()}getBaseElement(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);return this.data.hd?null:this.baseElement??null}getMatte(t=1){let e,s,i,r;if(this.matteMasks=this.matteMasks??{},this.matteMasks[t])return this.matteMasks[t];let a=new sA,n=`${this.layerId}_${t}`;switch(t){case 1:case 3:{let o=tP("mask");if(o.setAttribute("id",n),o.setAttribute("mask-type",3===t?"luminance":"alpha"),(i=tP("use")).setAttributeNS("http://www.w3.org/1999/xlink","href",`#${this.layerId}`),o.appendChild(i),this.globalData?.defs.appendChild(o),a.maskType||1!==t)break;o.setAttribute("mask-type","luminance"),s=sx(e=tM()),this.globalData?.defs.appendChild(s),s.appendChild(sE()),(r=tP("g")).appendChild(i),o.appendChild(r),r.setAttribute("filter",`url(${Z()}#${e})`)}break;case 2:{let t=tP("mask");t.setAttribute("id",n),t.setAttribute("mask-type","alpha");let o=tP("g");t.appendChild(o),s=sx(e=tM());let h=tP("feComponentTransfer");h.setAttribute("in","SourceGraphic"),s.appendChild(h);let l=tP("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),h.appendChild(l),this.globalData?.defs.appendChild(s);let m=tP("rect");m.setAttribute("width",`${Number(this.comp?.data?.w)}`),m.setAttribute("height",`${Number(this.comp?.data?.h)}`),m.setAttribute("x","0"),m.setAttribute("y","0"),m.setAttribute("fill","#ffffff"),m.setAttribute("opacity","0"),o.setAttribute("filter",`url(${Z()}#${e})`),o.appendChild(m),(i=tP("use")).setAttributeNS("http://www.w3.org/1999/xlink","href",`#${this.layerId}`),o.appendChild(i),a.maskType||(t.setAttribute("mask-type","luminance"),s.appendChild(sE()),r=tP("g"),o.appendChild(m),this.layerElement&&r.appendChild(this.layerElement),o.appendChild(r)),this.globalData?.defs.appendChild(t)}}return this.matteMasks[t]=n,this.matteMasks[t]}initRendererElement(){this.layerElement=tP("g")}renderElement(){if(!this.finalTransform)throw Error(`${this.constructor.name}: finalTransform is not implemented`);this.finalTransform._localMatMdf&&this.transformedElement?.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement?.setAttribute("opacity",`${this.finalTransform.localOpacity}`)}setMatte(t){this.matteElement&&this.matteElement.setAttribute("mask",`url(${Z()}#${t})`)}}class sD extends sT{constructor(t,e,s){super(),this.layers=[],t.refId&&(this.assetData=e.getAssetData(t.refId)),this.assetData?.sid&&(this.assetData=e.slotManager?.getProp(this.assetData)||null),this.initElement(t,e,s),this.sourceRect={height:Number(this.assetData?.h),left:0,top:0,width:Number(this.assetData?.w)}}createContent(){let t="";this.assetData&&this.globalData?.getAssetsPath&&(t=this.globalData.getAssetsPath(this.assetData)),this.assetData&&(this.innerElem=tP("image"),this.innerElem.setAttribute("width",`${this.assetData.w}px`),this.innerElem.setAttribute("height",`${this.assetData.h}px`),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData?.renderConfig?.imagePreserveAspectRatio||""),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement?.appendChild(this.innerElem))}renderInnerContent(){}sourceRectAtTime(){return this.sourceRect}}class sI extends sr{constructor(t,e,s){super(),this.initFrame(),this.initBaseData(t,e,s),this.initTransform(),this.initHierarchy()}getBaseElement(){return null}prepareFrame(t){this.prepareProperties(t,!0)}renderFrame(t){return null}}class sF extends sD{constructor(t,e,s){super(t,e,s),this.initElement(t,e,s)}createContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let t=tP("rect");t.width.baseVal.value=Number(this.data.sw),t.height.baseVal.value=Number(this.data.sh),this.data.sc&&t.setAttribute("fill",this.data.sc),this.layerElement?.appendChild(t)}}class sN{constructor(){this.it=[],this.prevViewData=[],this.gr=tP("g")}}let sL=new e7,s$=new e7;function sV(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderContetTransform is missing data");(s||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",`${e.transform.op.v}`),(s||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function sz(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderFill is missing data");let i=e.style;e.c?.v&&(e.c._mdf||s)&&i.pElem.setAttribute("fill",`rgb(${Math.floor(e.c.v[0])},${Math.floor(e.c.v[1])},${e.c.v[2]})`),(e.o?._mdf||s)&&i.pElem.setAttribute("fill-opacity",`${e.o?.v}`)}function sR(t,e,s){let i,r;if(!e)throw Error("SVGElementsRenderer: Method renderGradient is missing data");let a=e.gf,n=e.g?._hasOpacity,o=e.s?.v??[0,0],h=e.e?.v??[0,0];if(e.o?._mdf||s){let s=t.ty===$.GradientFill?"fill-opacity":"stroke-opacity";e.style?.pElem.setAttribute(s,`${e.o?.v}`)}if(e.s?._mdf||s){let s=1===t.t?"x1":"cx",i="x1"===s?"y1":"cy";a?.setAttribute(s,`${o[0]}`),a?.setAttribute(i,`${o[1]}`),n&&!e.g?._collapsable&&(e.of?.setAttribute(s,`${o[0]}`),e.of?.setAttribute(i,`${o[1]}`))}if(e.g&&(e.g._cmdf||s)){i=e.cst;let t=e.g.c,{length:s}=i;for(let e=0;e<s;e++)(r=i[e]).setAttribute("offset",`${t[4*e]}%`),r.setAttribute("stop-color",`rgb(${t[4*e+1]},${t[4*e+2]},${t[4*e+3]})`)}if(n&&e.g&&(e.g._omdf||s)){let t=e.g.o,{length:s}=i=e.g._collapsable?e.cst:e.ost;for(let a=0;a<s;a++)r=i[a],e.g._collapsable||r.setAttribute("offset",`${t[2*a]}%`),r.setAttribute("stop-opacity",`${t[2*a+1]}`)}if(1===t.t)(e.e?._mdf||s)&&(a?.setAttribute("x2",`${h[0]}`),a?.setAttribute("y2",`${h[1]}`),n&&!e.g?._collapsable&&(e.of?.setAttribute("x2",`${h[0]}`),e.of?.setAttribute("y2",`${h[1]}`)));else{let t=0;if((e.s?._mdf||e.e?._mdf||s)&&(t=Math.sqrt(Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2)),a?.setAttribute("r",`${t}`),n&&!e.g?._collapsable&&e.of?.setAttribute("r",`${t}`)),e.e?._mdf||e.h?._mdf||e.a?._mdf||s){t||(t=Math.sqrt(Math.pow(o[0]-h[0],2)+Math.pow(o[1]-h[1],2)));let s=Math.atan2(h[1]-o[1],h[0]-o[0]),i=Number(e.h?.v);i>=1?i=.99:i<=-1&&(i=-.99);let r=t*i,l=Math.cos(s+Number(e.a?.v))*r+o[0],m=Math.sin(s+Number(e.a?.v))*r+o[1];a?.setAttribute("fx",`${l}`),a?.setAttribute("fy",`${m}`),n&&!e.g?._collapsable&&(e.of?.setAttribute("fx",`${l}`),e.of?.setAttribute("fy",`${m}`))}}}function sO(t,e,s){sR(t,e,s),sj(t,e,s)}function sB(t){}function sq(t,e,s){let i,r,a,n,o,h,l;if(!e)throw Error("SVGElementsRenderer: Method renderPath is missing data");let{caches:m,lvl:p,sh:d,styles:c,transformers:u}=e,{length:f}=c;for(let e=0;e<f;e++){if(r=d?._mdf||!!s,c[e].lvl<p){for(o=s$.reset(),h=p-c[e].lvl,l=u.length-1;!r&&h>0;)r=u[l].mProps._mdf||r,h--,l--;if(r)for(h=p-c[e].lvl,l=u.length-1;h>0;)o.multiply(u[l].mProps.v),h--,l--}else o=sL;n=d?.paths;let f=n?._length||0;if(r){i="";for(let t=0;t<f;t++)a=n?.shapes[t],a?._length&&(i+=tA(a,a._length,!!a.c,o));m[e]=i}else i=m[e];c[e].d+=!0===t.hd?"":i,c[e]._mdf=r||c[e]._mdf}}function sj(t,e,s){if(!e)throw Error("SVGElementsRenderer: Method renderStroke is missing data");let{c:i,d:r,o:a,style:n,w:o}=e;r&&(r._mdf||s)&&r.dashStr&&(n?.pElem.setAttribute("stroke-dasharray",r.dashStr),n?.pElem.setAttribute("stroke-dashoffset",`${r.dashoffset[0]}`)),i&&(i._mdf||s)&&n?.pElem.setAttribute("stroke",`rgb(${Math.floor(i.v[0])},${Math.floor(i.v[1])},${Math.floor(i.v[2])})`),(a?._mdf||s)&&n?.pElem.setAttribute("stroke-opacity",`${a?.v??1}`),(o?._mdf||s)&&(n?.pElem.setAttribute("stroke-width",`${o?.v||0}`),n?.msElem&&n.msElem.setAttribute("stroke-width",`${o?.v||0}`))}class sG extends eq{constructor(t,e,s){super(),this.it=[],this.prevViewData=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=eX.getProp(t,e.o,0,.01,this),this.c=eX.getProp(t,e.c,1,255,this),this.style=s}}class sH extends eq{constructor(t,e,s){super(),this.data=e,this.c=ex(F.Uint8c,4*e.p);let i=e.k.k?.[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=ex(F.Float32,i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(s),this.prop=eX.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}checkCollapsable(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k?.[0].s){let t=0,e=this.data.k.k.length;for(;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t++}}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0}comparePoints(t,e){let s=0,i=this.o.length/2;for(;s<i;){if(Math.abs(t[4*s]-t[4*e+2*s])>.01)return!1;s++}return!0}getValue(t){let e,s;if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,!this.prop._mdf&&!t||!tL(this.prop.v))return 0;let i=4*this.data.p;for(let r=0;r<i;r++)e=r%4==0?100:255,s=Math.round(this.prop.v[r]*e),this.c[r]!==s&&(this.c[r]=s,this._cmdf=!t);if(this.o.length>0){let{length:e}=this.prop.v;for(let i=4*this.data.p;i<e;i++)s=i%2==0?Math.round(100*this.prop.v[i]):this.prop.v[i],this.o[i-4*this.data.p]!==s&&(this.o[i-4*this.data.p]=s,this._omdf=!t)}return this._mdf=!t,0}}class sW extends eq{constructor(t,e,s){super(),this.cst=[],this.it=[],this.ost=[],this.prevViewData=[],this.stops=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,s)}initGradientData(t,e,s){this.o=eX.getProp(t,e.o,0,.01,this),this.s=eX.getProp(t,e.s,1,null,this),this.e=eX.getProp(t,e.e,1,null,this),this.h=eX.getProp(t,e.h??{k:0},0,.01,this),this.a=eX.getProp(t,e.a??{k:0},0,ts,this),this.g=new sH(t,e.g,this),this.style=s,this.stops=[],this.setGradientData(s.pElem,e),this.setGradientOpacity(e,s),this._isAnimated=!!this._isAnimated}setGradientData(t,e){let s,i=tM(),r=tP(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");let a=[],n=4*(e.g?.p||1);for(let t=0;t<n;t+=4)s=tP("stop"),r.appendChild(s),a.push(s);t.setAttribute(e.ty===$.GradientFill?"fill":"stroke",`url(${Z()}#${i})`),this.gf=r,this.cst=a}setGradientOpacity(t,e){let s;if(!this.g?._hasOpacity||this.g._collapsable)return;let i=tP("mask"),r=tP("path");i.appendChild(r);let a=tM(),n=tM();i.setAttribute("id",n);let o=tP(1===t.t?"linearGradient":"radialGradient");o.setAttribute("id",a),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");let h=(t.g?.k.k?.[0].s?(t.g?.k.k)[0].s.length:t.g?.k.k.length)||0,{stops:l}=this;for(let e=4*(t.g?.p||1);e<h;e+=2)(s=tP("stop")).setAttribute("stop-color","rgb(255,255,255)"),o.appendChild(s),l.push(s);r.setAttribute(t.ty===$.GradientFill?"fill":"stroke",`url(${Z()}#${a})`),t.ty===$.GradientStroke&&(r.setAttribute("stroke-linecap",R[t.lc||2]),r.setAttribute("stroke-linejoin",O[t.lj||2]),1===t.lj&&r.setAttribute("stroke-miterlimit",`${Number(t.ml)}`)),this.of=o,this.ms=i,this.ost=l,this.maskId=n,e.msElem=r}}class sU extends eq{constructor(t,e,s,i){let r;super(),this.elem=t,this.frameId=-1,this.dataProps=eA(e.length),this.renderer=s,this.k=!1,this.dashStr="",this.dashArray=ex(F.Float32,e.length>0?e.length-1:0),this.dashoffset=ex(F.Float32,1),this.initDynamicPropertyContainer(i);let a=e.length||0;for(let s=0;s<a;s++)r=eX.getProp(t,e[s].v,0,0,this),this.k=r.k||this.k,this.dataProps[s]={n:e[s].n,p:r};this.k||this.getValue(!0),this._isAnimated=this.k}getValue(t){if(this.elem.globalData?.frameId===this.frameId&&!t||(this.elem.globalData?.frameId&&(this.frameId=this.elem.globalData.frameId),this.iterateDynamicProperties(),this._mdf=this._mdf||!!t,!this._mdf))return 0;let e=this.dataProps.length;this.renderer===L.SVG&&(this.dashStr="");for(let t=0;t<e;t++){if("o"===this.dataProps[t].n){this.dashoffset[0]=this.dataProps[t].p.v;continue}if(this.renderer===L.SVG){this.dashStr+=` ${this.dataProps[t].p.v}`;continue}this.dashArray[t]=this.dataProps[t].p.v}return 0}}class sY extends sW{constructor(t,e,s){super(t,e,s),this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=eX.getProp(t,e.w,0,null,this),this.d=new sU(t,e.d||[],L.SVG,this),this.initGradientData(t,e,s),this._isAnimated=!!this._isAnimated}}class sX extends eq{constructor(t,e,s){super(),this.it=[],this.prevViewData=[],this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=s}}class sJ{setAsAnimated(){this._isAnimated=!0}constructor(){this.caches=[],this.it=[],this.lStr="",this.lvl=0,this.pathsData=[],this.prevViewData=[],this.sh=null,this.styledShapes=[],this.styles=[],this.tr=[],this.transformers=[],this.trNodes=[]}}class sZ extends sJ{constructor(t,e,s){super(),this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=s,this.lvl=e,this._isAnimated=!!s.k;let i=0,{length:r}=t;for(;i<r;){if(t[i].mProps.dynamicProperties.length>0){this._isAnimated=!0;break}i++}}}class sK extends sG{constructor(t,e,s){super(t,e,s),this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=eX.getProp(t,e.o,0,.01,this),this.w=eX.getProp(t,e.w,0,null,this),this.d=new sU(t,e.d||[],L.SVG,this),this.c=eX.getProp(t,e.c,1,255,this),this.style=s,this._isAnimated=!!this._isAnimated}}class sQ{constructor(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=tP("path"),this.msElem=null}reset(){this.d="",this._mdf=!1}}class s0{constructor(t,e,s){this.transform={container:s,mProps:t,op:e},this.elements=[],this._isAnimated=!!(this.transform.mProps.dynamicProperties.length>0||this.transform.op.effectsSequence.length>0)}}class s1{constructor(t,e){this.elem=t,this.pos=e}}class s2 extends sn{addProcessedElement(t,e){let{processedElements:s}=this,i=s.length;for(;i;)if(s[--i].elem===t){s[i].pos=e;return}s.push(new s1(t,e))}addShapeToModifiers(t){let{length:e}=this.shapeModifiers;for(let s=0;s<e;s++)this.shapeModifiers[s].addShape(t)}isShapeInAnimatedModifiers(t){let e=0,{length:s}=this.shapeModifiers;for(;e<s;){if(this.shapeModifiers[e].isAnimatedWithShape(t))return!0;e++}return!1}prepareFrame(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}renderModifiers(){if(0===this.shapeModifiers.length)return;let{length:t}=this.shapes;for(let e=0;e<t;e++)this.shapes[e].sh?.reset();let{length:e}=this.shapeModifiers;for(let t=e-1;t>=0&&!this.shapeModifiers[t].processShapes(!!this._isFirstFrame);t--);}searchProcessedElement(t){let{processedElements:e}=this,s=0,{length:i}=e;for(;s<i;){if(e[s].elem===t)return e[s].pos;s++}return 0}constructor(...t){super(...t),this.processedElements=[],this.shapeModifiers=[],this.shapes=[]}}let s3={};function s5(t,e,s){if(!s3[t])throw Error("Invalid modifier");return new s3[t]}function s4(t,e){s3[t]=s3[t]??e}class s6 extends s2{constructor(t,e,s){super(),this.createContainerElements=sT.prototype.createContainerElements,this.createRenderableComponents=sT.prototype.createRenderableComponents,this.destroyBaseElement=sT.prototype.destroyBaseElement,this.getBaseElement=sT.prototype.getBaseElement,this.getMatte=sT.prototype.getMatte,this.identityMatrix=new e7,this.initRendererElement=sT.prototype.initRendererElement,this.renderElement=sT.prototype.renderElement,this.setMatte=sT.prototype.setMatte,this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,s),this.prevViewData=[]}addToAnimatedContents(t,e){let s=0,{length:i}=this.animatedContents;for(;s<i;){if(this.animatedContents[s].element===e)return;s++}this.animatedContents.push({data:t,element:e,fn:function(t){switch(t.ty){case $.Fill:return sz;case $.GradientFill:return sR;case $.GradientStroke:return sO;case $.Stroke:return sj;case $.Path:case $.Ellipse:case $.Rectangle:case $.PolygonStar:return sq;case $.Transform:return sV;case $.NoStyle:return sB;default:return null}}(t)})}buildExpressionInterface(){}createContent(){if(!this.layerElement)throw Error(`${this.constructor.name}: Could not access Layer`);this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()}createGroupElement(t){let e=new sN;return t.ln&&(e.gr.id=t.ln),t.cl&&e.gr.classList.add(t.cl),t.bm&&(e.gr.style.mixBlendMode=tD(t.bm)),e}createShapeElement(t,e,s){let i=4;switch(t.ty){case $.Rectangle:i=5;break;case $.Ellipse:i=6;break;case $.PolygonStar:i=7}let r=new sZ(e,s,sS.getShapeProp(this,t,i));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r}createStyleElement(t,e){let s=null,i=new sQ(t,e),r=i.pElem;switch(t.ty){case $.Stroke:s=new sK(this,t,i);break;case $.Fill:s=new sG(this,t,i);break;case $.GradientFill:case $.GradientStroke:(s=new(t.ty===$.GradientFill?sW:sY)(this,t,i)).gf&&this.globalData?.defs.appendChild(s.gf),s.maskId&&s.ms&&s.of&&(this.globalData?.defs.appendChild(s.ms),this.globalData?.defs.appendChild(s.of),r.setAttribute("mask",`url(${Z()}#${s.maskId})`));break;case $.NoStyle:s=new sX(this,t,i)}return(t.ty===$.Stroke||t.ty===$.GradientStroke)&&(r.setAttribute("stroke-linecap",R[t.lc||2]),r.setAttribute("stroke-linejoin",O[t.lj||2]),r.setAttribute("fill-opacity","0"),1===t.lj&&t.ml&&r.setAttribute("stroke-miterlimit",`${t.ml}`)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&r.setAttribute("id",t.ln),t.cl&&r.setAttribute("class",t.cl),t.bm&&(r.style.mixBlendMode=tD(t.bm)),this.stylesList.push(i),s&&this.addToAnimatedContents(t,s),s}createTransformElement(t,e){let s=se.getTransformProperty(this,t,this);if(!s.o)throw Error(`${this.constructor.name}: Missing required data in TransformProperty`);let i=new s0(s,s.o,e);return this.addToAnimatedContents(t,i),i}destroy(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null}filterUniqueShapes(){let t,e,{length:s}=this.shapes,i=this.stylesList.length,r=[];for(let a=0;a<i;a++){t=this.stylesList[a],e=!1,r.length=0;for(let i=0;i<s;i++)this.shapes[i].styles.includes(t)&&(r.push(this.shapes[i]),e=this.shapes[i]._isAnimated||e);r.length>1&&e&&this.setShapesAsAnimated(r)}}initSecondaryElement(){}reloadShapes(){if(!this.layerElement)throw Error(`${this.constructor.name}: Could not access layerElement`);this._isFirstFrame=!0;let{length:t}=this.itemsData;for(let e=0;e<t;e++)this.prevViewData[e]=this.itemsData[e];this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes();let{length:e}=this.dynamicProperties;for(let t=0;t<e;t++)this.dynamicProperties[t].getValue();this.renderModifiers()}renderInnerContent(){this.renderModifiers();let{length:t}=this.stylesList;for(let e=0;e<t;e++)this.stylesList[e].reset();this.renderShape();for(let e=0;e<t;e++)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem?.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d=`M0 0${this.stylesList[e].d}`),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))}renderShape(){let{length:t}=this.animatedContents;for(let e=0;e<t;e++)(this._isFirstFrame||this.animatedContents[e].element._isAnimated)&&!0!==this.animatedContents[e].data&&this.animatedContents[e].fn&&this.animatedContents[e].fn?.(this.animatedContents[e].data,this.animatedContents[e].element,this._isFirstFrame)}searchShapes(t,e,s,i,r,a,n){let o,h,l=n,m=[...a],p=[],d=[],{length:c}=t;for(let a=c-1;a>=0;a--){let n=this.searchProcessedElement(t[a]);switch(n?e[a]=s[n-1]:t[a]._render=l,t[a].ty){case $.Fill:case $.Stroke:case $.GradientFill:case $.GradientStroke:case $.NoStyle:if(n){let{style:t}=e[a]??{style:null};t&&(t.closed=!1)}else e[a]=this.createStyleElement(t[a],r);if(t[a]._render&&e[a]?.style?.pElem.parentNode!==i){let{pElem:t}=e[a].style??{pElem:null};t&&i.appendChild(t)}p.push(e[a]?.style);break;case $.Group:if(n){let{length:t}=e[a]?.it??[];for(let s=0;s<t;s++){let{it:t,prevViewData:i}=e[a]??{it:null,prevViewData:null};i&&t&&(i[s]=t[s])}}else e[a]=this.createGroupElement(t[a]);if(this.searchShapes(t[a].it,e[a]?.it??[],e[a]?.prevViewData??[],e[a].gr,r+1,m,l),t[a]._render&&e[a]?.gr?.parentNode!==i){let{gr:t}=e[a];t&&i.appendChild(t)}break;case $.Transform:n||(e[a]=this.createTransformElement(t[a],i)),(o=e[a]?.transform)&&m.push(o);break;case $.Path:case $.Rectangle:case $.Ellipse:case $.PolygonStar:n||(e[a]=this.createShapeElement(t[a],m,r)),this.setElementStyles(e[a]);break;case $.Trim:case $.RoundedCorners:case $.Unknown:case $.PuckerBloat:case $.ZigZag:case $.OffsetPath:n?(h=e[a]).closed=!1:((h=s5(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),d.push(h);break;case $.Repeater:if(n){(h=e[a]).closed=!0,d.push(h);break}h=s5(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),l=!1,d.push(h)}this.addProcessedElement(t[a],a+1)}let{length:u}=p;for(let t=0;t<u;t++){let e=p[t];e&&(e.closed=!0)}let{length:f}=d;for(let t=0;t<f;t++)d[t].closed=!0}setElementStyles(t){let{length:e}=this.stylesList;for(let s=0;s<e;s++)this.stylesList[s].closed||t.styles.push(this.stylesList[s])}setShapesAsAnimated(t){let{length:e}=t;for(let s=0;s<e;s++)t[s].setAsAnimated()}}class s8{constructor(t,e,s,i,r,a){this.o=t,this.sw=e,this.sc=s,this.fc=i,this.m=r,this.p=a,this._mdf={fc:!!i,m:!0,o:!0,p:!0,sc:!!s,sw:!!e}}update(t,e,s,i,r,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;let n=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,n=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,n=!0),this.sc!==s&&(this.sc=s,this._mdf.sc=!0,n=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,n=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,n=!0),Array.isArray(a)&&a.length>0&&(this.p[0]!==a[0]||this.p[1]!==a[1]||this.p[4]!==a[4]||this.p[5]!==a[5]||this.p[12]!==a[12]||this.p[13]!==a[13])&&(this.p=a,this._mdf.p=!0,n=!0),n}}class s9 extends ej{constructor(t,e){super(),this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=eX.getProp(t,e.s??{a:0,k:0},0,0,this),"e"in e?this.e=eX.getProp(t,e.e,0,0,this):this.e={v:100},this.o=eX.getProp(t,e.o??{a:0,k:0},0,0,this),this.xe=eX.getProp(t,e.xe??{a:0,k:0},0,0,this),this.ne=eX.getProp(t,e.ne??{a:0,k:0},0,0,this),this.sm=eX.getProp(t,e.sm??{a:0,k:100},0,0,this),this.a=eX.getProp(t,e.a,0,.01,this),0===this.dynamicProperties.length&&this.getValue()}getMult(t,e){let s=t;this._currentTextLength!==this.elem.textProperty?.currentData.l.length&&this.getValue();let i=0,r=0,a=1,n=1;this.ne.v>0?i=this.ne.v/100:r=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:n=1+this.xe.v/100;let o=eO(i,r,a,n).get,h=0,l=this.finalS,m=this.finalE;switch(this.data.sh){case 2:h=o(h=m===l?+(s>=m):Math.max(0,Math.min(.5/(m-l)+(s-l)/(m-l),1)));break;case 3:h=o(h=m===l?s>=m?0:1:1-Math.max(0,Math.min(.5/(m-l)+(s-l)/(m-l),1)));break;case 4:m===l?h=0:(h=Math.max(0,Math.min(.5/(m-l)+(s-l)/(m-l),1)))<.5?h*=2:h=1-2*(h-.5),h=o(h);break;case 5:if(m===l)h=0;else{let t=m-l,e=-t/2+(s=Math.min(Math.max(0,s+.5-l),m-l)),i=t/2;h=Math.sqrt(1-e*e/(i*i))}h=o(h);break;case 6:h=o(h=m===l?0:(1+Math.cos(Math.PI+2*Math.PI*(s=Math.min(Math.max(0,s+.5-l),m-l))/(m-l)))/2);break;default:s>=Math.floor(l)&&(h=s-l<0?Math.max(0,Math.min(Math.min(m,1)-(l-s),1)):Math.max(0,Math.min(m-s,1))),h=o(h)}if(100!==this.sm.v){let t=.01*this.sm.v;0===t&&(t=1e-8);let e=.5-.5*t;h<e?h=0:(h=(h-e)/t)>1&&(h=1)}return h*Number(this.a.v)}getTextSelectorProp(t,e,s){throw Error("Method not implemented")}getValue(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty?.currentData.l.length||0,t&&2===this.data.r&&this.e.v&&(this.e.v=this._currentTextLength);let e=2===this.data.r?1:100/this.data.totalChars,s=Number(this.o.v)/e,i=Number(this.s?.v)/e+s,r=Number(this.e.v)/e+s;if(i>r){let t=i;i=r,r=t}return this.finalS=i,this.finalE=r,0}}class s7{constructor(t,e,s){let i={propType:!1},r=e?.a;this.a={a:r?.a?eX.getProp(t,r.a,1,0,s):i,fb:r?.fb?eX.getProp(t,r.fb,0,.01,s):i,fc:r?.fc?eX.getProp(t,r.fc,1,0,s):i,fh:r?.fh?eX.getProp(t,r.fh,0,0,s):i,fs:r?.fs?eX.getProp(t,r.fs,0,.01,s):i,o:r?.o?eX.getProp(t,r.o,0,.01,s):i,p:r?.p?eX.getProp(t,r.p,1,0,s):i,r:r?.r?eX.getProp(t,r.r,0,ts,s):i,rx:r?.rx?eX.getProp(t,r.rx,0,ts,s):i,ry:r?.ry?eX.getProp(t,r.ry,0,ts,s):i,s:r?.s?eX.getProp(t,r.s,1,.01,s):i,sa:r?.sa?eX.getProp(t,r.sa,0,ts,s):i,sc:r?.sc?eX.getProp(t,r.sc,1,0,s):i,sk:r?.sk?eX.getProp(t,r.sk,0,ts,s):i,sw:r?.sw?eX.getProp(t,r.sw,0,0,s):i,t:r?.t?eX.getProp(t,r.t,0,0,s):i},this.s=new s9(t,e?.s),this.s.t=e?.s?.t}}class it extends eq{constructor(t,e,s){super(),this.defaultPropsArray=[],this.mHelper=new e7,this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=s,this._animatorsData=eA(Number(this._textData.a?.length)),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(s)}getMeasures(t,e){let s,i,r,a;if(this.lettersChangedFlag=!!e,!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m?._mdf))return;this._isFirstFrame=!1;let n=this._moreOptions.alignment.v,o=this._animatorsData,h=this._textData,l=this.mHelper,m=this._renderType,p=this.renderedLetters.length,d,c,u,f,g=t.l,y,b=0,v,_=0,w,S=0,k=0,E,x=null,A,M=0,P=0,C,T,D;if(this._hasMaskedPath){if(D=this._pathData.m,!this._pathData.n||this._pathData._mdf){let t,e=D?.v??[];for(this._pathData.r?.v&&(e=e.reverse()),y={segments:[],tLength:0},f=Number(e._length)-1,P=0,u=0;u<f;u++)t=eD(e.v[u],e.v[u+1],[e.o[u][0]-e.v[u][0],e.o[u][1]-e.v[u][1]],[e.i[u+1][0]-e.v[u+1][0],e.i[u+1][1]-e.v[u+1][1]]),y.tLength+=t.segmentLength,y.segments.push(t),P+=t.segmentLength;u=f,D.v.c&&(t=eD(e.v[u],e.v[0],[e.o[u][0]-e.v[u][0],e.o[u][1]-e.v[u][1]],[e.i[0][0]-e.v[0][0],e.i[0][1]-e.v[0][1]]),y.tLength+=t.segmentLength,y.segments.push(t),P+=t.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,b=this._pathData.f.v,k=0,S=1,_=0,A=y.segments,b<0&&D.v.c)for(y.tLength<Math.abs(b)&&(b=-Math.abs(b)%y.tLength),k=A.length-1,S=(x=A[k].points).length-1;b<0;)b+=x[S]?.partialLength,(S-=1)<0&&(k-=1,S=(x=A[k].points).length-1);E=(x=A[k].points)[S-1],M=(v=x[S]).partialLength}f=g.length||0,d=0,c=0;let I=1.2*(t.finalSize||0)*.714,F=!0,N=o.length,$,V=-1,z,R,O,B=b,q=k,j=S,G=-1,H,W=[0,0,0],U=0,Y=[0,0,0],X,J,Z,K,Q="",tt=this.defaultPropsArray,te;if(2===t.j||1===t.j){let e=0,a=0,n=2===t.j?-.5:-1,l=0,m=!0;for(u=0;u<f;u++){if(g[u].n){for(e&&(e+=a);l<u;)g[l].animatorJustifyOffset=e,l++;e=0,m=!0;continue}for(r=0;r<N;r++)s=o[r].a,s?.t.propType&&(m&&2===t.j&&(a+=Number(s.t.v)*n),i=o[r].s,Array.isArray($=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars))?e+=Number(s.t.v)*$[0]*n:e+=Number(s.t.v)*Number($)*n);m=!1}for(e&&(e+=a);l<u;)g[l].animatorJustifyOffset=e,l++}for(u=0;u<f;u++){if(l.reset(),H=1,g[u].n)d=0,c+=t.yOffset||0,c+=+!!F,b=B,F=!1,this._hasMaskedPath&&(k=q||0,S=j||0,E=(x=A?.[k]?.points??[])[S-1],M=(v=x[S]).partialLength,_=0),Q="",K="",J="",te="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(G!==g[u].line){switch(t.j){case 1:b+=P-t.lineWidths[g[u].line];break;case 2:b+=(P-t.lineWidths[g[u].line])/2}G=g[u].line||0}V!==g[u].ind&&(g[V]&&(b+=Number(g[V].extra)),b+=(g[u].an||0)/2,V=g[u].ind||0),b+=n[0]*(g[u].an||0)*.005;let e=0;for(r=0;r<N;r++){if(s=o[r].a,s?.p.propType){if(i=o[r].s,!($=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars)))continue;Array.isArray(s.p.v)&&(Array.isArray($)?e+=s.p.v[0]*$[0]:e+=s.p.v[0]*$)}if(s?.a.propType){if((i=o[r].s,$=i?.getMult(Number(g[u].anIndexes[r]),h.a?.[r].s?.totalChars))&&Array.isArray(s.a.v)){if(Array.isArray($)){e+=s.a.v[0]*$[0];continue}e+=s.a.v[0]*$}}}for(w=!0,this._pathData.a?.v&&(b=.5*(g[0].an||0)+(P-Number(this._pathData.f?.v)-.5*(g[0].an||0)-.5*g[g.length-1].an)*V/(f-1)+Number(this._pathData.f?.v));w;)_+M>=b+e||!x?(C=(b+e-_)/(v?.partialLength||0),R=Number(E?.point[0])+(Number(v?.point[0])-Number(E?.point[0]))*C,O=Number(E?.point[1])+(Number(v?.point[1])-Number(E?.point[1]))*C,l.translate(-n[0]*Number(g[u].an)*.005,-(.01*(n[1]*I))),w=!1):x.length>0&&(_+=Number(v?.partialLength),++S>=x.length&&(S=0,k++,A?.[k]?x=A[k].points:D?.v.c?(S=0,k=0,x=A?.[k].points??[]):(_-=Number(v?.partialLength),x=null)),x&&(E=v,M=(v=x[S]).partialLength));z=g[u].an/2-g[u].add,l.translate(-z,0,0)}else z=g[u].an/2-g[u].add,l.translate(-z,0,0),l.translate(-n[0]*g[u].an*.005,-n[1]*I*.01,0);for(r=0;r<N;r++)if(s=o[r].a,s?.t.propType&&(i=o[r].s,$=i?.getMult(Number(g[u].anIndexes[r]),h.a?.[r].s?.totalChars),0!==d||0!==t.j)){if(this._hasMaskedPath){Array.isArray($)?b+=Number(s.t.v)*$[0]:b+=Number(s.t.v)*Number($);continue}if(Array.isArray($)){d+=Number(s.t.v)*$[0];continue}d+=Number(s.t.v)*Number($)}for(t.strokeWidthAnim&&(U=t.sw||0),t.strokeColorAnim&&(W=t.sc?[Number(t.sc[0]),Number(t.sc[1]),Number(t.sc[2])]:[0,0,0]),t.fillColorAnim&&t.fc&&(Y=[Number(t.fc[0]),Number(t.fc[1]),Number(t.fc[2])]),r=0;r<N;r++)if(s=o[r].a,s?.a.propType){if(i=o[r].s,!($=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars))||!Array.isArray(s.a.v))continue;if(Array.isArray($)){l.translate(-s.a.v[0]*$[0],-s.a.v[1]*$[1],s.a.v[2]*$[2]);continue}l.translate(-s.a.v[0]*$,-s.a.v[1]*$,s.a.v[2]*$)}for(r=0;r<N;r++)if(s=o[r].a,s?.s.propType){if(i=o[r].s,!($=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars))||!Array.isArray(s.s.v))continue;if(Array.isArray($)){l.scale(1+(s.s.v[0]-1)*$[0],1+(s.s.v[1]-1)*$[1],1);continue}l.scale(1+(s.s.v[0]-1)*$,1+(s.s.v[1]-1)*$,1)}for(r=0;r<N;r++)if(s=o[r].a,i=o[r].s,$=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars)){if(s?.sk.propType&&(Array.isArray($)?l.skewFromAxis(-Number(s.sk.v)*$[0],Number(s.sa.v)*$[1]):l.skewFromAxis(-Number(s.sk.v)*$,Number(s.sa.v)*$)),s?.r.propType&&(Array.isArray($)?l.rotateZ(-Number(s.r.v)*$[2]):l.rotateZ(-Number(s.r.v)*$)),s?.ry.propType&&(Array.isArray($)?l.rotateY(Number(s.ry.v)*$[1]):l.rotateY(Number(s.ry.v)*$)),s?.rx.propType&&(Array.isArray($)?l.rotateX(Number(s.rx.v)*$[0]):l.rotateX(Number(s.rx.v)*$)),s?.o.propType&&(Array.isArray($)?H+=(Number(s.o.v)*$[0]-H)*$[0]:H+=(Number(s.o.v)*$-H)*$),t.strokeWidthAnim&&s?.sw.propType&&(Array.isArray($)?U+=Number(s.sw.v)*$[0]:U+=Number(s.sw.v)*$),t.strokeColorAnim&&s?.sc.propType&&Array.isArray(s.sc.v))for(X=0;X<3;X++)Array.isArray($)?W[X]+=(s.sc.v[X]-W[X])*$[0]:W[X]+=(s.sc.v[X]-W[X])*$;if(t.fillColorAnim&&t.fc){if(s?.fc.propType)for(X=0;X<3;X++)Array.isArray(s.fc.v)&&(Array.isArray($)?Y[X]+=(s.fc.v[X]-Y[X])*$[0]:Y[X]+=(s.fc.v[X]-Y[X])*$);s?.fh.propType&&(Y=Array.isArray($)?tE(Y,Number(s.fh.v)*$[0]):tE(Y,Number(s.fh.v)*$)),s?.fs.propType&&(Y=Array.isArray($)?tx(Y,Number(s.fs.v)*$[0]):tx(Y,Number(s.fs.v)*$)),s?.fb.propType&&(Y=Array.isArray($)?tk(Y,Number(s.fb.v)*$[0]):tk(Y,Number(s.fb.v)*$))}}for(r=0;r<N;r++)if(s=o[r].a,s?.p.propType){if(i=o[r].s,!($=i?.getMult(g[u].anIndexes[r],h.a?.[r].s?.totalChars))||!Array.isArray(s.p.v))continue;this._hasMaskedPath?Array.isArray($)?l.translate(0,s.p.v[1]*$[0],-s.p.v[2]*$[1]):l.translate(0,s.p.v[1]*$,-s.p.v[2]*$):Array.isArray($)?l.translate(s.p.v[0]*$[0],s.p.v[1]*$[1],-s.p.v[2]*$[2]):l.translate(s.p.v[0]*$,s.p.v[1]*$,-s.p.v[2]*$)}if(t.strokeWidthAnim&&(J=U<0?0:U),t.strokeColorAnim&&(Z=`rgb(${Math.round(255*W[0])},${Math.round(255*W[1])},${Math.round(255*W[2])})`),t.fillColorAnim&&t.fc&&(K=`rgb(${Math.round(255*Y[0])},${Math.round(255*Y[1])},${Math.round(255*Y[2])})`),this._hasMaskedPath){if(l.translate(0,-Number(t.ls)),l.translate(0,n[1]*I*.01+c,0),this._pathData.p?.v){let t=180*Math.atan(T=(Number(v?.point[1])-Number(E?.point[1]))/(Number(v?.point[0])-Number(E?.point[0])))/Math.PI;Number(v?.point[0])<Number(E?.point[0])&&(t+=180),l.rotate(-t*Math.PI/180)}l.translate(Number(R),Number(O),0),b-=n[0]*g[u].an*.005,g[u+1]&&V!==g[u+1].ind&&(b+=g[u].an/2,b+=.001*t.tr*Number(t.finalSize))}else{switch(l.translate(d,c,0),t.ps&&l.translate(t.ps[0],t.ps[1]+Number(t.ascent),0),t.j){case 1:l.translate(g[u].animatorJustifyOffset+Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[g[u].line])),0,0);break;case 2:l.translate(g[u].animatorJustifyOffset+Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[g[u].line]))/2,0,0)}l.translate(0,-Number(t.ls)),l.translate(z,0,0),l.translate(n[0]*Number(g[u].an)*.005,n[1]*I*.01,0),d+=g[u].l+.001*t.tr*Number(t.finalSize)}m===L.HTML?Q=l.toCSS():m===L.SVG?Q=l.to2dCSS():tt=[l.props[0],l.props[1],l.props[2],l.props[3],l.props[4],l.props[5],l.props[6],l.props[7],l.props[8],l.props[9],l.props[10],l.props[11],l.props[12],l.props[13],l.props[14],l.props[15]],te=H}if(p<=u){a=new s8(Number(te),Number(J),Z,K,Q,tt),this.renderedLetters.push(a),p++,this.lettersChangedFlag=!0;continue}a=this.renderedLetters[u],this.lettersChangedFlag=a.update(Number(te),Number(J),Z,K,Q,tt)||this.lettersChangedFlag}}getValue(){return this._elem.globalData?.frameId===this._frameId||(this._frameId=this._elem.globalData?.frameId??0,this.iterateDynamicProperties()),0}searchProperties(t){let e=this._textData.a?.length||0;for(let t=0;t<e;t++)this._animatorsData[t]=new s7(this._elem,this._textData.a?.[t],this);this._textData.p?.m?(this._pathData={a:eX.getProp(this._elem,this._textData.p.a,0,0,this),f:eX.getProp(this._elem,this._textData.p.f,0,0,this),l:eX.getProp(this._elem,this._textData.p.l,0,0,this),m:this._elem.maskManager?.getMaskProperty(this._textData.p.m),p:eX.getProp(this._elem,this._textData.p.p,0,0,this),r:eX.getProp(this._elem,this._textData.p.r,0,0,this)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=eX.getProp(this._elem,this._textData.m?.a,1,0,this)}}let ie=[2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403],is={data:{shapes:[]},shapes:[],size:0,w:0},ii=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ir(t){let e=ia(t);return e>=127462&&e<=127487}function ia(t){let e=0,s=t.charCodeAt(0);if(s>=55296&&s<=56319){let i=t.charCodeAt(1);i>=56320&&i<=57343&&(e=(s-55296)*1024+i-56320+65536)}return e}function io(t,e){if(tn())return;let s=tC("span");s.setAttribute("aria-hidden","true"),s.style.fontFamily=e;let i=tC("span");i.innerText="giItT1WQy@!-/#",s.style.position="absolute",s.style.left="-10000px",s.style.top="-10000px",s.style.fontSize="300px",s.style.fontVariant="normal",s.style.fontStyle="normal",s.style.fontWeight="normal",s.style.letterSpacing="0",s.appendChild(i),document.body.appendChild(s);let r=i.offsetWidth;return i.style.fontFamily=`${function(t){let e=t.split(","),{length:s}=e,i=[];for(let t=0;t<s;t++)"sans-serif"!==e[t]&&"monospace"!==e[t]&&i.push(e[t]);return i.join(",")}(t)}, ${e}`,{node:i,parent:s,w:r}}class ih{constructor(){this.chars=null,this.fonts=[],this.isLoaded=!1,this.typekitLoaded=0,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)}addChars(t){if(!t)return;this.chars=this.chars??[];let{length:e}=t,s,{length:i}=this.chars,r;for(let a=0;a<e;a++){for(s=0,r=!1;s<i;)this.chars[s].style===t[a].style&&this.chars[s].fFamily===t[a].fFamily&&this.chars[s].ch===t[a].ch&&(r=!0),s++;!r&&(this.chars.push(t[a]),i++)}}addFonts(t,e){if(!t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=t.list;return}let{length:s}=t.list;if(!tn()){this.isLoaded=!0;for(let e=0;e<s;e++)t.list[e].helper=this.createHelper(t.list[e]),t.list[e].cache={};this.fonts=t.list;return}let i=s;for(let s=0;s<i;s++){let r=!0,a;if(t.list[s].loaded=!1,t.list[s].monoCase=io(t.list[s].fFamily,"monospace"),t.list[s].sansCase=io(t.list[s].fFamily,"sans-serif"),t.list[s].fPath){if(tn()||"p"!==t.list[s].fOrigin&&3!==t.list[s].origin)if(tn()||"g"!==t.list[s].fOrigin&&1!==t.list[s].origin){if(!tn()&&("t"===t.list[s].fOrigin||2===t.list[s].origin)){let{length:i}=a=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');for(s=0;s<i;s++)t.list[s].fPath===a[s].src&&(r=!1);if(r){let i=tC("link");i.setAttribute("f-forigin",t.list[s].fOrigin),i.setAttribute("f-origin",`${t.list[s].origin}`),i.rel="stylesheet",i.href=t.list[s].fPath,e?.appendChild(i)}}}else{let{length:e}=a=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');for(s=0;s<e;s++)a[s].href.includes(t.list[s].fPath)&&(r=!1);if(r&&!tn()){let e=tC("link");e.setAttribute("f-forigin",t.list[s].fOrigin),e.setAttribute("f-origin",`${t.list[s].origin}`),e.type="text/css",e.rel="stylesheet",e.href=t.list[s].fPath,document.body.appendChild(e)}}else if((a=document.querySelectorAll(`style[f-forigin="p"][f-family="${t.list[s].fFamily}"], style[f-origin="3"][f-family="${t.list[s].fFamily}"]`)).length>0&&(r=!1),r){let i=tC("style");i.setAttribute("f-forigin",t.list[s].fOrigin),i.setAttribute("f-origin",`${t.list[s].origin}`),i.setAttribute("f-family",t.list[s].fFamily),i.innerText=`@font-face {font-family: ${t.list[s].fFamily}; font-style: normal; src: url('${t.list[s].fPath}');}`,e?.appendChild(i)}}else t.list[s].loaded=!0,i-=1;t.list[s].helper=this.createHelper(t.list[s],e),t.list[s].cache={},this.fonts.push(t.list[s])}0===i?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}getCharData(t,e,s){let i=0,r=this.chars?.length||0;for(;i<r;){if(this.chars?.[i].ch===t&&this.chars[i].style===e&&this.chars[i].fFamily===s)return this.chars[i];i++}return("string"!=typeof t||13===t.charCodeAt(0))&&t||this._warned||(this._warned=!0,console.warn("Missing character from exported characters list: ",t,e,s)),is}getFontByName(t){let e=0,{length:s}=this.fonts;for(;e<s;){if(this.fonts[e].fName===t)return this.fonts[e];e++}return this.fonts[0]}measureText(t,e,s){let i=this.getFontByName(e);if(i.cache&&!i.cache[t]){let e=i.helper;if(" "===t){let s=Number(e?.measureText(`|${t}|`)),r=Number(e?.measureText("||"));i.cache[t]=(s-r)/100}else i.cache[t]=Number(e?.measureText(t))/100}return Number(i.cache?.[t])*Number(s)}checkLoadedFonts(){let t,e,s=this.fonts.length;for(let i=0;i<s;i++){if(this.fonts[i].loaded){s-=1;continue}if("n"===this.fonts[i].fOrigin||0===this.fonts[i].origin){this.fonts[i].loaded=!0;continue}if(t=this.fonts[i].monoCase?.node,e=this.fonts[i].monoCase?.w||0,t?.offsetWidth===e?(t=this.fonts[i].sansCase?.node,e=this.fonts[i].sansCase?.w||0,t?.offsetWidth!==e&&(s-=1,this.fonts[i].loaded=!0)):(s-=1,this.fonts[i].loaded=!0),!this.fonts[i].loaded)continue;let{monoCase:r,sansCase:a}=this.fonts[i];a&&this.fonts[i].sansCase?.parent.parentNode?.removeChild(a.parent),r&&this.fonts[i].monoCase?.parent.parentNode?.removeChild(r.parent)}if(0!==s&&Date.now()-this.initTime<5e3)return void setTimeout(this.checkLoadedFontsBinded,20);setTimeout(this.setIsLoadedBinded,10)}createHelper(t,e){let s;if(tn())return;let i=e?L.SVG:L.Canvas,r=il(t);if(i===L.SVG){let i=tP("text");i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",r.style),i.setAttribute("font-weight",r.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.classList.add(t.fClass)):i.style.fontFamily=t.fFamily,e?.appendChild(i),s=i}else{let e=new OffscreenCanvas(500,500).getContext("2d");e&&(e.font=`${r.style} ${r.weight} 100px ${t.fFamily}`,s=e)}return{measureText:t=>i===L.SVG?(s.textContent=t,s.getComputedTextLength()):s.measureText(t).width}}setIsLoaded(){this.isLoaded=!0}}function il(t){let e=t.fStyle?t.fStyle.split(" "):[],s="normal",i="normal",{length:r}=e;for(let t=0;t<r;t++)switch(e[t].toLowerCase()){case"italic":i="italic";break;case"bold":s="700";break;case"black":s="900";break;case"medium":s="500";break;case"regular":case"normal":s="400";break;case"light":case"thin":s="200"}return{style:i,weight:t.fWeight||s}}class im extends ej{constructor(t,e){super(),this.defaultBoxWidth=[0,0],this._frameId=-999999,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d?.sid&&(e.d=t.globalData?.slotManager?.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={__complete:!1,ascent:0,boxWidth:this.defaultBoxWidth,f:"",fc:"",fillColorAnim:!1,finalLineHeight:0,finalSize:0,finalText:[],fStyle:"",fWeight:"",justifyOffset:0,l:[],lh:0,lineWidths:[],ls:0,of:"",ps:null,s:0,sc:"",strokeColorAnim:!1,strokeWidthAnim:!1,sw:0,t:0,tr:0,yOffset:0};let s=this.data.d?.k[0].s;s&&this.copyData(this.currentData,s),this.searchProperty()||this.completeTextData(this.currentData)}addEffect(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)}buildFinalText(t){let e=[],s=0,i=t.length,r,a,n,o=!1,h;for(;s<i;){var l;(n=o,o=!1,r=t.charCodeAt(s),h=t.charAt(s),ie.includes(r))?n=!0:r>=55296&&r<=56319?function(t,e){let s=e,i=ia(t.slice(s,2));if(127988!==i)return!1;let r=0;for(s+=2;r<5;){if((i=ia(t.slice(s,2)))<917601||i>917626)return!1;r++,s+=2}return 917631===ia(t.slice(s,2))}(t,s)?h=t.slice(s,14):(a=t.charCodeAt(s+1))>=56320&&a<=57343&&(function(t,e){let s=t.toString(16)+e.toString(16);return ii.includes(s)}(r,a)?(h=t.slice(s,2),n=!0):h=ir((l=t.slice(s,4)).slice(0,2))&&ir(l.slice(2,2))?t.slice(s,4):t.slice(s,2)):r>56319?65039===r&&(n=!0):8205===r&&(n=!0,o=!0),n?e[e.length-1]+=h:e.push(h),s+=h.length}return e}calculateExpression(t){throw Error(`${this.constructor.name}: Method calculateExpression is not implemented`)}canResizeFont(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)}completeTextData(t){let e,s,i,r,a,n,o;t.__complete=!0;let{fontManager:h}=this.elem.globalData??{};if(!h)throw Error(`${this.constructor.name}: FontManager not loaded to globalData`);let{canResize:l,data:m,minimumFontSize:p}=this,d=[],c,u,f=0,g,y=m.m?.g,b=0,v=0,_=0,w=[],S,k=0,E=h.getFontByName(t.f),x=il(E);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(`${t.t}`),c=t.finalText.length||0,t.finalLineHeight=t.lh;let A=t.tr/1e3*t.finalSize;if(t.sz){let r,a,n=!0,[o,m]=t.sz;for(;n;){a=this.buildFinalText(`${t.t}`),r=0,S=0,c=a.length,A=t.tr/1e3*t.finalSize;let d=-1;for(let n=0;n<c;n++)i=a[n].charCodeAt(0),u=!1," "===a[n]?d=n:(13===i||3===i)&&(S=0,u=!0,r+=t.finalLineHeight||1.2*t.finalSize),h.chars?(e=h.getCharData(a[n],E.fStyle,E.fFamily),s=u?0:e.w*t.finalSize/100):s=h.measureText(a[n],t.f,t.finalSize)||0,S+s>o&&" "!==a[n]?(-1===d?c++:n=d,r+=t.finalLineHeight||1.2*t.finalSize,a.splice(n,+(d===n),"\r"),d=-1,S=0):(S+=s,S+=A);r+=Number(E.ascent)*t.finalSize/100,l&&t.finalSize>p&&m<r?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=a,c=t.finalText.length,n=!1)}}S=-A;let M=0,P;for(let r=0;r<c;r++)if(u=!1,13===(i=(P=t.finalText[r]).charCodeAt(0))||3===i?(M=0,w.push(S),k=S>k?S:k,S=-2*A,g="",u=!0,_++):g=P,h.chars?(e=h.getCharData(P,E.fStyle,h.getFontByName(t.f).fFamily),s=u?0:e.w*t.finalSize/100):s=h.measureText(g,t.f,t.finalSize)," "===P?M+=s+A:(S+=s+A+M,M=0),d.push({add:b,an:s,animatorJustifyOffset:0,anIndexes:[],l:s,line:_,n:u,val:g}),2===y){if(b+=s,""===g||" "===g||r===c-1){for((""===g||" "===g)&&(b-=s);v<=r;)d[v].an=b,d[v].ind=f,d[v].extra=s,v++;f++,b=0}}else if(3===y){if(b+=s,""===g||r===c-1){for(""===g&&(b-=s);v<=r;)d[v].an=b,d[v].ind=f,d[v].extra=s,v++;b=0,f++}}else d[f].ind=f,d[f].extra=0,f++;if(t.l=d,k=S>k?S:k,w.push(S),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=k,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=w;let C=m.a,{length:T}=C??[],D=[];for(let e=0;e<T;e++){if(!(r=C?.[e]))continue;r.a?.sc&&(t.strokeColorAnim=!0),r.a?.sw&&(t.strokeWidthAnim=!0),(r.a?.fc||r.a?.fh||r.a?.fs||r.a?.fb)&&(t.fillColorAnim=!0),o=0,n=Number(r.s?.b);for(let t=0;t<c;t++)(a=d[t]).anIndexes[e]=o,(1===n&&""!==a.val||2===n&&""!==a.val&&" "!==a.val||3===n&&(a.n||" "===a.val||t===c-1)||4===n&&(a.n||t===c-1))&&(1===Number(r.s?.rn)&&D.push(o),o++);let s=m.a?.[e].s;s&&(s.totalChars=o);let i=-1,h;if(r.s?.rn===1)for(let t=0;t<c;t++)i!==Number((a=d[t]).anIndexes[e])&&(i=a.anIndexes[e],h=D.splice(Math.floor(Math.random()*D.length),1)[0]),h&&(a.anIndexes[e]=h)}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=Number(E.ascent)*t.finalSize/100}copyData(t,e){let s=Object.keys(e),{length:i}=s;for(let r=0;r<i;r++)Object.hasOwn(e,s[r])&&(t[s[r]]=e[s[r]]);return t}getExpressionValue(t,e){throw Error(`${this.constructor.name}: Method getExpressionValue is not implemented`)}getKeyframeValue(){let t=this.data.d?.k??[],e=Number(this.elem.comp?.renderedFrame),s=0,i=t.length;for(;s<=i-1&&!(s===i-1||Number(t[s+1].t)>e);)s++;return this.keysIndex!==s&&(this.keysIndex=s),this.data.d?.k[this.keysIndex].s}getValue(t){if((this.elem.globalData?.frameId===this.frameId||0===this.effectsSequence.length)&&!t)return 0;let e=this.data.d?.k[this.keysIndex].s.t;e&&(this.currentData.t=e);let s=this.currentData,i=this.keysIndex;if(this.lock)return this.setCurrentData(this.currentData),0;this.lock=!0,this._mdf=!1;let{length:r}=this.effectsSequence,a=t??this.data.d?.k[this.keysIndex].s;for(let t=0;t<r;t++)a=i===this.keysIndex?this.effectsSequence[t](this.currentData,a?.t):this.effectsSequence[t](a,a?.t);return s!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData?.frameId,0}recalculate(t){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);let e=this.data.d.k[t].s;e&&(e.__complete=!1),this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)}searchExpressions(){throw Error(`${this.constructor.name}: Method searchExpressions is not implemented`)}searchKeyframes(){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf}searchProperty(){return this.searchKeyframes()}setCurrentData(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0}setMinimumFontSize(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)}updateDocumentData(t,e){if(!this.data.d)throw Error(`${this.constructor.name}: data.k (TextData -> DocumentData) is not implemented`);let s=e;s=s??this.keysIndex;let i=this.copyData({},this.data.d.k[s].s);i=this.copyData(i,t),this.data.d.k[s].s=i,this.recalculate(s),this.setCurrentData(i),this.elem.addDynamicProperty(this)}}class ip extends sn{applyTextPropertiesToMatrix(t,e,s,i,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+Number(t.ascent),0),e.translate(0,-Number(t.ls),0),t.j){case 1:e.translate(Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[s])),0,0);break;case 2:e.translate(Number(t.justifyOffset)+(Number(t.boxWidth)-Number(t.lineWidths[s]))/2,0,0)}e.translate(i,r,0)}buildColor(t){return`rgb(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])})`}buildNewText(){throw Error(`${this.constructor.name}: Method buildNewText is not implemented`)}canResizeFont(t){this.textProperty?.canResizeFont(t)}createPathShape(t,e){let s,i="",{length:r}=e;for(let a=0;a<r;a++)e[a].ty===$.Path&&e[a].ks?.k&&(i+=tA(s=e[a].ks?.k,s.i.length,!0,t));return i}initElement(t,e,s){if(!t.t)throw Error(`${this.constructor.name}: data.t (LottieLayer -> TextData) can't be undefined`);this.emptyProp=new s8,this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,s),this.textProperty=new im(this,t.t),this.textAnimator=new it(t.t,this.renderType||L.SVG,this),this.initTransform(),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)}prepareFrame(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}setMinimumFontSize(t){this.textProperty?.setMinimumFontSize(t)}updateDocumentData(t,e){this.textProperty?.updateDocumentData(t,e)}validateText(){(this.textProperty?._mdf||this.textProperty?._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)}}let id={shapes:[]};class ic extends ip{constructor(t,e,s){super(),this.createContainerElements=sT.prototype.createContainerElements,this.createRenderableComponents=sT.prototype.createRenderableComponents,this.destroyBaseElement=sT.prototype.destroyBaseElement,this.getBaseElement=sT.prototype.getBaseElement,this.getMatte=sT.prototype.getMatte,this.initRendererElement=sT.prototype.initRendererElement,this.renderedLetters=[],this.renderElement=sT.prototype.renderElement,this.setMatte=sT.prototype.setMatte,this.textSpans=[],this.renderType=L.SVG,this.initElement(t,e,s)}buildNewText(){let t,e;if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);if(!this.textProperty?.currentData)throw Error(`${this.constructor.name}: DocumentData is not implemented`);this.addDynamicProperty(this);let s=this.textProperty.currentData;this.renderedLetters=eA(s.l.length||0),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",`${s.sw||0}`)),this.layerElement.setAttribute("font-size",`${s.finalSize||0}`);let i=this.globalData.fontManager?.getFontByName(s.f);if(i?.fClass)this.layerElement.setAttribute("class",i.fClass);else{i?.fFamily&&this.layerElement.setAttribute("font-family",i.fFamily);let{fWeight:t}=s,{fStyle:e}=s;this.layerElement.setAttribute("font-style",e),this.layerElement.setAttribute("font-weight",t)}this.layerElement.setAttribute("aria-label",`${s.t}`);let r=s.l,a=!!this.globalData.fontManager?.chars;e=r.length;let n=null,o=this.mHelper,{singleShape:h}=this.data,l=0,m=0,p=!0,d=.001*s.tr*Number(s.finalSize);if(!h||a||s.sz){let c,u=this.textSpans.length;for(t=0;t<e;t++){if(this.textSpans[t]||(this.textSpans[t]={childSpan:null,glyph:null,span:null}),!a||!h||0===t){if(n=u>t?this.textSpans[t]?.span:tP(a?"g":"text"),u<=t){if(n?.setAttribute("stroke-linecap","butt"),n?.setAttribute("stroke-linejoin","round"),n?.setAttribute("stroke-miterlimit","4"),this.textSpans[t]&&(this.textSpans[t].span=n),a){let e=tP("g");n?.appendChild(e),this.textSpans[t]&&(this.textSpans[t].childSpan=e)}this.textSpans[t]&&(this.textSpans[t].span=n),n&&this.layerElement.appendChild(n)}n&&(n.style.display="inherit")}if(o.reset(),h&&(r[t].n&&(l=-d,m+=Number(s.yOffset),m+=+!!p,p=!1),this.applyTextPropertiesToMatrix(s,o,r[t].line,l,m),l+=r[t].l||0,l+=d),a){let e;if(c=this.globalData.fontManager?.getCharData(s.finalText[t],i?.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily),c?.t===1)e=new i_(c.data,this.globalData,this);else{let t=id;c?.data?.shapes&&(t=this.buildShapeData(c.data,Number(s.finalSize))),e=new s6(t,this.globalData,this)}if(this.textSpans[t]){let{glyph:s}=this.textSpans[t];s&&(s.layerElement&&this.textSpans[t]?.childSpan?.removeChild(s.layerElement),s.destroy()),this.textSpans[t].glyph=e}e._debug=!0,e.prepareFrame(0),e.renderFrame(),e.layerElement&&this.textSpans[t]?.childSpan?.appendChild(e.layerElement),c?.t===1&&this.textSpans[t]?.childSpan?.setAttribute("transform",`scale(${Number(s.finalSize)/100},${Number(s.finalSize)/100})`);continue}h&&n?.setAttribute("transform",`translate(${o.props[12]},${o.props[13]})`),n&&(n.textContent=r[t].val),n?.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&n?.setAttribute("d","")}else{let i,r=this.textContainer;switch(s.j){case 1:i="end";break;case 2:i="middle";break;default:i="start"}r?.setAttribute("text-anchor",i),r?.setAttribute("letter-spacing",`${d}`);let a=this.buildTextContents(s.finalText);for(t=0,e=a.length,m=s.ps?s.ps[1]+Number(s.ascent):0;t<e;t++)(n=this.textSpans[t]?.span??tP("tspan")).textContent=a[t],n.setAttribute("x","0"),n.setAttribute("y",`${m}`),n.style.display="inherit",r?.appendChild(n),this.textSpans[t]||(this.textSpans[t]={glyph:null,span:null}),this.textSpans[t].span=n,m+=Number(s.finalLineHeight);r&&this.layerElement.appendChild(r)}let c=this.textSpans[t]?.span;if(c)for(;t<this.textSpans.length;)c.style.display="none",t++;this._sizeChanged=!0}buildShapeData(t,e){if(t.shapes.length>0){let s=t.shapes[0];if(s.it){let t=s.it[s.it.length-1];t.s&&(t.s.k[0]=e,t.s.k[1]=e)}}return t}buildTextContents(t){let e=0,s=t.length,i=[],r="";for(;e<s;)"\r"===t[e]||"\x03"===t[e]?(i.push(r),r=""):r+=t[e],e++;return i.push(r),i}createContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);this.data.singleShape&&!this.globalData.fontManager?.chars&&(this.textContainer=tP("text"))}getValue(){let t;if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);let{length:e}=this.textSpans;this.renderedFrame=this.comp?.renderedFrame;for(let s=0;s<e;s++)(t=this.textSpans[s].glyph)&&(t.prepareFrame(Number(this.comp?.renderedFrame)-Number(this.data.st)),t._mdf&&(this._mdf=!0))}renderInnerContent(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(this.validateText(),!this.data.singleShape||this._mdf){if(!this.textProperty)throw Error(`${this.constructor.name}: textProperty is not initialized`);if(this.textAnimator?.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator?.lettersChangedFlag){let t,e,s;this._sizeChanged=!0;let i=this.textAnimator?.renderedLetters,r=this.textProperty.currentData.l,{length:a}=r;for(let n=0;n<a;n++)!r[n].n&&(t=i?.[n],e=this.textSpans[n].span,(s=this.textSpans[n].glyph)&&s.renderFrame(),t?._mdf.m&&e?.setAttribute("transform",t.m),t?._mdf.o&&e?.setAttribute("opacity",`${t.o??1}`),t?._mdf.sw&&e?.setAttribute("stroke-width",`${t.sw||0}`),t?._mdf.sc&&e?.setAttribute("stroke",t.sc),t?._mdf.fc&&e?.setAttribute("fill",t.fc))}}}sourceRectAtTime(){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);if(!this.comp)throw Error(`${this.constructor.name}: comp (ElementInterface) is not implemented`);if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);if(this.prepareFrame(Number(this.comp.renderedFrame)-Number(this.data.st)),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;let t=this.layerElement.getBBox();return this.bbox={height:t.height,left:t.x,top:t.y,width:t.width},this.bbox}return null}}class iu extends sa{constructor(t,e,s){super(),this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId)??null,this.initBaseData(t,e,s),this._isPlaying=!1,this._canPlay=!1;let i=this.globalData?.getAssetsPath(this.assetData);this.audio=this.globalData?.audioController?.createAudio(i),this._currentTime=0,this.globalData?.audioController?.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?eX.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=eX.getProp(this,t.au?.lv??{k:[100]},1,.01,this)}getBaseElement(){return null}hide(){this.audio.pause(),this._isPlaying=!1}initExpressions(){}pause(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1}prepareFrame(t){if(!this.data)throw Error(`${this.constructor.name}: data (LottieLayer) is not implemented`);this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder?this._currentTime=t/Number(this.data.sr):this._currentTime=this.tm.v,this._volume=Number(this.lv.v[0]);let e=this._volume*Number(this._volumeMultiplier);this._previousVolume!==e&&(this._previousVolume=e,this.audio.volume(e))}renderFrame(t){if(this.isInRange&&this._canPlay){if(!this._isPlaying){this.audio.play(),this.audio.seek(this._currentTime/Number(this.globalData?.frameRate)),this._isPlaying=!0;return}(!this.audio.playing()||Math.abs(this._currentTime/Number(this.globalData?.frameRate)-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/Number(this.globalData?.frameRate))}}resume(){this._canPlay=!0}setRate(t){this.audio.rate(t)}show(){}sourceRectAtTime(){return null}volume(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)}}class ig extends sa{constructor(t,e,s){if(super(),this.assetData=null,this.initFrame(),this.initRenderable(),t.refId&&(this.assetData=e.getAssetData(t.refId)),!e.imageLoader)throw Error(`${this.constructor.name}: imageLoader is not implemented in globalData`);this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,s)}getBaseElement(){return null}getFootageData(){return this.footageData}initExpressions(){}prepareFrame(){}renderFrame(){}}class iy{constructor(t){this.animationData=t}getProp(t){let{sid:e}=t;return e&&this.animationData.slots?.[e]?Object.assign(t,this.animationData.slots[e].p):t}}class ib extends sr{addPendingElement(t){this.pendingElements.push(t)}buildAllItems(){let{length:t}=this.layers;for(let e=0;e<t;e++)this.buildItem(e);this.checkPendingElements()}buildElementParenting(t,e,s=[]){let{elements:i,layers:r}=this,{length:a}=r,n=0;for(;n<a;){if(r[n].ind!==e){n++;continue}if(!i[n]||!0===i[n]){this.buildItem(n),this.addPendingElement(t),n++;continue}if(s.push(i[n]),i[n].setAsParent(),void 0===r[n].parent){t.setHierarchy(s),n++;continue}this.buildElementParenting(t,r[n].parent,s),n++}}buildItem(t){throw Error(`${this.constructor.name}: Method buildItem not yet implemented`)}checkLayers(t){this.completeLayers=!0;let{length:e}=this.layers;for(let s=e-1;s>=0;s--)!this.elements[s]&&this.layers[s].ip-this.layers[s].st<=Number(t)-this.layers[s].st&&this.layers[s].op-this.layers[s].st>Number(t)-this.layers[s].st&&this.buildItem(s),this.completeLayers=!!this.elements[s]&&this.completeLayers;this.checkPendingElements()}checkPendingElements(){throw Error(`${this.constructor.name}: Method checkPendingElements not yet implemented`)}createAudio(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new iu(t,this.globalData,this)}createCamera(t){throw Error("You're using a 3d camera. Try the html renderer.")}createComp(t,e,s,i){throw Error(`${this.constructor.name}: Method createComp not yet implemented`)}createFootage(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new ig(t,this.globalData,this)}createImage(t){throw Error(`${this.constructor.name}: Method createImage is not implemented`)}createItem(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}}createNull(t){throw Error(`${this.constructor.name}: Method createNull not implemented`)}createShape(t){throw Error(`${this.constructor.name}: Method createShape not implemented`)}createSolid(t){throw Error(`${this.constructor.name}: Method createSolid not implemented`)}createText(t){throw Error(`${this.constructor.name}: Method createText not implemented`)}getElementById(t){let{length:e}=this.elements;for(let s=0;s<e;s++)if(this.elements[s].data.ind===t)return this.elements[s];return null}getElementByPath(t){let e,s=t.shift();if("number"==typeof s)e=this.elements[s];else{let{length:t}=this.elements;for(let i=0;i<t;i++)if(this.elements[i].data.nm===s){e=this.elements[i];break}}return 0===t.length?e:e?.getElementByPath(t)}includeLayers(t){this.completeLayers=!1;let{length:e}=t,{length:s}=this.layers;for(let i=0;i<e;i++){let e=0;for(;e<s;){if(this.layers[e].id===t[i].id){this.layers[e]=t[i];break}e++}}}initItems(){this.globalData?.progressiveLoad||this.buildAllItems()}prepareFrame(t){throw Error(`${this.constructor.name}: Method prepareFrame not yet implemented`)}searchExtraCompositions(t){let{length:e}=t;for(let s=0;s<e;s++)if(t[s].xt){let e=this.createComp(t[s]);e.initExpressions(),this.globalData?.projectInterface.registerComposition(e)}}setProjectInterface(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);t&&(this.globalData.projectInterface=t)}setupGlobalData(t,e){if(!this.globalData)throw Error(`${this.constructor.name}: globalData is not implemented`);if(!this.animationItem)throw Error(`${this.constructor.name}: animationItem is not implemented`);this.globalData.fontManager=new ih,this.globalData.slotManager=new iy(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr||60,this.globalData.nm=t.nm,this.globalData.compSize={h:Number(t.h),w:Number(t.w)}}constructor(...t){super(...t),this.currentFrame=0,this.elements=[],this.layers=[],this.pendingElements=[],this.renderedFrame=-1}}class iv extends ib{appendElementInPos(t,e){let s,i=t.getBaseElement();if(!i)return;let r=0;for(;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(s=this.elements[r].getBaseElement()),r++;s?this.layerElement?.insertBefore(i,s):this.layerElement?.appendChild(i)}buildItem(t){if(!this.globalData)throw Error(`${this.constructor.name}: globalData it not implemented`);let{elements:e,globalData:s,layers:i}=this;if(e[t]||99===i[t].ty)return;e[t]=!0;let r=this.createItem(i[t]);if(e[t]=r,this.appendElementInPos(r,t),i[t].tt){let s="tp"in i[t]?this.findIndexByInd(i[t].tp):t-1;if(-1===s)return;if(!e[s]||!0===e[s]){this.buildItem(s),this.addPendingElement(r);return}let a=e[s].getMatte(i[t].tt);r.setMatte(a)}}checkPendingElements(){for(;this.pendingElements.length>0;){let t=this.pendingElements.pop();if(t?.checkParenting(),t?.data.tt){let e=0,{length:s}=this.elements;for(;e<s;){if(this.elements[e]!==t){e++;continue}let s="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,i=this.elements[s].getMatte(this.layers[e].tt);t.setMatte(i);break}}}}configAnimation(t){try{if(!this.animationItem)throw Error(`${this.constructor.name}: Can't access animationItem`);if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);if(!this.renderConfig)throw Error(`${this.constructor.name}: Can't access renderConfig`);if(!this.svgElement)throw Error(`${this.constructor.name}: Can't access svgElement`);this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox",`0 0 ${t.w} ${t.h}`),!this.renderConfig.viewBoxOnly&&(this.svgElement.setAttribute("width",`${t.w}`),this.svgElement.setAttribute("height",`${t.h}`),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.renderConfig.contentVisibility&&(this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility)),this.renderConfig.width&&this.svgElement.setAttribute("width",`${this.renderConfig.width}`),this.renderConfig.height&&this.svgElement.setAttribute("height",`${this.renderConfig.height}`),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",`${this.renderConfig.focusable}`),this.renderConfig.preserveAspectRatio&&this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper?.appendChild(this.svgElement);let{defs:e}=this.globalData;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;let s=tP("clipPath"),i=tP("rect");i.setAttribute("width",`${t.w}`),i.setAttribute("height",`${t.h}`),i.setAttribute("x","0"),i.setAttribute("y","0");let r=tM();s.setAttribute("id",r),s.appendChild(i),this.layerElement?.setAttribute("clip-path",`url(${Z()}#${r})`),e.appendChild(s),this.layers=t.layers,this.elements=eA(t.layers.length)}catch(t){console.error(`${this.constructor.name}:
`,t)}}createImage(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new sD(t,this.globalData,this)}createNull(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new sI(t,this.globalData,this)}createShape(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new s6(t,this.globalData,this)}createSolid(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new sF(t,this.globalData,this)}createText(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new ic(t,this.globalData,this)}destroy(){if(!this.animationItem)throw Error(`${this.constructor.name}: Can't access animationItem`);if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;let{length:t}=this.layers;for(let e=0;e<t;e++)this.elements[e]?.destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null}findIndexByInd(t){let{length:e}=this.layers;for(let s=0;s<e;s++)if(this.layers[s].ind===t)return s;return -1}hide(){if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.layerElement.style.display="none"}renderFrame(t){try{if(!this.globalData||this.renderedFrame===t||this.destroyed)return;let e=t;null===e?e=this.renderedFrame:this.renderedFrame=Number(e),this.globalData.frameNum=e,this.globalData.frameId++,this.globalData.projectInterface.currentFrame=e||0,this.globalData._mdf=!1;let{length:s}=this.layers;this.completeLayers||this.checkLayers(e);for(let t=s-1;t>=0;t--)"boolean"!=typeof this.elements[t]&&(this.completeLayers||this.elements[t])&&this.elements[t]?.prepareFrame(Number(e)-this.layers[t].st);if(this.globalData._mdf)for(let t=0;t<s;t++)"boolean"!=typeof this.elements[t]&&(this.completeLayers||this.elements[t])&&this.elements[t]?.renderFrame()}catch(t){console.error(this.constructor.name,t)}}show(){if(!this.layerElement)throw Error(`${this.constructor.name}: layerElement is not implemented`);this.layerElement.style.display="block"}updateContainerSize(t,e){throw Error(`${this.constructor.name}: Method updateContainerSize is not implemented`)}}class i_ extends sT{constructor(t,e,s){super(),this.addPendingElement=iv.prototype.addPendingElement,this.appendElementInPos=iv.prototype.appendElementInPos,this.buildAllItems=iv.prototype.buildAllItems,this.buildElementParenting=iv.prototype.buildElementParenting,this.buildItem=iv.prototype.buildItem,this.checkLayers=iv.prototype.checkLayers,this.checkPendingElements=iv.prototype.checkPendingElements,this.configAnimation=iv.prototype.configAnimation,this.createAudio=iv.prototype.createAudio,this.createCamera=iv.prototype.createCamera,this.createFootage=iv.prototype.createFootage,this.createImage=iv.prototype.createImage,this.createItem=iv.prototype.createItem,this.createNull=iv.prototype.createNull,this.createShape=iv.prototype.createShape,this.createSolid=iv.prototype.createSolid,this.createText=iv.prototype.createText,this.currentFrame=0,this.destroy=so.prototype.destroy,this.destroyElements=so.prototype.destroyElements,this.findIndexByInd=iv.prototype.findIndexByInd,this.getElementById=iv.prototype.getElementById,this.getElementByPath=iv.prototype.getElementByPath,this.getElements=so.prototype.getElements,this.hide=so.prototype.hide,this.includeLayers=iv.prototype.includeLayers,this.initElement=so.prototype.initElement,this.initItems=iv.prototype.initItems,this.prepareFrame=so.prototype.prepareFrame,this.renderedFrame=-1,this.renderFrame=so.prototype.renderFrame,this.renderInnerContent=so.prototype.renderInnerContent,this.searchExtraCompositions=iv.prototype.searchExtraCompositions,this.setElements=so.prototype.setElements,this.setProjectInterface=iv.prototype.setProjectInterface,this.setupGlobalData=iv.prototype.setupGlobalData,this.show=so.prototype.show,this.updateContainerSize=iv.prototype.updateContainerSize,this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?eA(this.layers.length):[],this.initElement(t,e,s),this.tm=t.tm?eX.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: Cannot access global data`);return new i_(t,this.globalData,this)}}class iw extends eq{addShape(t){if(this.closed)return;t.sh?.container?.addDynamicProperty(t.sh);let e={data:t,localShapeCollection:sf(),shape:t.sh};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}addShapeToModifier(t){throw Error(`${this.constructor.name}: Method addShapeToModifier is not implemented`)}init(t,e,s,i){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=-999999,this.closed=!1,this.k=!1,this.dynamicProperties.length>0?this.k=!0:this.getValue(!0)}initModifierProperties(t,e){throw Error(`${this.constructor.name}: Method initModifierProperties is not implemented`)}isAnimatedWithShape(t){throw Error(`${this.constructor.name}: Method isAnimatedWithShape is not implemented`)}processKeys(){return this.elem?.globalData?.frameId===this.frameId||(this.frameId=this.elem?.globalData?.frameId,this.iterateDynamicProperties()),0}constructor(...t){super(...t),this.shapes=[]}}function iS(t,e,s,i,r,a,n){let o=tI(e,s),h=e.v[s%e._length],l=e.v[0===s?e._length-1:s-1],m=e.v[(s+1)%e._length],p=2===a?Math.sqrt(Math.pow(h[0]-l[0],2)+Math.pow(h[1]-l[1],2)):0,d=2===a?Math.sqrt(Math.pow(h[0]-m[0],2)+Math.pow(h[1]-m[1],2)):0;tH(t,e.v[s%e._length]||[0,0],o,n,i,d/((r+1)*2),p/((r+1)*2))}let ik={loadAnimation:function(t){try{let e=new ec;return ek(e,null),e.setParams(t),e}catch(t){throw console.error("AnimationManager:\n",t),Error("Could not load animation")}}},iE=setInterval(()=>{tn()||"complete"===document.readyState&&(clearInterval(iE),function(){if(tn())return;let t=[...document.getElementsByClassName("lottie"),...document.getElementsByClassName("bodymovin")],{length:e}=t;for(let s=0;s<e;s++)!function(t,e){try{if(!t)return null;let s=0;for(;s<eg;){if(eb[s].elem===t&&null!==eb[s].elem)return eb[s].animation;s++}let i=new ec;ek(i,t),i.setData(t,e)}catch(t){throw console.error("AnimationManager:\n",t),Error("Could not register animation")}}(t[s],void 0)}())},100);g=L.SVG,y=class extends iv{constructor(t,e){super(),this.animationItem=t,this.layers=[],this.renderedFrame=-1,this.svgElement=tP("svg");let s="";if(e?.title){let t=tP("title"),i=tM();t.id=i,t.textContent=e.title,this.svgElement.appendChild(t),s+=i}if(e?.description){let t=tP("desc"),i=tM();t.id=i,t.textContent=e.description,this.svgElement.appendChild(t),s+=` ${i}`}s&&this.svgElement.setAttribute("aria-labelledby",s);let i=tP("defs");this.svgElement.appendChild(i);let r=tP("g");this.svgElement.appendChild(r),this.layerElement=r,this.renderConfig={className:e?.className||"",contentVisibility:e?.contentVisibility||"visible",filterSize:{height:e?.filterSize?.height||"100%",width:e?.filterSize?.width||"100%",x:e?.filterSize?.x||"0%",y:e?.filterSize?.y||"0%"},focusable:e?.focusable,height:e?.height,hideOnTransparent:e?.hideOnTransparent!==!1,id:e?.id||"",imagePreserveAspectRatio:e?.imagePreserveAspectRatio||"xMidYMid slice",preserveAspectRatio:e?.preserveAspectRatio||"xMidYMid meet",progressiveLoad:e?.progressiveLoad||!1,runExpressions:!e||void 0===e.runExpressions||e.runExpressions,viewBoxOnly:e?.viewBoxOnly||!1,viewBoxSize:e?.viewBoxSize||!1,width:e?.width},this.globalData={_mdf:!1,defs:i,frameNum:-1,frameRate:60,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType=L.SVG}createComp(t){if(!this.globalData)throw Error(`${this.constructor.name}: Can't access globalData`);return new i_(t,this.globalData,this)}},B[g]=y,s4(N.TrimModifier,class extends iw{addPaths(t,e){let{length:s}=t;for(let i=0;i<s;i++)e.addShape(t[i])}addSegment(t,e,s,i,r,a,n){r.setXYAt(e[0],e[1],"o",a),r.setXYAt(s[0],s[1],"i",a+1),n&&r.setXYAt(t[0],t[1],"v",a),r.setXYAt(i[0],i[1],"v",a+1)}addSegmentFromArray(t,e,s,i){e.setXYAt(t[1],t[5],"o",s),e.setXYAt(t[2],t[6],"i",s+1),i&&e.setXYAt(t[0],t[4],"v",s),e.setXYAt(t[3],t[7],"v",s+1)}addShapes(t,e,s){let i=s,{pathsData:r=[],shape:a}=t,n=a?.paths?.shapes??[],o=a?.paths?._length||0,h,l,m=0,p,d,c,u=[],f,g=!0;i?(d=i._length,f=i._length):(i=sp(),d=0,f=0),i&&u.push(i);for(let t=0;t<o;t++){if(!i)continue;let{lengths:s}=r[t];for(h=1,i.c=n[t].c,l=n[t].c?s.length:s.length+1;h<l;h++){if(m+(p=s[h-1]).addedLength<e.s){m+=p.addedLength,i.c=!1;continue}if(m>e.e){i.c=!1;break}e.s<=m&&e.e>=m+p.addedLength?(this.addSegment(n[t].v[h-1],n[t].o[h-1],n[t].i[h],n[t].v[h],i,d,g),g=!1):(c=eI(n[t].v[h-1],n[t].v[h],n[t].o[h-1],n[t].i[h],(e.s-m)/p.addedLength,(e.e-m)/p.addedLength,s[h-1]),this.addSegmentFromArray(c,i,d,g),g=!1,i.c=!1),m+=p.addedLength,d++}if(n[t].c&&s.length>0){if(p=s[h-1],m<=e.e){let r=s[h-1].addedLength;e.s<=m&&e.e>=m+r?(this.addSegment(n[t].v[h-1],n[t].o[h-1],n[t].i[0],n[t].v[0],i,d,g),g=!1):(c=eI(n[t].v[h-1],n[t].v[0],n[t].o[h-1],n[t].i[0],(e.s-m)/r,(e.e-m)/r,s[h-1]),this.addSegmentFromArray(c,i,d,g),g=!1,i.c=!1)}else i.c=!1;m+=p.addedLength,d++}if(i._length&&(i.setXYAt(i.v[f][0],i.v[f][1],"i",f),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),m>e.e)break;t<o-1&&(i=sp(),g=!0,i&&u.push(i),d=0)}return u}addShapeToModifier(t){t.pathsData=[]}calculateShapeEdges(t,e,s,i,r){let a=[];e<=1?a.push({e,s:t}):t>=1?a.push({e:e-1,s:t-1}):a.push({e:1,s:t},{e:e-1,s:0});let n=[],{length:o}=a;for(let t=0;t<o;t++)if(!(a[t].e*r<i||a[t].s*r>i+s)){let e,o;e=a[t].s*r<=i?0:(a[t].s*r-i)/s,o=a[t].e*r>=i+s?1:(a[t].e*r-i)/s,n.push([e,o])}return 0===n.length&&n.push([0,0]),n}initModifierProperties(t,e){this.s=eX.getProp(t,e.s,0,.01,this),this.e=eX.getProp(t,e.e,0,.01,this),this.o=eX.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=this.s.effectsSequence.length>0||this.e.effectsSequence.length>0||this.o.effectsSequence.length>0}processShapes(t){let e,s;if(this._mdf||t){let t=Number(this.o?.v)%360/360;if(t<0&&t++,(e=Number(this.s?.v)>1?1+t:0>Number(this.s?.v)?0+t:Number(this.s?.v)+t)>(s=Number(this.e?.v)>1?1+t:0>Number(this.e?.v)?0+t:Number(this.e?.v)+t)){let t=e;e=s,s=t}e=1e-4*Math.round(1e4*e),s=1e-4*Math.round(1e4*s),this.sValue=e,this.eValue=s}else e=this.sValue||0,s=this.eValue||0;let i,r,a,n,o,h,l=0,{length:m}=this.shapes;if(s===e)for(let t=0;t<m;t++){this.shapes[t].localShapeCollection?.releaseShapes();let{shape:e}=this.shapes[t];e&&(e._mdf=!0,e.paths=this.shapes[t].localShapeCollection),this._mdf&&(this.shapes[t].pathsData.length=0)}else if((1!==s||0!==e)&&(0!==s||1!==e)){let p,d,c=[];for(let e=0;e<m;e++)if(p=this.shapes[e],p.shape?._mdf||this._mdf||t||2===this.m){if(i=p.shape?.paths,a=i?._length||0,h=0,!p.shape?._mdf&&p.pathsData?.length)h=p.totalShapeLength;else{for(r=0,n=this.releasePathsData(p.pathsData);r<a;r++)i&&(o=function(t){let e,s=eC.newElement(),i=t.c,r=t.v,a=t.o,n=t.i,o=t._length||0,{lengths:h}=s,l=0;for(e=0;e<o-1;e++)h[e]=eL(r[e],r[e+1],a[e],n[e+1]),l+=h[e].addedLength;return i&&o&&(h[e]=eL(r[e],r[0],a[e],n[0]),l+=h[e].addedLength),s.totalLength=l,s}(i.shapes[r]),n.push(o),h+=o.totalLength);p.totalShapeLength=h,p.pathsData=n}l+=Number(h),p.shape&&(p.shape._mdf=!0)}else p.shape&&(p.shape.paths=p.localShapeCollection);let u=e,f=s,g=0,y;for(let t=m-1;t>=0;t--)if(p=this.shapes[t],p.shape?._mdf){if(!(d=p.localShapeCollection))throw Error(`${this.constructor.name}: Could not set localShapeCollection`);for(d.releaseShapes(),2===this.m&&m>1?(y=this.calculateShapeEdges(e,s,p.totalShapeLength||0,g,l),g+=Number(p.totalShapeLength)):y=[[u,f]],a=y.length,r=0;r<a;r++){u=y[r][0],f=y[r][1],c.length=0,f<=1?c.push({e:Number(p.totalShapeLength)*f,s:Number(p.totalShapeLength)*u}):u>=1?c.push({e:Number(p.totalShapeLength)*(f-1),s:Number(p.totalShapeLength)*(u-1)}):c.push({e:Number(p.totalShapeLength),s:Number(p.totalShapeLength)*u},{e:Number(p.totalShapeLength)*(f-1),s:0});let t=this.addShapes(p,c[0]);if(c[0].s!==c[0].e){if(c.length>1){let e=p.shape.paths?.shapes[p.shape.paths._length-1];if(e?.c){let e=t.pop();this.addPaths(t,d),t=this.addShapes(p,c[1],e)}else this.addPaths(t,d),t=this.addShapes(p,c[1])}this.addPaths(t,d)}}p.shape.paths=d}}else if(this._mdf)for(let t=0;t<m;t++){this.shapes[t].pathsData.length=0;let{shape:e}=this.shapes[t];e&&(e._mdf=!0)}}releasePathsData(t){let{length:e}=t;for(let s=0;s<e;s++)eC.release(t[s]);return t.length=0,t}}),s4(N.PuckerAndBloatModifier,class extends iw{initModifierProperties(t,e){this.getValue=this.processKeys,this.amount=eX.getProp(t,e.a,0,null,this),this._isAnimated=this.amount.effectsSequence.length>0}processPath(t,e){let s,i,r,a,n,o,h,l=e/100,m=[0,0],p=t._length;for(s=0;s<p;s++)m[0]+=t.v[s][0],m[1]+=t.v[s][1];m[0]/=p,m[1]/=p;let d=sp();for(s=0,d.c=t.c;s<p;s++)i=t.v[s][0]+(m[0]-t.v[s][0])*l,r=t.v[s][1]+(m[1]-t.v[s][1])*l,a=t.o[s][0]+-((m[0]-t.o[s][0])*l),n=t.o[s][1]+-((m[1]-t.o[s][1])*l),o=t.i[s][0]+-((m[0]-t.i[s][0])*l),h=t.i[s][1]+-((m[1]-t.i[s][1])*l),d.setTripleAt(i,r,a,n,o,h,s);return d}processShapes(t){let{length:e}=this.shapes,s=this.amount?.v;if(0!==s){let i,r,a;for(let n=0;n<e;n++){if(a=(r=this.shapes[n]).localShapeCollection,!(!r.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),r.shape&&(r.shape._mdf=!0),i=r.shape?.paths?.shapes;let t=r.shape?.paths?._length||0;for(let e=0;e<t;e++){let t=i?.[e];t&&a?.addShape(this.processPath(t,s||0))}}r.localShapeCollection&&r.shape&&(r.shape.paths=r.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s4(N.RepeaterModifier,class extends iw{addShapeToModifier(t){t.pathsData=[]}applyTransforms(t,e,s,i,r,a){if(!i.s||!i.p||!i.a||!i.r)throw Error(`${this.constructor.name}: Missing required data from Transform`);let n=a?-1:1,o=i.s.v[0]+(1-i.s.v[0])*(1-r),h=i.s.v[1]+(1-i.s.v[1])*(1-r);t.translate(i.p.v[0]*n*r,i.p.v[1]*n*r,i.p.v[2]),e.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),e.rotate(-i.r.v*n*r),e.translate(i.a.v[0],i.a.v[1],i.a.v[2]),s.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),s.scale(a?1/o:o,a?1/h:h),s.translate(i.a.v[0],i.a.v[1],i.a.v[2])}changeGroupRender(t,e){let{length:s}=t;for(let i=0;i<s;i++)t[i]._render=e,t[i].ty===$.Group&&this.changeGroupRender(t[i].it,e)}cloneElements(t){let e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e}init(t,e,s,i=[]){if(!Array.isArray(e))throw TypeError(`${this.constructor.name}: Method init, param arr must be array`);let r=Number(s);for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r--,this._elements.unshift(e[r]);if(this.dynamicProperties.length>0){this.k=!0;return}this.getValue(!0)}initModifierProperties(t,e){this.getValue=this.processKeys,this.c=eX.getProp(t,e.c,0,null,this),this.o=eX.getProp(t,e.o,0,null,this),e.tr&&(this.tr=se.getTransformProperty(t,e.tr,this),this.so=eX.getProp(t,e.tr.so,0,.01,this),this.eo=eX.getProp(t,e.tr.eo,0,.01,this)),this.data=e,0===this.dynamicProperties.length&&this.getValue(!0),this._isAnimated=this.dynamicProperties.length>0,this.pMatrix=new e7,this.rMatrix=new e7,this.sMatrix=new e7,this.tMatrix=new e7,this.matrix=new e7}processShapes(t){let e,s;if(!this.data)throw Error(`${this.constructor.name}: data (Shape) is not implemented`);let i,r,a,n,o,h=!1;if(!this._mdf&&!t){for(o=Number(this._currentCopies),a=0,n=1;o;)(i=this.elemsData[a].it)[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,o--,a+=n;return h}let l=Math.ceil(Number(this.c?.v));if(this._groups.length<l){for(;this._groups.length<l;){let t={it:this.cloneElements(this._elements),ty:"gr"};t.it?.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{e:0,s:0,t:0},{e:0,s:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:$.Transform}),this.arr.splice(0,0,t),this._groups.splice(0,0,t),this._currentCopies?this._currentCopies++:this._currentCopies=1}this.elem?.reloadShapes(),h=!0}o=0;let m=this._groups.length-1;for(a=0;a<=m-1;a++){if(e=o<l,this._groups[a]&&(this._groups[a]._render=e),this.changeGroupRender(this._groups[a].it??[],e),!e){let t=this.elemsData[a].it,e=t[t.length-1];0===e.transform.op.v?e.transform.op._mdf=!1:(e.transform.op._mdf=!0,e.transform.op.v=0)}o++}if(this._currentCopies=l,!this.matrix||!this.pMatrix||!this.rMatrix||!this.sMatrix||!this.tMatrix)throw Error(`${this.constructor.name}: Could not set Matrix`);if(!this.tr)throw Error(`${this.constructor.name}: Transformproperty is not set`);let p=Number(this.o?.v),d=p%1,c=p>0?Math.floor(p):Math.ceil(p),u=this.pMatrix.props,f=this.rMatrix.props,g=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();let y=0;if(p>0){for(;y<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),y++;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),y+=d)}else if(p<0){for(;y>c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),y--;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),y-=d)}for(a=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,o=this._currentCopies;o;){let{length:t}=r=(i=this.elemsData[a].it)[i.length-1].transform.mProps.v.props;if(i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=1===this._currentCopies?Number(this.so?.v):Number(this.so?.v)+(Number(this.eo?.v)-Number(this.so?.v))*(a/(this._currentCopies-1)),0===y)for(this.matrix.reset(),s=0;s<t;s++)r[s]=this.matrix.props[s];else{for((0!==a&&1===n||a!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),s=0;s<t;s++)r[s]=this.matrix.props[s];this.matrix.reset()}y++,o--,a+=n}return h}resetElements(t){let{length:e}=t;for(let s=0;s<e;s++){t[s]._processed=!1;let{it:e}=t[s];t[s].ty===$.Group&&e&&this.resetElements(e)}}constructor(...t){super(...t),this.arr=[],this.elemsData=[],this._elements=[],this._groups=[]}}),s4(N.RoundCornersModifier,class extends iw{initModifierProperties(t,e){this.getValue=this.processKeys,this.rd=eX.getProp(t,e.r,0,null,this),this._isAnimated=this.rd.effectsSequence.length>0}processPath(t,e){let s=sp();s.c=t.c;let i=t._length,r,a,n,o,h,l,m=0,p,d,c,u,f,g;for(let y=0;y<i;y++)r=t.v[y],n=t.o[y],a=t.i[y],r[0]===n[0]&&r[1]===n[1]&&r[0]===a[0]&&r[1]===a[1]?0!==y&&y!==i-1||t.c?(o=0===y?t.v[i-1]:t.v[y-1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,p=f=r[0]+(o[0]-r[0])*l,d=g=r[1]-(r[1]-o[1])*l,c=p-(p-r[0])*.5519,u=d-(d-r[1])*.5519,s.setTripleAt(p,d,c,u,f,g,m),m++,o=y===i-1?t.v[0]:t.v[y+1],l=(h=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(h/2,e)/h:0,p=c=r[0]+(o[0]-r[0])*l,d=u=r[1]+(o[1]-r[1])*l,f=p-(p-r[0])*.5519,g=d-(d-r[1])*.5519,s.setTripleAt(p,d,c,u,f,g,m)):s.setTripleAt(r[0],r[1],n[0],n[1],a[0],a[1],m):s.setTripleAt(t.v[y][0],t.v[y][1],t.o[y][0],t.o[y][1],t.i[y][0],t.i[y][1],m),m++;return s}processShapes(t){let{length:e}=this.shapes,s=this.rd?.v;if(0!==s){let i,r,a;for(let n=0;n<e;n++){if(a=(i=this.shapes[n]).localShapeCollection,!(!i.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),i.shape&&(i.shape._mdf=!0),r=i.shape?.paths?.shapes??[];let t=i.shape?.paths?._length||0;for(let e=0;e<t;e++)a?.addShape(this.processPath(r[e],s))}i.shape&&(i.shape.paths=i.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s4(N.ZigZagModifier,class extends iw{initModifierProperties(t,e){this.getValue=this.processKeys,this.amplitude=eX.getProp(t,e.s,0,null,this),this.frequency=eX.getProp(t,e.r,0,null,this),this.pointsType=eX.getProp(t,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length>0||this.frequency.effectsSequence.length>0||this.pointsType.effectsSequence.length>0}processPath(t,e,s,i){let r=t._length,a=sp();if(a.c=t.c,t.c||(r-=1),0===r)return a;let n=-1,o=te(t,0);iS(a,t,0,e,s,i,n);for(let h=0;h<r;h++)n=function(t,e,s,i,r,a){let n=a;for(let a=0;a<i;a++){let o=(a+1)/(i+1),h=2===r?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,l=e.normalAngle(o);tH(t,e.point(o),l,n,s,h/((i+1)*2),h/((i+1)*2)),n=-n}return n}(a,o,e,s,i,-n),o=h!==r-1||t.c?te(t,(h+1)%r):null,iS(a,t,h+1,e,s,i,n);return a}processShapes(t){let e=Number(this.amplitude?.v),s=Math.max(0,Math.round(Number(this.frequency?.v))),i=Number(this.pointsType?.v);if(0!==e){let r,a,n,{length:o}=this.shapes;for(let h=0;h<o;h++){if(a=(r=this.shapes[h]).localShapeCollection,!(!r.shape?._mdf&&!this._mdf&&!t)){a?.releaseShapes(),r.shape&&(r.shape._mdf=!0),n=r.shape?.paths?.shapes??[];let{_length:t}=r.shape?.paths??{_length:0};for(let r=0;r<t;r++)a?.addShape(this.processPath(n[r],e,s,i))}r.shape&&(r.shape.paths=r.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}}),s4(N.OffsetPathModifier,class extends iw{initModifierProperties(t,e){this.getValue=this.processKeys,this.amount=eX.getProp(t,e.a,0,null,this),this.miterLimit=eX.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length>0}processPath(t,e,s,i){let r=sp();r.c=t.c;let a=t.length();t.c||(a-=1);let n,o=[];for(let s=0;s<a;s++)n=te(t,s),o.push(tO(n,e));if(!t.c)for(let s=a-1;s>=0;s--)n=function(t,e){let s=(e+1)%t.length();return new tt(t.v[s],t.i[s],t.o[e],t.v[e],!0)}(t,s),o.push(tO(n,e));o=tq(o);let h=null,l=null,{length:m}=o;for(let t=0;t<m;t++){let e=o[t];l&&(h=tV(r,l,e[0],s,i)),l=e[e.length-1];let{length:a}=e;for(let t=0;t<a;t++)n=e[t],h&&th(n.points[0],h)?r.setXYAt(n.points[1][0],n.points[1][1],"o",r.length()-1):r.setTripleAt(n.points[0][0],n.points[0][1],n.points[1][0],n.points[1][1],n.points[0][0],n.points[0][1],r.length()),r.setTripleAt(n.points[3][0],n.points[3][1],n.points[3][0],n.points[3][1],n.points[2][0],n.points[2][1],r.length()),h=n.points[3]}return m>0&&l&&tV(r,l,o[0][0],s,i),r}processShapes(t){let{length:e}=this.shapes,s=Number(this.amount?.v),i=Number(this.miterLimit?.v),r=Number(this.lineJoin);if(0!==s){let a,n,o;for(let h=0;h<e;h++){if(o=(n=this.shapes[h]).localShapeCollection,!(!n.shape?._mdf&&!this._mdf&&!t)){o?.releaseShapes(),n.shape&&(n.shape._mdf=!0),a=n.shape?.paths?.shapes;let t=n.shape?.paths?._length||0;for(let e=0;e<t;e++){let t=a?.[e];t&&o?.addShape(this.processPath(t,s,r,i))}}n.shape&&(n.shape.paths=n.localShapeCollection)}}0===this.dynamicProperties.length&&(this._mdf=!1)}});let ix=Symbol("UPDATE_ON_CONNECTED");a()&&(global.HTMLElement=class{});class iA extends HTMLElement{constructor(){super(),ix in this&&(this[ix]=[]);let{observedProperties:t=[]}=this.constructor,{length:e}=t;for(let s=0;s<e;s++){let e=this[t[s]],i=Symbol(t[s]);this[i]=e,Object.defineProperty(this,t[s],{get(){return this[i]},set(e){let r=this[i];this[i]=e,this.propertyChangedCallback(t[s],r,e)}}),void 0!==e&&ix in this&&Array.isArray(this[ix])&&this[ix].push(t[s])}}async connectedCallback(){let t=[];ix in this&&Array.isArray(this[ix])&&(t=this[ix]);let{length:e}=t;for(let s=0;s<e;s++)"propertyChangedCallback"in this&&"function"==typeof this.propertyChangedCallback&&t[s]in this&&this.propertyChangedCallback(t[s],void 0,this[t[s]])}propertyChangedCallback(t,e,s){throw Error(`${this.constructor.name}: Method propertyChangedCallback is not implemented`)}}var iM=((b={}).Contain="contain",b.Cover="cover",b.Fill="fill",b.None="none",b.ScaleDown="scale-down",b),iP=((v={}).Completed="completed",v.Destroyed="destroyed",v.Error="error",v.Frozen="frozen",v.Loading="loading",v.Paused="paused",v.Playing="playing",v.Stopped="stopped",v),iC=((_={}).Bounce="bounce",_.Normal="normal",_);function iT(){if(!this.shadow)return;let t=this.shadow.querySelector("slot[name=controls]");if(!t)return;if(!this.controls){t.innerHTML="";return}t.innerHTML=`<div class="lottie-controls toolbar ${this.playerState===iP.Error?"has-error":""}" aria-label="Lottie Animation controls"><button class="togglePlay" data-active="false" tabindex="0" aria-label="Toggle Play/Pause"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg></button> <button class="stop" data-active="true" tabindex="0" aria-label="Stop"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M6 6h12v12H6V6z"/></svg></button> <button class="prev" tabindex="0" aria-label="Previous animation" hidden><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.9 18.2 8.1 12l9.8-6.2v12.4zm-10.3 0H6.1V5.8h1.5v12.4z"/></svg></button> <button class="next" tabindex="0" aria-label="Next animation" hidden><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="m6.1 5.8 9.8 6.2-9.8 6.2V5.8zM16.4 5.8h1.5v12.4h-1.5z"/></svg></button><form class="progress-container${this.simple?" simple":""}"><input class="seeker" type="range" min="0" max="100" step="1" value="${this._seeker.toString()}" aria-valuemin="0" aria-valuemax="100" role="slider" aria-valuenow="${this._seeker.toString()}" tabindex="0" aria-label="Slider for search"><progress max="100" value="${this._seeker}"></progress></form>${this.simple?"":`<button class="toggleLoop" data-active="${this.loop}" tabindex="0" aria-label="Toggle loop"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"/></svg></button> <button class="toggleBoomerang" data-active="${this.mode===iC.Bounce}" aria-label="Toggle boomerang" tabindex="0"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="m11.8 13.2-.3.3c-.5.5-1.1 1.1-1.7 1.5-.5.4-1 .6-1.5.8-.5.2-1.1.3-1.6.3s-1-.1-1.5-.3c-.6-.2-1-.5-1.4-1-.5-.6-.8-1.2-.9-1.9-.2-.9-.1-1.8.3-2.6.3-.7.8-1.2 1.3-1.6.3-.2.6-.4 1-.5.2-.2.5-.2.8-.3.3 0 .7-.1 1 0 .3 0 .6.1.9.2.9.3 1.7.9 2.4 1.5.4.4.8.7 1.1 1.1l.1.1.4-.4c.6-.6 1.2-1.2 1.9-1.6.5-.3 1-.6 1.5-.7.4-.1.7-.2 1-.2h.9c1 .1 1.9.5 2.6 1.4.4.5.7 1.1.8 1.8.2.9.1 1.7-.2 2.5-.4.9-1 1.5-1.8 2-.4.2-.7.4-1.1.4-.4.1-.8.1-1.2.1-.5 0-.9-.1-1.3-.3-.8-.3-1.5-.9-2.1-1.5-.4-.4-.8-.7-1.1-1.1h-.3zm-1.1-1.1c-.1-.1-.1-.1 0 0-.3-.3-.6-.6-.8-.9-.5-.5-1-.9-1.6-1.2-.4-.3-.8-.4-1.3-.4-.4 0-.8 0-1.1.2-.5.2-.9.6-1.1 1-.2.3-.3.7-.3 1.1 0 .3 0 .6.1.9.1.5.4.9.8 1.2.5.4 1.1.5 1.7.5.5 0 1-.2 1.5-.5.6-.4 1.1-.8 1.6-1.3.1-.3.3-.5.5-.6zM13 12c.5.5 1 1 1.5 1.4.5.5 1.1.9 1.9 1 .4.1.8 0 1.2-.1.3-.1.6-.3.9-.5.4-.4.7-.9.8-1.4.1-.5 0-.9-.1-1.4-.3-.8-.8-1.2-1.7-1.4-.4-.1-.8-.1-1.2 0-.5.1-1 .4-1.4.7-.5.4-1 .8-1.4 1.2-.2.2-.4.3-.5.5z"/></svg></button> <button class="toggleSettings" aria-label="Settings" aria-haspopup="true" aria-expanded="${!!this._isSettingsOpen}" aria-controls="${this._identifier}-settings"><svg width="24" height="24" aria-hidden="true" focusable="false"><circle cx="12" cy="5.4" r="2.5"/><circle cx="12" cy="12" r="2.5"/><circle cx="12" cy="18.6" r="2.5"/></svg></button><div id="${this._identifier}-settings" class="popover" hidden><button class="snapshot" aria-label="Download still image" tabindex="0"><svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M16.8 10.8 12 15.6l-4.8-4.8h3V3.6h3.6v7.2h3zM12 15.6H3v4.8h18v-4.8h-9zm7.8 2.4h-2.4v-1.2h2.4V18z"/></svg> Download still image</button></div>`}</div>`;let e=this.shadow.querySelector(".togglePlay");e instanceof HTMLButtonElement&&(e.onclick=this.togglePlay);let s=this.shadow.querySelector(".stop");s instanceof HTMLButtonElement&&(s.onclick=this.stop);let i=this.shadow.querySelector(".prev");i instanceof HTMLButtonElement&&(i.onclick=this.prev);let r=this.shadow.querySelector(".next");r instanceof HTMLButtonElement&&(r.onclick=this.next);let a=this.shadow.querySelector(".seeker");if(a instanceof HTMLInputElement&&(a.onchange=this._handleSeekChange,a.onmousedown=this._freeze),!this.simple){let t=this.shadow.querySelector(".toggleLoop");t instanceof HTMLButtonElement&&(t.onclick=this.toggleLoop);let e=this.shadow.querySelector(".toggleBoomerang");e instanceof HTMLButtonElement&&(e.onclick=this.toggleBoomerang);let s=this.shadow.querySelector(".snapshot");s instanceof HTMLButtonElement&&(s.onclick=()=>this.snapshot(!0));let i=this.shadow.querySelector(".toggleSettings");i instanceof HTMLButtonElement&&(i.onclick=this._handleSettingsClick,i.onblur=this._handleBlur)}}async function iD(){if(!this.shadow)return;let t=this.description?`aria-label="${this.description}`:"";this.template.innerHTML=`<div class="animation-container main" data-controls="${this.controls??!1}" lang="${this.description?document.documentElement.lang:"en"}" ${t} data-loaded="${this._playerState.loaded}"><figure class="animation" style="background:${this.background}">${this.playerState===iP.Error?`<div class="error"><svg preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="1920" height="1080" viewBox="0 0 1920 1080"><path fill="#fff" d="M0 0h1920v1080H0z"/><path fill="#3a6d8b" d="M1190.2 531 1007 212.4c-22-38.2-77.2-38-98.8.5L729.5 531.3c-21.3 37.9 6.1 84.6 49.5 84.6l361.9.3c43.7 0 71.1-47.3 49.3-85.2zM937.3 288.7c.2-7.5 3.3-23.9 23.2-23.9 16.3 0 23 16.1 23 23.5 0 55.3-10.7 197.2-12.2 214.5-.1 1-.9 1.7-1.9 1.7h-18.3c-1 0-1.8-.7-1.9-1.7-1.4-17.5-13.4-162.9-11.9-214.1zm24.2 283.8c-13.1 0-23.7-10.6-23.7-23.7s10.6-23.7 23.7-23.7 23.7 10.6 23.7 23.7-10.6 23.7-23.7 23.7zM722.1 644h112.6v34.4h-70.4V698h58.8v31.7h-58.8v22.6h72.4v36.2H722.1V644zm162 57.1h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5h36.4v15.6zm78.9 0h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5H963v15.6zm39.5 36.2c0-31.3 22.2-54.8 56.6-54.8 34.4 0 56.2 23.5 56.2 54.8s-21.8 54.6-56.2 54.6c-34.4-.1-56.6-23.3-56.6-54.6zm74 0c0-17.4-6.1-29.1-17.8-29.1-11.7 0-17.4 11.7-17.4 29.1 0 17.4 5.7 29.1 17.4 29.1s17.8-11.8 17.8-29.1zm83.1-36.2h.6c8.3-12.9 18.2-17.8 31.3-17.8 3 0 5.1.4 6.3 1v32.6h-.8c-22.4-3.8-35.6 6.3-35.6 29.5v42.3h-38.2V685.5h36.4v15.6z"/><path fill="none" d="M718.9 807.7h645v285.4h-645z"/><text fill="#3a6d8b" style="text-align:center;position:absolute;left:100%;font-size:47px;font-family:system-ui,-apple-system,BlinkMacSystemFont,'.SFNSText-Regular',sans-serif" x="50%" y="848.017" text-anchor="middle">${this._errorMessage}</text></svg></div>`:""}</figure><slot name="controls"></slot></div>`,this.shadow.adoptedStyleSheets=[await rL.styles()],this.shadow.appendChild(this.template.content.cloneNode(!0))}var iI={},iF=function(t,e,s,i,r){var a=new Worker(iI[e]||(iI[e]=URL.createObjectURL(new Blob([t+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(t){var e=t.data,s=e.$e$;if(s){var i=Error(s[0]);i.code=s[1],i.stack=s[2],r(i,null)}else r(null,e)},a.postMessage(s,i),a},iN=Uint8Array,iL=Uint16Array,i$=Int32Array,iV=new iN([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iz=new iN([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iR=new iN([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iO=function(t,e){for(var s=new iL(31),i=0;i<31;++i)s[i]=e+=1<<t[i-1];for(var r=new i$(s[30]),i=1;i<30;++i)for(var a=s[i];a<s[i+1];++a)r[a]=a-s[i]<<5|i;return{b:s,r:r}},iB=iO(iV,2),iq=iB.b,ij=iB.r;iq[28]=258,ij[258]=28;for(var iG=iO(iz,0).b,iH=new iL(32768),iW=0;iW<32768;++iW){var iU=(43690&iW)>>1|(21845&iW)<<1;iU=(61680&(iU=(52428&iU)>>2|(13107&iU)<<2))>>4|(3855&iU)<<4,iH[iW]=((65280&iU)>>8|(255&iU)<<8)>>1}for(var iY=function(t,e,s){for(var i,r=t.length,a=0,n=new iL(e);a<r;++a)t[a]&&++n[t[a]-1];var o=new iL(e);for(a=1;a<e;++a)o[a]=o[a-1]+n[a-1]<<1;if(s){i=new iL(1<<e);var h=15-e;for(a=0;a<r;++a)if(t[a])for(var l=a<<4|t[a],m=e-t[a],p=o[t[a]-1]++<<m,d=p|(1<<m)-1;p<=d;++p)i[iH[p]>>h]=l}else for(a=0,i=new iL(r);a<r;++a)t[a]&&(i[a]=iH[o[t[a]-1]++]>>15-t[a]);return i},iX=new iN(288),iW=0;iW<144;++iW)iX[iW]=8;for(var iW=144;iW<256;++iW)iX[iW]=9;for(var iW=256;iW<280;++iW)iX[iW]=7;for(var iW=280;iW<288;++iW)iX[iW]=8;for(var iJ=new iN(32),iW=0;iW<32;++iW)iJ[iW]=5;var iZ=iY(iX,9,1),iK=iY(iJ,5,1),iQ=function(t){for(var e=t[0],s=1;s<t.length;++s)t[s]>e&&(e=t[s]);return e},i0=function(t,e,s){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(7&e)&s},i1=function(t,e){var s=e/8|0;return(t[s]|t[s+1]<<8|t[s+2]<<16)>>(7&e)},i2=function(t){return(t+7)/8|0},i3=function(t,e,s){return(null==e||e<0)&&(e=0),(null==s||s>t.length)&&(s=t.length),new iN(t.subarray(e,s))},i5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],i4=function(t,e,s){var i=Error(e||i5[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,i4),!s)throw i;return i},i6=function(t,e,s,i){var r=t.length,a=i?i.length:0;if(!r||e.f&&!e.l)return s||new iN(0);var n=!s,o=n||2!=e.i,h=e.i;n&&(s=new iN(3*r));var l=function(t){var e=s.length;if(t>e){var i=new iN(Math.max(2*e,t));i.set(s),s=i}},m=e.f||0,p=e.p||0,d=e.b||0,c=e.l,u=e.d,f=e.m,g=e.n,y=8*r;do{if(!c){m=i0(t,p,1);var b=i0(t,p+1,3);if(p+=3,b)if(1==b)c=iZ,u=iK,f=9,g=5;else if(2==b){var v=i0(t,p,31)+257,_=i0(t,p+10,15)+4,w=v+i0(t,p+5,31)+1;p+=14;for(var S=new iN(w),k=new iN(19),E=0;E<_;++E)k[iR[E]]=i0(t,p+3*E,7);p+=3*_;for(var x=iQ(k),A=(1<<x)-1,M=iY(k,x,1),E=0;E<w;){var P=M[i0(t,p,A)];p+=15&P;var C=P>>4;if(C<16)S[E++]=C;else{var T=0,D=0;for(16==C?(D=3+i0(t,p,3),p+=2,T=S[E-1]):17==C?(D=3+i0(t,p,7),p+=3):18==C&&(D=11+i0(t,p,127),p+=7);D--;)S[E++]=T}}var I=S.subarray(0,v),F=S.subarray(v);f=iQ(I),g=iQ(F),c=iY(I,f,1),u=iY(F,g,1)}else i4(1);else{var C=i2(p)+4,N=t[C-4]|t[C-3]<<8,L=C+N;if(L>r){h&&i4(0);break}o&&l(d+N),s.set(t.subarray(C,L),d),e.b=d+=N,e.p=p=8*L,e.f=m;continue}if(p>y){h&&i4(0);break}}o&&l(d+131072);for(var $=(1<<f)-1,V=(1<<g)-1,z=p;;z=p){var T=c[i1(t,p)&$],R=T>>4;if((p+=15&T)>y){h&&i4(0);break}if(T||i4(2),R<256)s[d++]=R;else if(256==R){z=p,c=null;break}else{var O=R-254;if(R>264){var E=R-257,B=iV[E];O=i0(t,p,(1<<B)-1)+iq[E],p+=B}var q=u[i1(t,p)&V],j=q>>4;q||i4(3),p+=15&q;var F=iG[j];if(j>3){var B=iz[j];F+=i1(t,p)&(1<<B)-1,p+=B}if(p>y){h&&i4(0);break}o&&l(d+131072);var G=d+O;if(d<F){var H=a-F,W=Math.min(F,G);for(H+d<0&&i4(3);d<W;++d)s[d]=i[H+d]}for(;d<G;++d)s[d]=s[d-F]}}e.l=c,e.p=z,e.b=d,e.f=m,c&&(m=1,e.m=f,e.d=u,e.n=g)}while(!m);return d!=s.length&&n?i3(s,0,d):s.subarray(0,d)},i8=new iN(0),i9=function(t,e){var s={};for(var i in t)s[i]=t[i];for(var i in e)s[i]=e[i];return s},i7=function(t,e,s){for(var i=t(),r=t.toString(),a=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),n=0;n<i.length;++n){var o=i[n],h=a[n];if("function"==typeof o){e+=";"+h+"=";var l=o.toString();if(o.prototype)if(-1!=l.indexOf("[native code]")){var m=l.indexOf(" ",8)+1;e+=l.slice(m,l.indexOf("(",m))}else for(var p in e+=l,o.prototype)e+=";"+h+".prototype."+p+"="+o.prototype[p].toString();else e+=l}else s[h]=o}return e},rt=[],re=function(t){var e=[];for(var s in t)t[s].buffer&&e.push((t[s]=new t[s].constructor(t[s])).buffer);return e},rs=function(t,e,s,i){if(!rt[s]){for(var r="",a={},n=t.length-1,o=0;o<n;++o)r=i7(t[o],r,a);rt[s]={c:i7(t[n],r,a),e:a}}var h=i9({},rt[s].e);return iF(rt[s].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",s,h,re(h),i)},ri=function(){return[iN,iL,i$,iV,iz,iR,iq,iG,iZ,iK,iH,i5,iY,iQ,i0,i1,i2,i3,i4,i6,rm,rr,ra]},rr=function(t){return postMessage(t,[t.buffer])},ra=function(t){return t&&{out:t.size&&new iN(t.size),dictionary:t.dictionary}},rn=function(t,e,s,i,r,a){var n=rs(s,i,r,function(t,e){n.terminate(),a(t,e)});return n.postMessage([t,e],e.consume?[t.buffer]:[]),function(){n.terminate()}},ro=function(t,e){return t[e]|t[e+1]<<8},rh=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},rl=function(t,e){return rh(t,e)+0x100000000*rh(t,e+4)};function rm(t,e){return i6(t,{i:2},e&&e.out,e&&e.dictionary)}var rp="undefined"!=typeof TextDecoder&&new TextDecoder;try{rp.decode(i8,{stream:!0})}catch(t){}var rd=function(t){for(var e="",s=0;;){var i=t[s++],r=(i>127)+(i>223)+(i>239);if(s+r>t.length)return{s:e,r:i3(t,s-1)};r?3==r?e+=String.fromCharCode(55296|(i=((15&i)<<18|(63&t[s++])<<12|(63&t[s++])<<6|63&t[s++])-65536)>>10,56320|1023&i):1&r?e+=String.fromCharCode((31&i)<<6|63&t[s++]):e+=String.fromCharCode((15&i)<<12|(63&t[s++])<<6|63&t[s++]):e+=String.fromCharCode(i)}};function rc(t,e){if(e){for(var s="",i=0;i<t.length;i+=16384)s+=String.fromCharCode.apply(null,t.subarray(i,i+16384));return s}if(rp)return rp.decode(t);var r=rd(t),a=r.s,s=r.r;return s.length&&i4(8),a}var ru=function(t,e,s){var i=ro(t,e+28),r=rc(t.subarray(e+46,e+46+i),!(2048&ro(t,e+8))),a=e+46+i,n=rh(t,e+20),o=s&&0xffffffff==n?rf(t,a):[n,rh(t,e+24),rh(t,e+42)],h=o[0],l=o[1],m=o[2];return[ro(t,e+10),h,l,r,a+ro(t,e+30)+ro(t,e+32),m]},rf=function(t,e){for(;1!=ro(t,e);e+=4+ro(t,e+2));return[rl(t,e+12),rl(t,e+4),rl(t,e+20)]},rg="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(t){t()};let ry=t=>{let e=t.split("/").pop()?.lastIndexOf(".");return(e??0)>1&&t.length-1>(e??0)},rb=t=>{if("string"==typeof t&&t&&ry(t))return t.split(".").pop()?.toLowerCase()},rv=(t="")=>{switch(t){case"svg":case"svg+xml":return"image/svg+xml";case"jpg":case"jpeg":return"image/jpeg";case"png":case"gif":case"webp":case"avif":return`image/${t}`;case"mp3":case"mpeg":case"wav":return`audio/${t}`;default:return""}},r_=t=>!("h"in t)&&!("w"in t)&&"p"in t&&"e"in t&&"u"in t&&"id"in t,rw=t=>t.slice(Math.max(0,t.indexOf(",")+1)),rS=t=>!!t&&/^(?:[0-9a-z+/]{4})*(?:[0-9a-z+/]{2}==|[0-9a-z+/]{3}=)?$/i.test(rw(t)),rk=t=>"w"in t&&"h"in t&&!("xt"in t)&&"p"in t,rE=async(t,e)=>{if(!Array.isArray(e))return;let s=[],{length:i}=e;for(let r=0;r<i;r++){if(!r_(e[r])&&!rk(e[r]))continue;let i=rk(e[r])?"images":"audio",n=t?.[`${i}/${e[r].p}`];n&&s.push(new Promise(t=>{let s;if(a())s=Buffer.from(n).toString("base64");else{let t="",{length:e}=n;for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);s=btoa(t)}e[r].p=e[r].p?.startsWith("data:")||rS(e[r].p)?e[r].p:`data:${rv(rb(e[r].p))};base64,${s}`,e[r].e=1,e[r].u="",t()}))}await Promise.all(s)},rx=async t=>{let e=new Uint8Array(await t.arrayBuffer());return await new Promise((t,s)=>{!function(t,e,s){s||(s=e,e={}),"function"!=typeof s&&i4(7);var i=[],r=function(){for(var t=0;t<i.length;++t)i[t]()},a={},n=function(t,e){rg(function(){s(t,e)})};rg(function(){n=s});for(var o=t.length-22;0x6054b50!=rh(t,o);--o)if(!o||t.length-o>65558)return n(i4(13,0,1),null),r;var h=ro(t,o+8);if(h){var l=h,m=rh(t,o+16),p=0xffffffff==m||65535==l;if(p){var d=rh(t,o-12);(p=0x6064b50==rh(t,d))&&(l=h=rh(t,d+32),m=rh(t,d+48))}for(var c=e&&e.filter,u=0;u<l;++u)!function(e){var s=ru(t,m,p),o=s[0],l=s[1],d=s[2],u=s[3],f=s[4],g=s[5],y=g+30+ro(t,g+26)+ro(t,g+28);m=f;var b=function(t,e){t?(r(),n(t,null)):(e&&(a[u]=e),--h||n(null,a))};if(!c||c({name:u,size:l,originalSize:d,compression:o}))if(o)if(8==o){var v,_,w=t.subarray(y,y+l);if(d<524288||l>.8*d)try{b(null,rm(w,{out:new iN(d)}))}catch(t){b(t,null)}else i.push((v={size:d},(_=b)||(_=v,v={}),"function"!=typeof _&&i4(7),rn(w,v,[ri],function(t){return rr(rm(t.data[0],ra(t.data[1])))},1,_)))}else b(i4(14,"unknown compression type "+o,1),null);else b(null,i3(t,y,y+l));else b(null,null)}(0)}else n(null,{})}(e,(e,i)=>{e&&s(e),t(i)})})},rA=t=>{let e=JSON.parse(rc(t["manifest.json"],!1));if(!("animations"in e))throw Error("Manifest not found");if(0===e.animations.length)throw Error("No animations listed in manifest");return e},rM=t=>t.replaceAll(RegExp(/"""/,"g"),'""').replaceAll(/(["'])(.*?)\1/g,(t,e,s)=>{let i=s.replaceAll(/[^\w\s.#]/g,"");return`${e}${i}${e}`}),rP=async t=>{let e=await rx(t),s=rA(e),i=[],r=[],{length:a}=s.animations,n="animations";e[`a/${s.animations[0].id}.json`]&&(n="a");for(let t=0;t<a;t++){let a=JSON.parse(rM(rc(e[`${n}/${s.animations[t].id}.json`])));r.push(rE(e,a.assets)),i.push(a)}return await Promise.all(r),{data:i,manifest:s}},rC=t=>{switch(t){case iM.Contain:case iM.ScaleDown:return S.Contain;case iM.Cover:return S.Cover;case iM.Fill:return S.Initial;case iM.None:return S.None;default:return S.Contain}},rT=(t,e)=>{let s=new Blob([t],{type:e?.mimeType}),i=e?.name||n(),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=i,a.hidden=!0,document.body.appendChild(a),a.click(),setTimeout(()=>{a.remove(),URL.revokeObjectURL(r)},1e3)},rD=t=>((t??0)+1).toString().padStart(3,"0"),rI=t=>{let e={message:"Unknown error",status:a()?500:400};return t&&"object"==typeof t&&("message"in t&&"string"==typeof t.message&&(e.message=t.message),"status"in t&&(e.status=Number(t.status))),e},rF=async t=>{try{if(!t||"string"!=typeof t&&"object"!=typeof t)throw Error("Broken file or invalid file format");if("string"!=typeof t)return{animations:Array.isArray(t)?t:[t],isDotLottie:!1,manifest:null};let e=await fetch(t);if(!e.ok)throw Error(e.statusText);let s=!0,i=e.headers.get("content-type");if("application/zip+dotlottie"===i&&(s=!1),s){let s=rb(t);if("json"===s)return{animations:[await e.json()],isDotLottie:!1,manifest:null};let i=await e.clone().text();try{return{animations:[JSON.parse(i)],isDotLottie:!1,manifest:null}}catch(t){}}let{data:r,manifest:a}=await rP(e);return{animations:r,isDotLottie:!0,manifest:a}}catch(t){return console.error(` ${rI(t).message}`),{animations:null,isDotLottie:!1,manifest:null}}},rN=(t,e)=>(rb(t),`${t.replace(/\.[^.]*$/,"").replaceAll(/\W+/g,"")}`.toLowerCase());class rL extends iA{static get observedAttributes(){return["animateOnScroll","autoplay","controls","direction","hover","loop","mode","speed","src","subframe"]}static get observedProperties(){return["playerState","_isSettingsOpen","_seeker","_currentAnimation","_animations"]}static get styles(){return async()=>{let t=new CSSStyleSheet;return await t.replace("* {\n  box-sizing: border-box;\n}\n\n:host {\n  --lottie-player-toolbar-height: 35px;\n  --lottie-player-toolbar-background-color: #fff;\n  --lottie-player-toolbar-icon-color: #000;\n  --lottie-player-toolbar-icon-hover-color: #000;\n  --lottie-player-toolbar-icon-active-color: #4285f4;\n  --lottie-player-seeker-track-color: rgb(0 0 0 / 20%);\n  --lottie-player-seeker-thumb-color: #4285f4;\n  --lottie-player-seeker-display: block;\n\n  width: 100%;\n  height: 100%;\n\n  &:not([hidden]) {\n    display: block;\n  }\n\n  .main {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  .animation {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    margin: 0;\n    padding: 0;\n  }\n\n  [data-controls='true'] .animation {\n    height: calc(100% - 35px);\n  }\n\n  .animation-container {\n    position: relative;\n  }\n\n  .popover {\n    position: absolute;\n    right: 5px;\n    bottom: 40px;\n    background-color: var(--lottie-player-toolbar-background-color);\n    border-radius: 5px;\n    padding: 10px 15px;\n    border: solid 2px var(--lottie-player-toolbar-icon-color);\n    animation: fade-in 0.2s ease-in-out;\n\n    &::before {\n      content: '';\n      right: 10px;\n      border: 7px solid transparent;\n      margin-right: -7px;\n      height: 0;\n      width: 0;\n      position: absolute;\n      pointer-events: none;\n      top: 100%;\n      border-top-color: var(--lottie-player-toolbar-icon-color);\n    }\n  }\n\n  .error {\n    display: flex;\n    margin: auto;\n    justify-content: center;\n    height: 100%;\n    align-items: center;\n\n    & svg {\n      width: 100%;\n      height: auto;\n    }\n  }\n\n  .toolbar {\n    display: flex;\n    place-items: center center;\n    background: var(--lottie-player-toolbar-background-color);\n    margin: 0;\n    height: 35px;\n    padding: 5px;\n    border-radius: 5px;\n    gap: 5px;\n\n    &.has-error {\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n    & button {\n      cursor: pointer;\n      fill: var(--lottie-player-toolbar-icon-color);\n      color: var(--lottie-player-toolbar-icon-color);\n      background: none;\n      border: 0;\n      padding: 0;\n      outline: 0;\n      height: 100%;\n      margin: 0;\n      align-items: center;\n      gap: 5px;\n      opacity: 0.9;\n\n      &:not([hidden]) {\n        display: flex;\n      }\n\n      &:hover {\n        opacity: 1;\n      }\n\n      &[data-active='true'] {\n        opacity: 1;\n        fill: var(--lottie-player-toolbar-icon-active-color);\n      }\n\n      &:disabled {\n        opacity: 0.5;\n      }\n\n      &:focus {\n        outline: 0;\n      }\n\n      & svg {\n        pointer-events: none;\n\n        & > * {\n          fill: inherit;\n        }\n      }\n\n      &.disabled svg {\n        display: none;\n      }\n    }\n  }\n\n  .progress-container {\n    position: relative;\n    width: 100%;\n\n    &.simple {\n      margin-right: 12px;\n    }\n  }\n\n  .seeker {\n    appearance: none;\n    outline: none;\n    width: 100%;\n    height: 20px;\n    border-radius: 3px;\n    border: 0;\n    cursor: pointer;\n    background-color: transparent;\n\n    display: var(--lottie-player-seeker-display);\n    color: var(--lottie-player-seeker-thumb-color);\n    margin: 0;\n    padding: 7.5px 0;\n    position: relative;\n    z-index: 1;\n\n    &::-webkit-slider-runnable-track,\n    &::-webkit-slider-thumb {\n      appearance: none;\n      outline: none;\n    }\n\n    &::-webkit-slider-thumb {\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      border: 0;\n      background-color: var(--lottie-player-seeker-thumb-color);\n      cursor: pointer;\n      -webkit-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-webkit-slider-thumb,\n    &:focus::-webkit-slider-thumb {\n      transform: scale(1);\n    }\n\n    &::-moz-range-progress {\n      background-color: var(--lottie-player-seeker-thumb-color);\n      height: 5px;\n      border-radius: 3px;\n    }\n\n    &::-moz-range-thumb {\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      background-color: var(--lottie-player-seeker-thumb-color);\n      border: 0;\n      cursor: pointer;\n      -moz-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-moz-range-thumb,\n    &:focus::-moz-range-thumb {\n      transform: scale(1);\n    }\n\n    &::-ms-track {\n      width: 100%;\n      height: 5px;\n      cursor: pointer;\n      background: transparent;\n      border-color: transparent;\n      color: transparent;\n    }\n\n    &::-ms-fill-upper {\n      background: var(--lottie-player-seeker-track-color);\n      border-radius: 3px;\n    }\n\n    &::-ms-fill-lower {\n      background-color: var(--lottie-player-seeker-thumb-color);\n      border-radius: 3px;\n    }\n\n    &::-ms-thumb {\n      border: 0;\n      height: 15px;\n      width: 15px;\n      border-radius: 50%;\n      background: var(--lottie-player-seeker-thumb-color);\n      cursor: pointer;\n      -ms-transition: transform 0.2s ease-in-out;\n      transition: transform 0.2s ease-in-out;\n      transform: scale(0);\n    }\n\n    &:hover::-ms-thumb {\n      transform: scale(1);\n    }\n\n    &:focus {\n      &::-ms-thumb {\n        transform: scale(1);\n      }\n\n      &::-ms-fill-lower,\n      &::-ms-fill-upper {\n        background: var(--lottie-player-seeker-track-color);\n      }\n    }\n  }\n\n  & progress {\n    appearance: none;\n    outline: none;\n    position: absolute;\n    width: 100%;\n    height: 5px;\n    border-radius: 3px;\n    border: 0;\n    top: 0;\n    left: 0;\n    margin: 7.5px 0;\n    background-color: var(--lottie-player-seeker-track-color);\n    pointer-events: none;\n\n    &::-webkit-progress-inner-element {\n      border-radius: 3px;\n      overflow: hidden;\n    }\n\n    &::-webkit-slider-runnable-track {\n      background-color: transparent;\n    }\n\n    &::-webkit-progress-value {\n      background-color: var(--lottie-player-seeker-thumb-color);\n    }\n  }\n\n  & *::-moz-progress-bar {\n    background-color: var(--lottie-player-seeker-thumb-color);\n  }\n}\n\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  :host {\n    --lottie-player-toolbar-background-color: #000;\n    --lottie-player-toolbar-icon-color: #fff;\n    --lottie-player-toolbar-icon-hover-color: #fff;\n    --lottie-player-seeker-track-color: rgb(255 255 255 / 60%);\n  }\n}\n"),t}}set animateOnScroll(t){this.setAttribute("animateOnScroll",(!!t).toString())}get animateOnScroll(){let t=this.getAttribute("animateOnScroll");return"true"===t||""===t||"1"===t}set autoplay(t){this.setAttribute("autoplay",(!!t).toString())}get autoplay(){let t=this.getAttribute("autoplay");return"true"===t||""===t||"1"===t}set background(t){this.setAttribute("background",t)}get background(){return this.getAttribute("background")||"transparent"}set controls(t){this.setAttribute("controls",(!!t).toString())}get controls(){let t=this.getAttribute("controls");return"true"===t||""===t||"1"===t}set count(t){this.setAttribute("count",t.toString())}get count(){let t=this.getAttribute("count");return t?Number(t):0}set description(t){t&&this.setAttribute("description",t)}get description(){return this.getAttribute("description")}set direction(t){this.setAttribute("direction",t.toString())}get direction(){let t=Number(this.getAttribute("direction"));return -1===t?t:1}set hover(t){this.setAttribute("hover",t.toString())}get hover(){let t=this.getAttribute("hover");return"true"===t||""===t||"1"===t}set intermission(t){this.setAttribute("intermission",t.toString())}get intermission(){let t=Number(this.getAttribute("intermission"));return isNaN(t)?0:t}set loop(t){this.setAttribute("loop",(!!t).toString())}get loop(){let t=this.getAttribute("loop");return"true"===t||""===t||"1"===t}set mode(t){this.setAttribute("mode",t.toString())}get mode(){let t=this.getAttribute("mode");return t===iC.Bounce?t:iC.Normal}set objectfit(t){this.setAttribute("objectfit",t)}get objectfit(){let t=this.getAttribute("objectfit");return t&&Object.values(iM).includes(t)?t:iM.Contain}set preserveAspectRatio(t){this.setAttribute("preserveAspectRatio",t||S.Contain)}get preserveAspectRatio(){let t=this.getAttribute("preserveAspectRatio");return t&&Object.values(S).includes(t)?t:null}set simple(t){this.setAttribute("simple",t.toString())}get simple(){let t=this.getAttribute("simple");return"true"===t||""===t||"1"===t}set speed(t){this.setAttribute("speed",t.toString())}get speed(){let t=this.getAttribute("speed");return null===t||isNaN(Number(t))?1:Number(t)}set src(t){this.setAttribute("src",t||"")}get src(){return this.getAttribute("src")}set subframe(t){this.setAttribute("subframe",(!!t).toString())}get subframe(){let t=this.getAttribute("subframe");return"true"===t||""===t||"1"===t}constructor(){super(),this.playerState=iP.Loading,this._container=null,this._errorMessage="Something went wrong",this._identifier=this.id||n(),this._isSettingsOpen=!1,this._playerState={count:0,loaded:!1,prev:iP.Loading,scrollTimeout:null,scrollY:0,visible:!1},this._render=iD,this._renderControls=iT,this._seeker=0,this._animations=[],this._currentAnimation=0,this._isBounce=!1,this._lottieInstance=null,this._multiAnimationSettings=[],this._handleSettingsClick=({target:t})=>{this._toggleSettings(),t instanceof HTMLElement&&t.focus()},this._complete=this._complete.bind(this),this._dataFailed=this._dataFailed.bind(this),this._dataReady=this._dataReady.bind(this),this._DOMLoaded=this._DOMLoaded.bind(this),this._enterFrame=this._enterFrame.bind(this),this._freeze=this._freeze.bind(this),this._handleBlur=this._handleBlur.bind(this),this._handleScroll=this._handleScroll.bind(this),this._handleSeekChange=this._handleSeekChange.bind(this),this._handleWindowBlur=this._handleWindowBlur.bind(this),this._loopComplete=this._loopComplete.bind(this),this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._switchInstance=this._switchInstance.bind(this),this.togglePlay=this.togglePlay.bind(this),this.stop=this.stop.bind(this),this.prev=this.prev.bind(this),this.next=this.next.bind(this),this.snapshot=this.snapshot.bind(this),this.toggleLoop=this.toggleLoop.bind(this),this.toggleBoomerang=this.toggleBoomerang.bind(this),this.destroy=this.destroy.bind(this),this.template=document.createElement("template"),this.shadow=this.attachShadow({mode:"open"})}async attributeChangedCallback(t,e,s){if(this._lottieInstance&&this.shadow){if("animateOnScroll"===t){if(""===s||s){this._lottieInstance.autoplay=!1,addEventListener("scroll",this._handleScroll,{capture:!0,passive:!0});return}removeEventListener("scroll",this._handleScroll,!0)}if("autoplay"===t){if(this.animateOnScroll)return;if(""===s||s)return void this.play();this.stop()}if("controls"===t&&this._renderControls(),"direction"===t){if(-1===Number(s))return void this.setDirection(-1);this.setDirection(1)}if("hover"===t&&this._container){if(""===s||s){this._container.addEventListener("mouseenter",this._mouseEnter),this._container.addEventListener("mouseleave",this._mouseLeave);return}this._container.removeEventListener("mouseenter",this._mouseEnter),this._container.removeEventListener("mouseleave",this._mouseLeave)}if("loop"===t){let t=this.shadow.querySelector(".toggleLoop");t instanceof HTMLButtonElement&&(t.dataset.active=s),this.setLoop(""===s||!!s)}if("mode"===t){let t=this.shadow.querySelector(".toggleBoomerang");t instanceof HTMLButtonElement&&(t.dataset.active=(s===iC.Bounce).toString()),this._isBounce=s===iC.Bounce}if("speed"===t){let t=Number(s);t&&!isNaN(t)&&this.setSpeed(t)}"src"===t&&await this.load(s),"subframe"===t&&this.setSubframe(""===s||!!s)}}async connectedCallback(){if(await super.connectedCallback(),await this._render(),!this.shadow)throw Error("Missing Shadow element");this._container=this.shadow.querySelector(".animation"),this._renderControls(),void 0!==document.hidden&&document.addEventListener("visibilitychange",this._onVisibilityChange),this._addIntersectionObserver(),await this.load(this.src),this.dispatchEvent(new CustomEvent(w.Rendered))}destroy(){this._lottieInstance?.destroy&&(this.playerState=iP.Destroyed,this._removeEventListeners(),this._lottieInstance.destroy(),this._lottieInstance=null,this.dispatchEvent(new CustomEvent(w.Destroyed)),this.remove(),document.removeEventListener("visibilitychange",this._onVisibilityChange))}disconnectedCallback(){this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=void 0),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.destroy()}getLottie(){return this._lottieInstance}getManifest(){return this._manifest}getMultiAnimationSettings(){return this._multiAnimationSettings}getSegment(){return this._segment}async load(t){if(!this.shadowRoot||!t)return;try{let{animations:e,manifest:s}=await rF(t);if(!e||e.some(t=>!this._isLottie(t)))throw Error("Broken or corrupted file");this._isBounce=this.mode===iC.Bounce,this._multiAnimationSettings.length>0&&this._multiAnimationSettings[this._currentAnimation]?.mode&&(this._isBounce=this._multiAnimationSettings[this._currentAnimation].mode===iC.Bounce),s?.animations.length===1&&(s.animations[0].autoplay=this.autoplay,s.animations[0].loop=this.loop),this._animations=e,this._manifest=s??{animations:[{autoplay:!this.animateOnScroll&&this.autoplay,direction:this.direction,id:n(),loop:this.loop,mode:this.mode,speed:this.speed}]},this._lottieInstance?.destroy(),this.playerState=iP.Stopped,!this.animateOnScroll&&(this.autoplay||this._multiAnimationSettings[this._currentAnimation]?.autoplay)&&(this.playerState=iP.Playing),a()||(this._lottieInstance=ik.loadAnimation({...this._getOptions(),animationData:e[this._currentAnimation]})),!this.animateOnScroll&&(this.autoplay||this._multiAnimationSettings[this._currentAnimation]?.autoplay)&&this.play()}catch(t){this._errorMessage=rI(t).message,this.playerState=iP.Error,this.dispatchEvent(new CustomEvent(w.Error)),console.error(t);return}this._addEventListeners();let e=this._multiAnimationSettings[this._currentAnimation]?.speed??this.speed,s=this._multiAnimationSettings[this._currentAnimation]?.direction??this.direction;this._lottieInstance?.setSpeed(e),this._lottieInstance?.setDirection(s),this._lottieInstance?.setSubframe(!!this.subframe),(this.autoplay||this.animateOnScroll)&&(-1===this.direction&&this.seek("99%"),"IntersectionObserver"in window||(this.animateOnScroll||this.play(),this._playerState.visible=!0),this._addIntersectionObserver())}next(){this._currentAnimation++,this._switchInstance()}pause(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.pause(),this.dispatchEvent(new CustomEvent(w.Pause))}finally{this.playerState=iP.Paused}}}play(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.play(),this.dispatchEvent(new CustomEvent(w.Play))}finally{this.playerState=iP.Playing}}}prev(){this._currentAnimation--,this._switchInstance(!0)}propertyChangedCallback(t,e,s){if(!this.shadow)return;let i=this.shadow.querySelector(".togglePlay"),r=this.shadow.querySelector(".stop"),a=this.shadow.querySelector(".prev"),n=this.shadow.querySelector(".next"),o=this.shadow.querySelector(".seeker"),h=this.shadow.querySelector("progress"),l=this.shadow.querySelector(".popover");i instanceof HTMLButtonElement&&r instanceof HTMLButtonElement&&n instanceof HTMLButtonElement&&a instanceof HTMLButtonElement&&o instanceof HTMLInputElement&&h instanceof HTMLProgressElement&&("playerState"===t&&(i.dataset.active=(s===iP.Playing||s===iP.Paused).toString(),r.dataset.active=(s===iP.Stopped).toString(),s===iP.Playing?i.innerHTML='<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"/></svg>':i.innerHTML='<svg width="24" height="24" aria-hidden="true" focusable="false"><path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z"/></svg>'),"_seeker"===t&&"number"==typeof s&&(o.value=s.toString(),o.ariaValueNow=s.toString(),h.value=s),"_animations"===t&&Array.isArray(s)&&this._currentAnimation+1<s.length&&(n.hidden=!1),"_currentAnimation"===t&&"number"==typeof s&&(s+1>=this._animations.length?n.hidden=!0:n.hidden=!1,s?a.hidden=!1:a.hidden=!0),"_isSettingsOpen"===t&&"boolean"==typeof s&&l instanceof HTMLDivElement&&(l.hidden=!s))}async reload(){this.src&&(this._lottieInstance?.destroy(),await this.load(this.src))}seek(t){if(!this._lottieInstance)return;let e=t.toString().match(/^(\d+)(%?)$/);if(!e)return;let s=Math.round("%"===e[2]?this._lottieInstance.totalFrames*Number(e[1])/100:Number(e[1]));if(this._seeker=s,this.playerState===iP.Playing||this.playerState===iP.Frozen&&this._playerState.prev===iP.Playing){this._lottieInstance.goToAndPlay(s,!0),this.playerState=iP.Playing;return}this._lottieInstance.goToAndStop(s,!0),this._lottieInstance.pause()}setCount(t){this.count=t}setDirection(t){this._lottieInstance&&this._lottieInstance.setDirection(t)}setLoop(t){this._lottieInstance&&this._lottieInstance.setLoop(t)}setMultiAnimationSettings(t){this._multiAnimationSettings=t}setSegment(t){this._segment=t}setSpeed(t=1){this._lottieInstance&&this._lottieInstance.setSpeed(t)}setSubframe(t){this._lottieInstance&&this._lottieInstance.setSubframe(t)}snapshot(t=!0,e="AM Lottie"){try{if(!this.shadowRoot)throw Error("Unknown error");let s=this.shadowRoot.querySelector(".animation svg");if(!s)throw Error("Could not retrieve animation from DOM");let i=s instanceof Node?new XMLSerializer().serializeToString(s):null;if(!i)throw Error("Could not serialize SVG element");return t&&rT(i,{mimeType:"image/svg+xml",name:`${rN(this.src||e)}-${rD(this._seeker)}.svg`}),i}catch(t){return console.error(t),null}}stop(){if(this._lottieInstance){this._playerState.prev=this.playerState,this._playerState.count=0;try{this._lottieInstance.stop(),this.dispatchEvent(new CustomEvent(w.Stop))}finally{this.playerState=iP.Stopped}}}toggleBoomerang(){let t=this._multiAnimationSettings[this._currentAnimation];if(void 0!==t.mode){if(t.mode===iC.Normal){t.mode=iC.Bounce,this._isBounce=!0;return}t.mode=iC.Normal,this._isBounce=!1;return}if(this.mode===iC.Normal){this.mode=iC.Bounce,this._isBounce=!0;return}this.mode=iC.Normal,this._isBounce=!1}toggleLoop(){let t=!this.loop;this.loop=t,this.setLoop(t)}togglePlay(){if(!this._lottieInstance)return;let{currentFrame:t,playDirection:e,totalFrames:s}=this._lottieInstance;if(this.playerState===iP.Playing)return void this.pause();if(this.playerState!==iP.Completed)return void this.play();if(this.playerState=iP.Playing,this._isBounce){this.setDirection(-1*e),this._lottieInstance.goToAndPlay(t,!0);return}if(-1===e)return void this._lottieInstance.goToAndPlay(s,!0);this._lottieInstance.goToAndPlay(0,!0)}_freeze(){if(this._lottieInstance){this._playerState.prev=this.playerState;try{this._lottieInstance.pause(),this.dispatchEvent(new CustomEvent(w.Freeze))}finally{this.playerState=iP.Frozen}}}_handleBlur(){setTimeout(()=>{this._toggleSettings(!1)},200)}_handleSeekChange({target:t}){!(!(t instanceof HTMLInputElement)||!this._lottieInstance||isNaN(Number(t.value)))&&this.seek(Math.round(Number(t.value)/100*this._lottieInstance.totalFrames))}_addEventListeners(){this._toggleEventListeners("add")}_addIntersectionObserver(){this._container&&!this._intersectionObserver&&"IntersectionObserver"in window&&(this._intersectionObserver=new IntersectionObserver(t=>{let{length:e}=t;for(let s=0;s<e;s++){if(!t[s].isIntersecting||document.hidden){this.playerState===iP.Playing&&this._freeze(),this._playerState.visible=!1;continue}this.animateOnScroll||this.playerState!==iP.Frozen||this.play(),this._playerState.scrollY||(this._playerState.scrollY=scrollY),this._playerState.visible=!0}}),this._intersectionObserver.observe(this._container))}_complete(){if(!this._lottieInstance)return;if(this._animations.length>1){if(this._multiAnimationSettings[this._currentAnimation+1]?.autoplay)return void this.next();if(this.loop&&this._currentAnimation===this._animations.length-1){this._currentAnimation=0,this._switchInstance();return}}let{currentFrame:t,totalFrames:e}=this._lottieInstance;this._seeker=Math.round(t/e*100),this.playerState=iP.Completed,this.dispatchEvent(new CustomEvent(w.Complete,{detail:{frame:t,seeker:this._seeker}}))}_dataFailed(){this.playerState=iP.Error,this.dispatchEvent(new CustomEvent(w.Error))}_dataReady(){this.dispatchEvent(new CustomEvent(w.Load))}_DOMLoaded(){this._playerState.loaded=!0,this.dispatchEvent(new CustomEvent(w.Ready))}_enterFrame(){if(!this._lottieInstance)return;let{currentFrame:t,totalFrames:e}=this._lottieInstance;this._seeker=Math.round(t/e*100),this.dispatchEvent(new CustomEvent(w.Frame,{detail:{frame:t,seeker:this._seeker}}))}_getOptions(){if(!this._container)throw Error("Container not rendered");let t=this.preserveAspectRatio??rC(this.objectfit),e=this._multiAnimationSettings.length>0?this._multiAnimationSettings[this._currentAnimation]:void 0,s=this._manifest?.animations[this._currentAnimation],i=!!this.loop;s?.loop!==void 0&&(i=!!s.loop),e?.loop!==void 0&&(i=!!e.loop);let r=!!this.autoplay;s?.autoplay!==void 0&&(r=!!s.autoplay),e?.autoplay!==void 0&&(r=!!e.autoplay),this.animateOnScroll&&(r=!1);let a=this._segment;return this._segment?.every(t=>t>0)&&(a=[this._segment[0]-1,this._segment[1]-1]),this._segment?.some(t=>t<0)&&(a=void 0),{autoplay:r,container:this._container,initialSegment:a,loop:i,renderer:k.SVG,rendererSettings:{hideOnTransparent:!0,imagePreserveAspectRatio:t,preserveAspectRatio:t,progressiveLoad:!0}}}_handleScroll(){if(this.animateOnScroll&&this._lottieInstance){if(a())return void console.warn("DotLottie: Scroll animations might not work properly in a Server Side Rendering context. Try to wrap this in a client component.");if(this._playerState.visible){this._playerState.scrollTimeout&&clearTimeout(this._playerState.scrollTimeout),this._playerState.scrollTimeout=setTimeout(()=>{this.playerState=iP.Paused},400);let t=Math.min(Math.max((scrollY>this._playerState.scrollY?scrollY-this._playerState.scrollY:this._playerState.scrollY-scrollY)/3,1),3*this._lottieInstance.totalFrames)/3;requestAnimationFrame(()=>{t<(this._lottieInstance?.totalFrames??0)?(this.playerState=iP.Playing,this._lottieInstance?.goToAndStop(t,!0)):this.playerState=iP.Paused})}}}_handleWindowBlur({type:t}){this.playerState===iP.Playing&&"blur"===t&&this._freeze(),"focus"===t&&setTimeout(()=>{this.playerState===iP.Frozen&&this.play()},100)}_isLottie(t){return["v","ip","op","layers","fr","w","h"].every(e=>Object.hasOwn(t,e))}_loopComplete(){if(!this._lottieInstance)return;let{playDirection:t,totalFrames:e}=this._lottieInstance,s=this._segment?this._segment[0]:0,i=this._segment?this._segment[0]:e;if(this.count&&(this._isBounce?this._playerState.count+=.5:this._playerState.count+=1,this._playerState.count>=this.count)){this.setLoop(!1),this.playerState=iP.Completed,this.dispatchEvent(new CustomEvent(w.Complete));return}return(this.dispatchEvent(new CustomEvent(w.Loop)),this._isBounce)?(this._lottieInstance.goToAndStop(-1===t?s:.99*i,!0),this._lottieInstance.setDirection(-1*t),setTimeout(()=>{this.animateOnScroll||this._lottieInstance?.play()},this.intermission)):(this._lottieInstance.goToAndStop(-1===t?.99*i:s,!0),setTimeout(()=>{this.animateOnScroll||this._lottieInstance?.play()},this.intermission))}_mouseEnter(){this.hover&&this.playerState!==iP.Playing&&this.play()}_mouseLeave(){this.hover&&this.playerState===iP.Playing&&this.stop()}_onVisibilityChange(){if(document.hidden&&this.playerState===iP.Playing)return void this._freeze();this.playerState===iP.Frozen&&this.play()}_removeEventListeners(){this._toggleEventListeners("remove")}_switchInstance(t=!1){if(this._animations[this._currentAnimation])try{if(this._lottieInstance?.destroy(),this._lottieInstance=ik.loadAnimation({...this._getOptions(),animationData:this._animations[this._currentAnimation]}),this._multiAnimationSettings[this._currentAnimation]?.mode&&(this._isBounce=this._multiAnimationSettings[this._currentAnimation].mode===iC.Bounce),this._removeEventListeners(),this._addEventListeners(),this.dispatchEvent(new CustomEvent(t?w.Previous:w.Next)),this._multiAnimationSettings[this._currentAnimation]?.autoplay??this.autoplay){if(this.animateOnScroll){this._lottieInstance.goToAndStop(0,!0),this.playerState=iP.Paused;return}this._lottieInstance.goToAndPlay(0,!0),this.playerState=iP.Playing;return}this._lottieInstance.goToAndStop(0,!0),this.playerState=iP.Stopped}catch(t){this._errorMessage=rI(t).message,this.playerState=iP.Error,this.dispatchEvent(new CustomEvent(w.Error))}}_toggleEventListeners(t){if(!this._lottieInstance)throw Error("No Lottie Instance");let e="add"===t?"addEventListener":"removeEventListener";this._lottieInstance[e]("enterFrame",this._enterFrame),this._lottieInstance[e]("complete",this._complete),this._lottieInstance[e]("loopComplete",this._loopComplete),this._lottieInstance[e]("DOMLoaded",this._DOMLoaded),this._lottieInstance[e]("data_ready",this._dataReady),this._lottieInstance[e]("data_failed",this._dataFailed),this._container&&this.hover&&(this._container[e]("mouseenter",this._mouseEnter),this._container[e]("mouseleave",this._mouseLeave)),window[e]("focus",this._handleWindowBlur,{capture:!1,passive:!0}),window[e]("blur",this._handleWindowBlur,{capture:!1,passive:!0}),this.animateOnScroll&&window[e]("scroll",this._handleScroll,{capture:!0,passive:!0})}_toggleSettings(t){if(void 0===t){this._isSettingsOpen=!this._isSettingsOpen;return}this._isSettingsOpen=t}}let r$="dotlottie-player";a()||(globalThis.dotLottiePlayer=()=>new rL,customElements.define(r$,rL)),t.PlayMode=iC,t.PlayerEvents=w,t.PlayerState=iP,t.default=rL,t.tagName=r$,Object.defineProperty(t,"__esModule",{value:!0})}(this["@aarsteinmedia/dotlottie-player-light"]=this["@aarsteinmedia/dotlottie-player-light"]||{});
